function Gd(e,t){for(var r=0;r<t.length;r++){const l=t[r];if(typeof l!="string"&&!Array.isArray(l)){for(const a in l)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(l,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>l[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lu={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),r0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),ji=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ou=Object.assign,su={};function dn(e,t,r){this.props=e,this.context=t,this.refs=su,this.updater=r||au}dn.prototype.isReactComponent={};dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iu(){}iu.prototype=dn.prototype;function Is(e,t,r){this.props=e,this.context=t,this.refs=su,this.updater=r||au}var Us=Is.prototype=new iu;Us.constructor=Is;ou(Us,dn.prototype);Us.isPureReactComponent=!0;var Oi=Array.isArray,cu=Object.prototype.hasOwnProperty,As={current:null},uu={key:!0,ref:!0,__self:!0,__source:!0};function mu(e,t,r){var l,a={},o=null,s=null;if(t!=null)for(l in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)cu.call(t,l)&&!uu.hasOwnProperty(l)&&(a[l]=t[l]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var c=Array(i),m=0;m<i;m++)c[m]=arguments[m+2];a.children=c}if(e&&e.defaultProps)for(l in i=e.defaultProps,i)a[l]===void 0&&(a[l]=i[l]);return{$$typeof:xl,type:e,key:o,ref:s,props:a,_owner:As.current}}function a0(e,t){return{$$typeof:xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function js(e){return typeof e=="object"&&e!==null&&e.$$typeof===xl}function o0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Di=/\/+/g;function lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o0(""+e.key):t.toString(36)}function Jl(e,t,r,l,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xl:case Qd:s=!0}}if(s)return s=e,a=a(s),e=l===""?"."+lo(s,0):l,Oi(a)?(r="",e!=null&&(r=e.replace(Di,"$&/")+"/"),Jl(a,t,r,"",function(m){return m})):a!=null&&(js(a)&&(a=a0(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Di,"$&/")+"/")+e)),t.push(a)),1;if(s=0,l=l===""?".":l+":",Oi(e))for(var i=0;i<e.length;i++){o=e[i];var c=l+lo(o,i);s+=Jl(o,t,r,c,a)}else if(c=l0(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=l+lo(o,i++),s+=Jl(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function _l(e,t,r){if(e==null)return e;var l=[],a=0;return Jl(e,l,"","",function(o){return t.call(r,o,a++)}),l}function s0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Xl={transition:null},i0={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:As};function du(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:_l,forEach:function(e,t,r){_l(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!js(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=dn;ne.Fragment=Kd;ne.Profiler=Jd;ne.PureComponent=Is;ne.StrictMode=Yd;ne.Suspense=t0;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;ne.act=du;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=ou({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=As.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)cu.call(t,c)&&!uu.hasOwnProperty(c)&&(l[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)l.children=r;else if(1<c){i=Array(c);for(var m=0;m<c;m++)i[m]=arguments[m+2];l.children=i}return{$$typeof:xl,type:e.type,key:a,ref:o,props:l,_owner:s}};ne.createContext=function(e){return e={$$typeof:Zd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xd,_context:e},e.Consumer=e};ne.createElement=mu;ne.createFactory=function(e){var t=mu.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:e0,render:e}};ne.isValidElement=js;ne.lazy=function(e){return{$$typeof:n0,_payload:{_status:-1,_result:e},_init:s0}};ne.memo=function(e,t){return{$$typeof:r0,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Xl.transition;Xl.transition={};try{e()}finally{Xl.transition=t}};ne.unstable_act=du;ne.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ne.useContext=function(e){return Ge.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ne.useId=function(){return Ge.current.useId()};ne.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};ne.useRef=function(e){return Ge.current.useRef(e)};ne.useState=function(e){return Ge.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return Ge.current.useTransition()};ne.version="18.3.1";lu.exports=ne;var f=lu.exports;const n=qd(f),c0=Gd({__proto__:null,default:n},[f]);var Do={},fu={exports:{}},ot={},pu={exports:{}},hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,K){var b=z.length;z.push(K);e:for(;0<b;){var I=b-1>>>1,B=z[I];if(0<a(B,K))z[I]=K,z[b]=B,b=I;else break e}}function r(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var K=z[0],b=z.pop();if(b!==K){z[0]=b;e:for(var I=0,B=z.length,le=B>>>1;I<le;){var ae=2*(I+1)-1,P=z[ae],O=ae+1,H=z[O];if(0>a(P,b))O<B&&0>a(H,P)?(z[I]=H,z[O]=b,I=O):(z[I]=P,z[ae]=b,I=ae);else if(O<B&&0>a(H,b))z[I]=H,z[O]=b,I=O;else break e}}return K}function a(z,K){var b=z.sortIndex-K.sortIndex;return b!==0?b:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],m=[],E=1,h=null,v=3,w=!1,S=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(z){for(var K=r(m);K!==null;){if(K.callback===null)l(m);else if(K.startTime<=z)l(m),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(m)}}function x(z){if(C=!1,p(z),!S)if(r(c)!==null)S=!0,G(N);else{var K=r(m);K!==null&&re(x,K.startTime-z)}}function N(z,K){S=!1,C&&(C=!1,g(j),j=-1),w=!0;var b=v;try{for(p(K),h=r(c);h!==null&&(!(h.expirationTime>K)||z&&!ce());){var I=h.callback;if(typeof I=="function"){h.callback=null,v=h.priorityLevel;var B=I(h.expirationTime<=K);K=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(c)&&l(c),p(K)}else l(c);h=r(c)}if(h!==null)var le=!0;else{var ae=r(m);ae!==null&&re(x,ae.startTime-K),le=!1}return le}finally{h=null,v=b,w=!1}}var U=!1,$=null,j=-1,J=5,Q=-1;function ce(){return!(e.unstable_now()-Q<J)}function X(){if($!==null){var z=e.unstable_now();Q=z;var K=!0;try{K=$(!0,z)}finally{K?R():(U=!1,$=null)}}else U=!1}var R;if(typeof u=="function")R=function(){u(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ee=V.port2;V.port1.onmessage=X,R=function(){ee.postMessage(null)}}else R=function(){T(X,0)};function G(z){$=z,U||(U=!0,R())}function re(z,K){j=T(function(){z(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,G(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var b=v;v=K;try{return z()}finally{v=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var b=v;v=z;try{return K()}finally{v=b}},e.unstable_scheduleCallback=function(z,K,b){var I=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?I+b:I):b=I,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=b+B,z={id:E++,callback:K,priorityLevel:z,startTime:b,expirationTime:B,sortIndex:-1},b>I?(z.sortIndex=b,t(m,z),r(c)===null&&z===r(m)&&(C?(g(j),j=-1):C=!0,re(x,b-I))):(z.sortIndex=B,t(c,z),S||w||(S=!0,G(N))),z},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(z){var K=v;return function(){var b=v;v=K;try{return z.apply(this,arguments)}finally{v=b}}}})(hu);pu.exports=hu;var u0=pu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=f,at=u0;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gu=new Set,el={};function _r(e,t){ln(e,t),ln(e+"Capture",t)}function ln(e,t){for(el[e]=t,e=0;e<t.length;e++)gu.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=Object.prototype.hasOwnProperty,d0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zi={},$i={};function f0(e){return zo.call($i,e)?!0:zo.call(zi,e)?!1:d0.test(e)?$i[e]=!0:(zi[e]=!0,!1)}function p0(e,t,r,l){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h0(e,t,r,l){if(t===null||typeof t>"u"||p0(e,t,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,r,l,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Os=/[\-:]([a-z])/g;function Ds(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Os,Ds);De[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Os,Ds);De[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Os,Ds);De[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function zs(e,t,r,l){var a=De.hasOwnProperty(t)?De[t]:null;(a!==null?a.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h0(t,r,a,l)&&(r=null),l||a===null?f0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,l=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,l?e.setAttributeNS(l,t,r):e.setAttribute(t,r))))}var zt=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rl=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),$s=Symbol.for("react.strict_mode"),$o=Symbol.for("react.profiler"),vu=Symbol.for("react.provider"),Eu=Symbol.for("react.context"),Fs=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),Vs=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),xu=Symbol.for("react.offscreen"),Fi=Symbol.iterator;function Tn(e){return e===null||typeof e!="object"?null:(e=Fi&&e[Fi]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,ao;function $n(e){if(ao===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ao=t&&t[1]||""}return`
`+ao+e}var oo=!1;function so(e,t){if(!e||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var l=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){l=m}e.call(t.prototype)}else{try{throw Error()}catch(m){l=m}e()}}catch(m){if(m&&l&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),o=l.stack.split(`
`),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||a[s]!==o[i]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=i);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$n(e):""}function g0(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function Bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case $r:return"Portal";case $o:return"Profiler";case $s:return"StrictMode";case Fo:return"Suspense";case Vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eu:return(e.displayName||"Context")+".Consumer";case vu:return(e._context.displayName||"Context")+".Provider";case Fs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vs:return t=e.displayName||null,t!==null?t:Bo(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return Bo(e(t))}catch{}}return null}function v0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(t);case 8:return t===$s?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E0(e){var t=yu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){l=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(s){l=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){e._valueTracker||(e._valueTracker=E0(e))}function wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=yu(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ho(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vi(e,t){var r=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;r=or(t.value!=null?t.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nu(e,t){t=t.checked,t!=null&&zs(e,"checked",t,!1)}function Wo(e,t){Nu(e,t);var r=or(t.value),l=t.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Go(e,t.type,r):t.hasOwnProperty("defaultValue")&&Go(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bi(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Go(e,t,r){(t!=="number"||ca(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fn=Array.isArray;function Xr(e,t,r,l){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&l&&(e[r].defaultSelected=!0)}else{for(r=""+or(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Fn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:or(r)}}function bu(e,t){var r=or(t.value),l=or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function Wi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ku(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ku(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ul,Su=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,l,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,l,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(e){x0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wn[t]=Wn[e]})});function Cu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wn.hasOwnProperty(e)&&Wn[e]?(""+t).trim():t+"px"}function Pu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var l=r.indexOf("--")===0,a=Cu(r,t[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,a):e[r]=a}}var y0=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(e,t){if(t){if(y0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xo=null,Zr=null,en=null;function Gi(e){if(e=Nl(e)){if(typeof Xo!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Da(t),Xo(e.stateNode,e.type,t))}}function Lu(e){Zr?en?en.push(e):en=[e]:Zr=e}function Mu(){if(Zr){var e=Zr,t=en;if(en=Zr=null,Gi(e),t)for(e=0;e<t.length;e++)Gi(t[e])}}function Tu(e,t){return e(t)}function _u(){}var io=!1;function Ru(e,t,r){if(io)return e(t,r);io=!0;try{return Tu(e,t,r)}finally{io=!1,(Zr!==null||en!==null)&&(_u(),Mu())}}function rl(e,t){var r=e.stateNode;if(r===null)return null;var l=Da(r);if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Zo=!1;if(At)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Zo=!1}function w0(e,t,r,l,a,o,s,i,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(E){this.onError(E)}}var Gn=!1,ua=null,ma=!1,es=null,N0={onError:function(e){Gn=!0,ua=e}};function b0(e,t,r,l,a,o,s,i,c){Gn=!1,ua=null,w0.apply(N0,arguments)}function k0(e,t,r,l,a,o,s,i,c){if(b0.apply(this,arguments),Gn){if(Gn){var m=ua;Gn=!1,ua=null}else throw Error(A(198));ma||(ma=!0,es=m)}}function Rr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Iu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qi(e){if(Rr(e)!==e)throw Error(A(188))}function S0(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,l=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(l=a.return,l!==null){r=l;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return qi(a),e;if(o===l)return qi(a),t;o=o.sibling}throw Error(A(188))}if(r.return!==l.return)r=a,l=o;else{for(var s=!1,i=a.child;i;){if(i===r){s=!0,r=a,l=o;break}if(i===l){s=!0,l=a,r=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===r){s=!0,r=o,l=a;break}if(i===l){s=!0,l=o,r=a;break}i=i.sibling}if(!s)throw Error(A(189))}}if(r.alternate!==l)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Uu(e){return e=S0(e),e!==null?Au(e):null}function Au(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Au(e);if(t!==null)return t;e=e.sibling}return null}var ju=at.unstable_scheduleCallback,Qi=at.unstable_cancelCallback,C0=at.unstable_shouldYield,P0=at.unstable_requestPaint,Se=at.unstable_now,L0=at.unstable_getCurrentPriorityLevel,Hs=at.unstable_ImmediatePriority,Ou=at.unstable_UserBlockingPriority,da=at.unstable_NormalPriority,M0=at.unstable_LowPriority,Du=at.unstable_IdlePriority,Ua=null,Pt=null;function T0(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ua,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:I0,_0=Math.log,R0=Math.LN2;function I0(e){return e>>>=0,e===0?32:31-(_0(e)/R0|0)|0}var Al=64,jl=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fa(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,a=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var i=s&~a;i!==0?l=Vn(i):(o&=s,o!==0&&(l=Vn(o)))}else s=r&~a,s!==0?l=Vn(s):o!==0&&(l=Vn(o));if(l===0)return 0;if(t!==0&&t!==l&&!(t&a)&&(a=l&-l,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(l&4&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-yt(t),a=1<<r,l|=e[r],t&=~a;return l}function U0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A0(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yt(o),i=1<<s,c=a[s];c===-1?(!(i&r)||i&l)&&(a[s]=U0(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function ts(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zu(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function co(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=r}function j0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-yt(r),o=1<<a;t[a]=0,l[a]=-1,e[a]=-1,r&=~o}}function Ws(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-yt(r),a=1<<l;a&t|e[l]&t&&(e[l]|=t),r&=~a}}var me=0;function $u(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fu,Gs,Vu,Bu,Hu,rs=!1,Ol=[],Xt=null,Zt=null,er=null,nl=new Map,ll=new Map,qt=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function Rn(e,t,r,l,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Nl(t),t!==null&&Gs(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function D0(e,t,r,l,a){switch(t){case"focusin":return Xt=Rn(Xt,e,t,r,l,a),!0;case"dragenter":return Zt=Rn(Zt,e,t,r,l,a),!0;case"mouseover":return er=Rn(er,e,t,r,l,a),!0;case"pointerover":var o=a.pointerId;return nl.set(o,Rn(nl.get(o)||null,e,t,r,l,a)),!0;case"gotpointercapture":return o=a.pointerId,ll.set(o,Rn(ll.get(o)||null,e,t,r,l,a)),!0}return!1}function Wu(e){var t=xr(e.target);if(t!==null){var r=Rr(t);if(r!==null){if(t=r.tag,t===13){if(t=Iu(r),t!==null){e.blockedOn=t,Hu(e.priority,function(){Vu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Jo=l,r.target.dispatchEvent(l),Jo=null}else return t=Nl(r),t!==null&&Gs(t),e.blockedOn=r,!1;t.shift()}return!0}function Yi(e,t,r){Zl(e)&&r.delete(t)}function z0(){rs=!1,Xt!==null&&Zl(Xt)&&(Xt=null),Zt!==null&&Zl(Zt)&&(Zt=null),er!==null&&Zl(er)&&(er=null),nl.forEach(Yi),ll.forEach(Yi)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,rs||(rs=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,z0)))}function al(e){function t(a){return In(a,e)}if(0<Ol.length){In(Ol[0],e);for(var r=1;r<Ol.length;r++){var l=Ol[r];l.blockedOn===e&&(l.blockedOn=null)}}for(Xt!==null&&In(Xt,e),Zt!==null&&In(Zt,e),er!==null&&In(er,e),nl.forEach(t),ll.forEach(t),r=0;r<qt.length;r++)l=qt[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)Wu(r),r.blockedOn===null&&qt.shift()}var tn=zt.ReactCurrentBatchConfig,pa=!0;function $0(e,t,r,l){var a=me,o=tn.transition;tn.transition=null;try{me=1,qs(e,t,r,l)}finally{me=a,tn.transition=o}}function F0(e,t,r,l){var a=me,o=tn.transition;tn.transition=null;try{me=4,qs(e,t,r,l)}finally{me=a,tn.transition=o}}function qs(e,t,r,l){if(pa){var a=ns(e,t,r,l);if(a===null)yo(e,t,l,ha,r),Ki(e,l);else if(D0(a,e,t,r,l))l.stopPropagation();else if(Ki(e,l),t&4&&-1<O0.indexOf(e)){for(;a!==null;){var o=Nl(a);if(o!==null&&Fu(o),o=ns(e,t,r,l),o===null&&yo(e,t,l,ha,r),o===a)break;a=o}a!==null&&l.stopPropagation()}else yo(e,t,l,null,r)}}var ha=null;function ns(e,t,r,l){if(ha=null,e=Bs(l),e=xr(e),e!==null)if(t=Rr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Iu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ha=e,null}function Gu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L0()){case Hs:return 1;case Ou:return 4;case da:case M0:return 16;case Du:return 536870912;default:return 16}default:return 16}}var Kt=null,Qs=null,ea=null;function qu(){if(ea)return ea;var e,t=Qs,r=t.length,l,a="value"in Kt?Kt.value:Kt.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(l=1;l<=s&&t[r-l]===a[o-l];l++);return ea=a.slice(e,1<l?1-l:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function Ji(){return!1}function st(e){function t(r,l,a,o,s){this._reactName=r,this._targetInst=a,this.type=l,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dl:Ji,this.isPropagationStopped=Ji,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=st(fn),wl=Ne({},fn,{view:0,detail:0}),V0=st(wl),uo,mo,Un,Aa=Ne({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(uo=e.screenX-Un.screenX,mo=e.screenY-Un.screenY):mo=uo=0,Un=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),Xi=st(Aa),B0=Ne({},Aa,{dataTransfer:0}),H0=st(B0),W0=Ne({},wl,{relatedTarget:0}),fo=st(W0),G0=Ne({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=st(G0),Q0=Ne({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0=st(Q0),Y0=Ne({},fn,{data:0}),Zi=st(Y0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z0[e])?!!t[e]:!1}function Ys(){return ef}var tf=Ne({},wl,{key:function(e){if(e.key){var t=J0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(e){return e.type==="keypress"?ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rf=st(tf),nf=Ne({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=st(nf),lf=Ne({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),af=st(lf),of=Ne({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=st(of),cf=Ne({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uf=st(cf),mf=[9,13,27,32],Js=At&&"CompositionEvent"in window,qn=null;At&&"documentMode"in document&&(qn=document.documentMode);var df=At&&"TextEvent"in window&&!qn,Qu=At&&(!Js||qn&&8<qn&&11>=qn),tc=String.fromCharCode(32),rc=!1;function Ku(e,t){switch(e){case"keyup":return mf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function ff(e,t){switch(e){case"compositionend":return Yu(t);case"keypress":return t.which!==32?null:(rc=!0,tc);case"textInput":return e=t.data,e===tc&&rc?null:e;default:return null}}function pf(e,t){if(Vr)return e==="compositionend"||!Js&&Ku(e,t)?(e=qu(),ea=Qs=Kt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hf[e.type]:t==="textarea"}function Ju(e,t,r,l){Lu(l),t=ga(t,"onChange"),0<t.length&&(r=new Ks("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Qn=null,ol=null;function gf(e){im(e,0)}function ja(e){var t=Wr(e);if(wu(t))return e}function vf(e,t){if(e==="change")return t}var Xu=!1;if(At){var po;if(At){var ho="oninput"in document;if(!ho){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),ho=typeof lc.oninput=="function"}po=ho}else po=!1;Xu=po&&(!document.documentMode||9<document.documentMode)}function ac(){Qn&&(Qn.detachEvent("onpropertychange",Zu),ol=Qn=null)}function Zu(e){if(e.propertyName==="value"&&ja(ol)){var t=[];Ju(t,ol,e,Bs(e)),Ru(gf,t)}}function Ef(e,t,r){e==="focusin"?(ac(),Qn=t,ol=r,Qn.attachEvent("onpropertychange",Zu)):e==="focusout"&&ac()}function xf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ja(ol)}function yf(e,t){if(e==="click")return ja(t)}function wf(e,t){if(e==="input"||e==="change")return ja(t)}function Nf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Nf;function sl(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var a=r[l];if(!zo.call(t,a)||!Nt(e[a],t[a]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var r=oc(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oc(r)}}function em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tm(){for(var e=window,t=ca();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ca(e.document)}return t}function Xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bf(e){var t=tm(),r=e.focusedElem,l=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&em(r.ownerDocument.documentElement,r)){if(l!==null&&Xs(r)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(l.start,a);l=l.end===void 0?o:Math.min(l.end,a),!e.extend&&o>l&&(a=l,l=o,o=a),a=sc(r,o);var s=sc(r,l);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>l?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kf=At&&"documentMode"in document&&11>=document.documentMode,Br=null,ls=null,Kn=null,as=!1;function ic(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;as||Br==null||Br!==ca(l)||(l=Br,"selectionStart"in l&&Xs(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kn&&sl(Kn,l)||(Kn=l,l=ga(ls,"onSelect"),0<l.length&&(t=new Ks("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Br)))}function zl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hr={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},go={},rm={};At&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Oa(e){if(go[e])return go[e];if(!Hr[e])return e;var t=Hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rm)return go[e]=t[r];return e}var nm=Oa("animationend"),lm=Oa("animationiteration"),am=Oa("animationstart"),om=Oa("transitionend"),sm=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){sm.set(e,t),_r(t,[e])}for(var vo=0;vo<cc.length;vo++){var Eo=cc[vo],Sf=Eo.toLowerCase(),Cf=Eo[0].toUpperCase()+Eo.slice(1);ir(Sf,"on"+Cf)}ir(nm,"onAnimationEnd");ir(lm,"onAnimationIteration");ir(am,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(om,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function uc(e,t,r){var l=e.type||"unknown-event";e.currentTarget=r,k0(l,t,void 0,e),e.currentTarget=null}function im(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],a=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var s=l.length-1;0<=s;s--){var i=l[s],c=i.instance,m=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;uc(a,i,m),o=c}else for(s=0;s<l.length;s++){if(i=l[s],c=i.instance,m=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;uc(a,i,m),o=c}}}if(ma)throw e=es,ma=!1,es=null,e}function ve(e,t){var r=t[us];r===void 0&&(r=t[us]=new Set);var l=e+"__bubble";r.has(l)||(cm(t,e,2,!1),r.add(l))}function xo(e,t,r){var l=0;t&&(l|=4),cm(r,e,l,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function il(e){if(!e[$l]){e[$l]=!0,gu.forEach(function(r){r!=="selectionchange"&&(Pf.has(r)||xo(r,!1,e),xo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,xo("selectionchange",!1,t))}}function cm(e,t,r,l){switch(Gu(t)){case 1:var a=$0;break;case 4:a=F0;break;default:a=qs}r=a.bind(null,t,r,e),a=void 0,!Zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yo(e,t,r,l,a){var o=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var s=l.tag;if(s===3||s===4){var i=l.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(s===4)for(s=l.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;i!==null;){if(s=xr(i),s===null)return;if(c=s.tag,c===5||c===6){l=o=s;continue e}i=i.parentNode}}l=l.return}Ru(function(){var m=o,E=Bs(r),h=[];e:{var v=sm.get(e);if(v!==void 0){var w=Ks,S=e;switch(e){case"keypress":if(ta(r)===0)break e;case"keydown":case"keyup":w=rf;break;case"focusin":S="focus",w=fo;break;case"focusout":S="blur",w=fo;break;case"beforeblur":case"afterblur":w=fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=af;break;case nm:case lm:case am:w=q0;break;case om:w=sf;break;case"scroll":w=V0;break;case"wheel":w=uf;break;case"copy":case"cut":case"paste":w=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ec}var C=(t&4)!==0,T=!C&&e==="scroll",g=C?v!==null?v+"Capture":null:v;C=[];for(var u=m,p;u!==null;){p=u;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=rl(u,g),x!=null&&C.push(cl(u,x,p)))),T)break;u=u.return}0<C.length&&(v=new w(v,S,null,r,E),h.push({event:v,listeners:C}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&r!==Jo&&(S=r.relatedTarget||r.fromElement)&&(xr(S)||S[jt]))break e;if((w||v)&&(v=E.window===E?E:(v=E.ownerDocument)?v.defaultView||v.parentWindow:window,w?(S=r.relatedTarget||r.toElement,w=m,S=S?xr(S):null,S!==null&&(T=Rr(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=m),w!==S)){if(C=Xi,x="onMouseLeave",g="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(C=ec,x="onPointerLeave",g="onPointerEnter",u="pointer"),T=w==null?v:Wr(w),p=S==null?v:Wr(S),v=new C(x,u+"leave",w,r,E),v.target=T,v.relatedTarget=p,x=null,xr(E)===m&&(C=new C(g,u+"enter",S,r,E),C.target=p,C.relatedTarget=T,x=C),T=x,w&&S)t:{for(C=w,g=S,u=0,p=C;p;p=zr(p))u++;for(p=0,x=g;x;x=zr(x))p++;for(;0<u-p;)C=zr(C),u--;for(;0<p-u;)g=zr(g),p--;for(;u--;){if(C===g||g!==null&&C===g.alternate)break t;C=zr(C),g=zr(g)}C=null}else C=null;w!==null&&mc(h,v,w,C,!1),S!==null&&T!==null&&mc(h,T,S,C,!0)}}e:{if(v=m?Wr(m):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var N=vf;else if(nc(v))if(Xu)N=wf;else{N=xf;var U=Ef}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=yf);if(N&&(N=N(e,m))){Ju(h,N,r,E);break e}U&&U(e,v,m),e==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&Go(v,"number",v.value)}switch(U=m?Wr(m):window,e){case"focusin":(nc(U)||U.contentEditable==="true")&&(Br=U,ls=m,Kn=null);break;case"focusout":Kn=ls=Br=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,ic(h,r,E);break;case"selectionchange":if(kf)break;case"keydown":case"keyup":ic(h,r,E)}var $;if(Js)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vr?Ku(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Qu&&r.locale!=="ko"&&(Vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vr&&($=qu()):(Kt=E,Qs="value"in Kt?Kt.value:Kt.textContent,Vr=!0)),U=ga(m,j),0<U.length&&(j=new Zi(j,e,null,r,E),h.push({event:j,listeners:U}),$?j.data=$:($=Yu(r),$!==null&&(j.data=$)))),($=df?ff(e,r):pf(e,r))&&(m=ga(m,"onBeforeInput"),0<m.length&&(E=new Zi("onBeforeInput","beforeinput",null,r,E),h.push({event:E,listeners:m}),E.data=$))}im(h,t)})}function cl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ga(e,t){for(var r=t+"Capture",l=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=rl(e,r),o!=null&&l.unshift(cl(e,o,a)),o=rl(e,t),o!=null&&l.push(cl(e,o,a))),e=e.return}return l}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mc(e,t,r,l,a){for(var o=t._reactName,s=[];r!==null&&r!==l;){var i=r,c=i.alternate,m=i.stateNode;if(c!==null&&c===l)break;i.tag===5&&m!==null&&(i=m,a?(c=rl(r,o),c!=null&&s.unshift(cl(r,c,i))):a||(c=rl(r,o),c!=null&&s.push(cl(r,c,i)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Lf=/\r\n?/g,Mf=/\u0000|\uFFFD/g;function dc(e){return(typeof e=="string"?e:""+e).replace(Lf,`
`).replace(Mf,"")}function Fl(e,t,r){if(t=dc(t),dc(e)!==t&&r)throw Error(A(425))}function va(){}var os=null,ss=null;function is(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cs=typeof setTimeout=="function"?setTimeout:void 0,Tf=typeof clearTimeout=="function"?clearTimeout:void 0,fc=typeof Promise=="function"?Promise:void 0,_f=typeof queueMicrotask=="function"?queueMicrotask:typeof fc<"u"?function(e){return fc.resolve(null).then(e).catch(Rf)}:cs;function Rf(e){setTimeout(function(){throw e})}function wo(e,t){var r=t,l=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(l===0){e.removeChild(a),al(t);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=a}while(r);al(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+pn,ul="__reactProps$"+pn,jt="__reactContainer$"+pn,us="__reactEvents$"+pn,If="__reactListeners$"+pn,Uf="__reactHandles$"+pn;function xr(e){var t=e[Ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[Ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pc(e);e!==null;){if(r=e[Ct])return r;e=pc(e)}return t}e=r,r=e.parentNode}return null}function Nl(e){return e=e[Ct]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Da(e){return e[ul]||null}var ms=[],Gr=-1;function cr(e){return{current:e}}function Ee(e){0>Gr||(e.current=ms[Gr],ms[Gr]=null,Gr--)}function he(e,t){Gr++,ms[Gr]=e.current,e.current=t}var sr={},Be=cr(sr),Je=cr(!1),Sr=sr;function an(e,t){var r=e.type.contextTypes;if(!r)return sr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xe(e){return e=e.childContextTypes,e!=null}function Ea(){Ee(Je),Ee(Be)}function hc(e,t,r){if(Be.current!==sr)throw Error(A(168));he(Be,t),he(Je,r)}function um(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var a in l)if(!(a in t))throw Error(A(108,v0(e)||"Unknown",a));return Ne({},r,l)}function xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Sr=Be.current,he(Be,e),he(Je,Je.current),!0}function gc(e,t,r){var l=e.stateNode;if(!l)throw Error(A(169));r?(e=um(e,t,Sr),l.__reactInternalMemoizedMergedChildContext=e,Ee(Je),Ee(Be),he(Be,e)):Ee(Je),he(Je,r)}var _t=null,za=!1,No=!1;function mm(e){_t===null?_t=[e]:_t.push(e)}function Af(e){za=!0,mm(e)}function ur(){if(!No&&_t!==null){No=!0;var e=0,t=me;try{var r=_t;for(me=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}_t=null,za=!1}catch(a){throw _t!==null&&(_t=_t.slice(e+1)),ju(Hs,ur),a}finally{me=t,No=!1}}return null}var qr=[],Qr=0,ya=null,wa=0,ct=[],ut=0,Cr=null,Rt=1,It="";function vr(e,t){qr[Qr++]=wa,qr[Qr++]=ya,ya=e,wa=t}function dm(e,t,r){ct[ut++]=Rt,ct[ut++]=It,ct[ut++]=Cr,Cr=e;var l=Rt;e=It;var a=32-yt(l)-1;l&=~(1<<a),r+=1;var o=32-yt(t)+a;if(30<o){var s=a-a%5;o=(l&(1<<s)-1).toString(32),l>>=s,a-=s,Rt=1<<32-yt(t)+a|r<<a|l,It=o+e}else Rt=1<<o|r<<a|l,It=e}function Zs(e){e.return!==null&&(vr(e,1),dm(e,1,0))}function ei(e){for(;e===ya;)ya=qr[--Qr],qr[Qr]=null,wa=qr[--Qr],qr[Qr]=null;for(;e===Cr;)Cr=ct[--ut],ct[ut]=null,It=ct[--ut],ct[ut]=null,Rt=ct[--ut],ct[ut]=null}var lt=null,nt=null,xe=!1,Et=null;function fm(e,t){var r=mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,nt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,nt=null,!0):!1;default:return!1}}function ds(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fs(e){if(xe){var t=nt;if(t){var r=t;if(!vc(e,t)){if(ds(e))throw Error(A(418));t=tr(r.nextSibling);var l=lt;t&&vc(e,t)?fm(l,r):(e.flags=e.flags&-4097|2,xe=!1,lt=e)}}else{if(ds(e))throw Error(A(418));e.flags=e.flags&-4097|2,xe=!1,lt=e}}}function Ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Vl(e){if(e!==lt)return!1;if(!xe)return Ec(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!is(e.type,e.memoizedProps)),t&&(t=nt)){if(ds(e))throw pm(),Error(A(418));for(;t;)fm(e,t),t=tr(t.nextSibling)}if(Ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nt=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=lt?tr(e.stateNode.nextSibling):null;return!0}function pm(){for(var e=nt;e;)e=tr(e.nextSibling)}function on(){nt=lt=null,xe=!1}function ti(e){Et===null?Et=[e]:Et.push(e)}var jf=zt.ReactCurrentBatchConfig;function An(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var l=r.stateNode}if(!l)throw Error(A(147,e));var a=l,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var i=a.refs;s===null?delete i[o]:i[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Bl(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function hm(e){function t(g,u){if(e){var p=g.deletions;p===null?(g.deletions=[u],g.flags|=16):p.push(u)}}function r(g,u){if(!e)return null;for(;u!==null;)t(g,u),u=u.sibling;return null}function l(g,u){for(g=new Map;u!==null;)u.key!==null?g.set(u.key,u):g.set(u.index,u),u=u.sibling;return g}function a(g,u){return g=ar(g,u),g.index=0,g.sibling=null,g}function o(g,u,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<u?(g.flags|=2,u):p):(g.flags|=2,u)):(g.flags|=1048576,u)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,u,p,x){return u===null||u.tag!==6?(u=Mo(p,g.mode,x),u.return=g,u):(u=a(u,p),u.return=g,u)}function c(g,u,p,x){var N=p.type;return N===Fr?E(g,u,p.props.children,x,p.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wt&&xc(N)===u.type)?(x=a(u,p.props),x.ref=An(g,u,p),x.return=g,x):(x=ia(p.type,p.key,p.props,null,g.mode,x),x.ref=An(g,u,p),x.return=g,x)}function m(g,u,p,x){return u===null||u.tag!==4||u.stateNode.containerInfo!==p.containerInfo||u.stateNode.implementation!==p.implementation?(u=To(p,g.mode,x),u.return=g,u):(u=a(u,p.children||[]),u.return=g,u)}function E(g,u,p,x,N){return u===null||u.tag!==7?(u=br(p,g.mode,x,N),u.return=g,u):(u=a(u,p),u.return=g,u)}function h(g,u,p){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Mo(""+u,g.mode,p),u.return=g,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Rl:return p=ia(u.type,u.key,u.props,null,g.mode,p),p.ref=An(g,null,u),p.return=g,p;case $r:return u=To(u,g.mode,p),u.return=g,u;case Wt:var x=u._init;return h(g,x(u._payload),p)}if(Fn(u)||Tn(u))return u=br(u,g.mode,p,null),u.return=g,u;Bl(g,u)}return null}function v(g,u,p,x){var N=u!==null?u.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:i(g,u,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Rl:return p.key===N?c(g,u,p,x):null;case $r:return p.key===N?m(g,u,p,x):null;case Wt:return N=p._init,v(g,u,N(p._payload),x)}if(Fn(p)||Tn(p))return N!==null?null:E(g,u,p,x,null);Bl(g,p)}return null}function w(g,u,p,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,i(u,g,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rl:return g=g.get(x.key===null?p:x.key)||null,c(u,g,x,N);case $r:return g=g.get(x.key===null?p:x.key)||null,m(u,g,x,N);case Wt:var U=x._init;return w(g,u,p,U(x._payload),N)}if(Fn(x)||Tn(x))return g=g.get(p)||null,E(u,g,x,N,null);Bl(u,x)}return null}function S(g,u,p,x){for(var N=null,U=null,$=u,j=u=0,J=null;$!==null&&j<p.length;j++){$.index>j?(J=$,$=null):J=$.sibling;var Q=v(g,$,p[j],x);if(Q===null){$===null&&($=J);break}e&&$&&Q.alternate===null&&t(g,$),u=o(Q,u,j),U===null?N=Q:U.sibling=Q,U=Q,$=J}if(j===p.length)return r(g,$),xe&&vr(g,j),N;if($===null){for(;j<p.length;j++)$=h(g,p[j],x),$!==null&&(u=o($,u,j),U===null?N=$:U.sibling=$,U=$);return xe&&vr(g,j),N}for($=l(g,$);j<p.length;j++)J=w($,g,j,p[j],x),J!==null&&(e&&J.alternate!==null&&$.delete(J.key===null?j:J.key),u=o(J,u,j),U===null?N=J:U.sibling=J,U=J);return e&&$.forEach(function(ce){return t(g,ce)}),xe&&vr(g,j),N}function C(g,u,p,x){var N=Tn(p);if(typeof N!="function")throw Error(A(150));if(p=N.call(p),p==null)throw Error(A(151));for(var U=N=null,$=u,j=u=0,J=null,Q=p.next();$!==null&&!Q.done;j++,Q=p.next()){$.index>j?(J=$,$=null):J=$.sibling;var ce=v(g,$,Q.value,x);if(ce===null){$===null&&($=J);break}e&&$&&ce.alternate===null&&t(g,$),u=o(ce,u,j),U===null?N=ce:U.sibling=ce,U=ce,$=J}if(Q.done)return r(g,$),xe&&vr(g,j),N;if($===null){for(;!Q.done;j++,Q=p.next())Q=h(g,Q.value,x),Q!==null&&(u=o(Q,u,j),U===null?N=Q:U.sibling=Q,U=Q);return xe&&vr(g,j),N}for($=l(g,$);!Q.done;j++,Q=p.next())Q=w($,g,j,Q.value,x),Q!==null&&(e&&Q.alternate!==null&&$.delete(Q.key===null?j:Q.key),u=o(Q,u,j),U===null?N=Q:U.sibling=Q,U=Q);return e&&$.forEach(function(X){return t(g,X)}),xe&&vr(g,j),N}function T(g,u,p,x){if(typeof p=="object"&&p!==null&&p.type===Fr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Rl:e:{for(var N=p.key,U=u;U!==null;){if(U.key===N){if(N=p.type,N===Fr){if(U.tag===7){r(g,U.sibling),u=a(U,p.props.children),u.return=g,g=u;break e}}else if(U.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wt&&xc(N)===U.type){r(g,U.sibling),u=a(U,p.props),u.ref=An(g,U,p),u.return=g,g=u;break e}r(g,U);break}else t(g,U);U=U.sibling}p.type===Fr?(u=br(p.props.children,g.mode,x,p.key),u.return=g,g=u):(x=ia(p.type,p.key,p.props,null,g.mode,x),x.ref=An(g,u,p),x.return=g,g=x)}return s(g);case $r:e:{for(U=p.key;u!==null;){if(u.key===U)if(u.tag===4&&u.stateNode.containerInfo===p.containerInfo&&u.stateNode.implementation===p.implementation){r(g,u.sibling),u=a(u,p.children||[]),u.return=g,g=u;break e}else{r(g,u);break}else t(g,u);u=u.sibling}u=To(p,g.mode,x),u.return=g,g=u}return s(g);case Wt:return U=p._init,T(g,u,U(p._payload),x)}if(Fn(p))return S(g,u,p,x);if(Tn(p))return C(g,u,p,x);Bl(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,u!==null&&u.tag===6?(r(g,u.sibling),u=a(u,p),u.return=g,g=u):(r(g,u),u=Mo(p,g.mode,x),u.return=g,g=u),s(g)):r(g,u)}return T}var sn=hm(!0),gm=hm(!1),Na=cr(null),ba=null,Kr=null,ri=null;function ni(){ri=Kr=ba=null}function li(e){var t=Na.current;Ee(Na),e._currentValue=t}function ps(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){ba=e,ri=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(ri!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(ba===null)throw Error(A(308));Kr=e,ba.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var yr=null;function ai(e){yr===null?yr=[e]:yr.push(e)}function vm(e,t,r,l){var a=t.interleaved;return a===null?(r.next=r,ai(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ot(e,l)}function Ot(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gt=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,se&2){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,Ot(e,r)}return a=l.interleaved,a===null?(t.next=t,ai(l)):(t.next=a.next,a.next=t),l.interleaved=t,Ot(e,r)}function ra(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ws(e,r)}}function yc(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ka(e,t,r,l){var a=e.updateQueue;Gt=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,m=c.next;c.next=null,s===null?o=m:s.next=m,s=c;var E=e.alternate;E!==null&&(E=E.updateQueue,i=E.lastBaseUpdate,i!==s&&(i===null?E.firstBaseUpdate=m:i.next=m,E.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;s=0,E=m=c=null,i=o;do{var v=i.lane,w=i.eventTime;if((l&v)===v){E!==null&&(E=E.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,C=i;switch(v=t,w=r,C.tag){case 1:if(S=C.payload,typeof S=="function"){h=S.call(w,h,v);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,v=typeof S=="function"?S.call(w,h,v):S,v==null)break e;h=Ne({},h,v);break e;case 2:Gt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[i]:v.push(i))}else w={eventTime:w,lane:v,tag:i.tag,payload:i.payload,callback:i.callback,next:null},E===null?(m=E=w,c=h):E=E.next=w,s|=v;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;v=i,i=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(1);if(E===null&&(c=h),a.baseState=c,a.firstBaseUpdate=m,a.lastBaseUpdate=E,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Lr|=s,e.lanes=s,e.memoizedState=h}}function wc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],a=l.callback;if(a!==null){if(l.callback=null,l=r,typeof a!="function")throw Error(A(191,a));a.call(l)}}}var bl={},Lt=cr(bl),ml=cr(bl),dl=cr(bl);function wr(e){if(e===bl)throw Error(A(174));return e}function si(e,t){switch(he(dl,t),he(ml,e),he(Lt,bl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qo(t,e)}Ee(Lt),he(Lt,t)}function cn(){Ee(Lt),Ee(ml),Ee(dl)}function xm(e){wr(dl.current);var t=wr(Lt.current),r=Qo(t,e.type);t!==r&&(he(ml,e),he(Lt,r))}function ii(e){ml.current===e&&(Ee(Lt),Ee(ml))}var ye=cr(0);function Sa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bo=[];function ci(){for(var e=0;e<bo.length;e++)bo[e]._workInProgressVersionPrimary=null;bo.length=0}var na=zt.ReactCurrentDispatcher,ko=zt.ReactCurrentBatchConfig,Pr=0,we=null,Me=null,Re=null,Ca=!1,Yn=!1,fl=0,Of=0;function $e(){throw Error(A(321))}function ui(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nt(e[r],t[r]))return!1;return!0}function mi(e,t,r,l,a,o){if(Pr=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=e===null||e.memoizedState===null?Ff:Vf,e=r(l,a),Yn){o=0;do{if(Yn=!1,fl=0,25<=o)throw Error(A(301));o+=1,Re=Me=null,t.updateQueue=null,na.current=Bf,e=r(l,a)}while(Yn)}if(na.current=Pa,t=Me!==null&&Me.next!==null,Pr=0,Re=Me=we=null,Ca=!1,t)throw Error(A(300));return e}function di(){var e=fl!==0;return fl=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?we.memoizedState=Re=e:Re=Re.next=e,Re}function pt(){if(Me===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Re===null?we.memoizedState:Re.next;if(t!==null)Re=t,Me=e;else{if(e===null)throw Error(A(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Re===null?we.memoizedState=Re=e:Re=Re.next=e}return Re}function pl(e,t){return typeof t=="function"?t(e):t}function So(e){var t=pt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var l=Me,a=l.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}l.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,l=l.baseState;var i=s=null,c=null,m=o;do{var E=m.lane;if((Pr&E)===E)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),l=m.hasEagerState?m.eagerState:e(l,m.action);else{var h={lane:E,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(i=c=h,s=l):c=c.next=h,we.lanes|=E,Lr|=E}m=m.next}while(m!==null&&m!==o);c===null?s=l:c.next=i,Nt(l,t.memoizedState)||(Ye=!0),t.memoizedState=l,t.baseState=s,t.baseQueue=c,r.lastRenderedState=l}if(e=r.interleaved,e!==null){a=e;do o=a.lane,we.lanes|=o,Lr|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Co(e){var t=pt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var l=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Nt(o,t.memoizedState)||(Ye=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,l]}function ym(){}function wm(e,t){var r=we,l=pt(),a=t(),o=!Nt(l.memoizedState,a);if(o&&(l.memoizedState=a,Ye=!0),l=l.queue,fi(km.bind(null,r,l,e),[e]),l.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,hl(9,bm.bind(null,r,l,a,t),void 0,null),Ie===null)throw Error(A(349));Pr&30||Nm(r,t,a)}return a}function Nm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bm(e,t,r,l){t.value=r,t.getSnapshot=l,Sm(t)&&Cm(e)}function km(e,t,r){return r(function(){Sm(t)&&Cm(e)})}function Sm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nt(e,r)}catch{return!0}}function Cm(e){var t=Ot(e,1);t!==null&&wt(t,e,1,-1)}function Nc(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t.queue=e,e=e.dispatch=$f.bind(null,we,e),[t.memoizedState,e]}function hl(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function Pm(){return pt().memoizedState}function la(e,t,r,l){var a=St();we.flags|=e,a.memoizedState=hl(1|t,r,void 0,l===void 0?null:l)}function $a(e,t,r,l){var a=pt();l=l===void 0?null:l;var o=void 0;if(Me!==null){var s=Me.memoizedState;if(o=s.destroy,l!==null&&ui(l,s.deps)){a.memoizedState=hl(t,r,o,l);return}}we.flags|=e,a.memoizedState=hl(1|t,r,o,l)}function bc(e,t){return la(8390656,8,e,t)}function fi(e,t){return $a(2048,8,e,t)}function Lm(e,t){return $a(4,2,e,t)}function Mm(e,t){return $a(4,4,e,t)}function Tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _m(e,t,r){return r=r!=null?r.concat([e]):null,$a(4,4,Tm.bind(null,t,e),r)}function pi(){}function Rm(e,t){var r=pt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&ui(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function Im(e,t){var r=pt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&ui(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function Um(e,t,r){return Pr&21?(Nt(r,t)||(r=zu(),we.lanes|=r,Lr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function Df(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var l=ko.transition;ko.transition={};try{e(!1),t()}finally{me=r,ko.transition=l}}function Am(){return pt().memoizedState}function zf(e,t,r){var l=lr(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},jm(e))Om(t,r);else if(r=vm(e,t,r,l),r!==null){var a=We();wt(r,e,l,a),Dm(r,t,l)}}function $f(e,t,r){var l=lr(e),a={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(jm(e))Om(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,r);if(a.hasEagerState=!0,a.eagerState=i,Nt(i,s)){var c=t.interleaved;c===null?(a.next=a,ai(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=vm(e,t,a,l),r!==null&&(a=We(),wt(r,e,l,a),Dm(r,t,l))}}function jm(e){var t=e.alternate;return e===we||t!==null&&t===we}function Om(e,t){Yn=Ca=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dm(e,t,r){if(r&4194240){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ws(e,r)}}var Pa={readContext:ft,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Ff={readContext:ft,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:bc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,la(4194308,4,Tm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return la(4194308,4,e,t)},useInsertionEffect:function(e,t){return la(4,2,e,t)},useMemo:function(e,t){var r=St();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=St();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=zf.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:pi,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=Df.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=we,a=St();if(xe){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Ie===null)throw Error(A(349));Pr&30||Nm(l,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,bc(km.bind(null,l,o,e),[e]),l.flags|=2048,hl(9,bm.bind(null,l,o,r,t),void 0,null),r},useId:function(){var e=St(),t=Ie.identifierPrefix;if(xe){var r=It,l=Rt;r=(l&~(1<<32-yt(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=fl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Of++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vf={readContext:ft,useCallback:Rm,useContext:ft,useEffect:fi,useImperativeHandle:_m,useInsertionEffect:Lm,useLayoutEffect:Mm,useMemo:Im,useReducer:So,useRef:Pm,useState:function(){return So(pl)},useDebugValue:pi,useDeferredValue:function(e){var t=pt();return Um(t,Me.memoizedState,e)},useTransition:function(){var e=So(pl)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:wm,useId:Am,unstable_isNewReconciler:!1},Bf={readContext:ft,useCallback:Rm,useContext:ft,useEffect:fi,useImperativeHandle:_m,useInsertionEffect:Lm,useLayoutEffect:Mm,useMemo:Im,useReducer:Co,useRef:Pm,useState:function(){return Co(pl)},useDebugValue:pi,useDeferredValue:function(e){var t=pt();return Me===null?t.memoizedState=e:Um(t,Me.memoizedState,e)},useTransition:function(){var e=Co(pl)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:wm,useId:Am,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hs(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fa={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=We(),a=lr(e),o=Ut(l,a);o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,a),t!==null&&(wt(t,e,a,l),ra(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=We(),a=lr(e),o=Ut(l,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,a),t!==null&&(wt(t,e,a,l),ra(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),l=lr(e),a=Ut(r,l);a.tag=2,t!=null&&(a.callback=t),t=rr(e,a,l),t!==null&&(wt(t,e,l,r),ra(t,e,l))}};function kc(e,t,r,l,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,s):t.prototype&&t.prototype.isPureReactComponent?!sl(r,l)||!sl(a,o):!0}function zm(e,t,r){var l=!1,a=sr,o=t.contextType;return typeof o=="object"&&o!==null?o=ft(o):(a=Xe(t)?Sr:Be.current,l=t.contextTypes,o=(l=l!=null)?an(e,a):sr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sc(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function gs(e,t,r,l){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},oi(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ft(o):(o=Xe(t)?Sr:Be.current,a.context=an(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hs(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fa.enqueueReplaceState(a,a.state,null),ka(e,r,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",l=t;do r+=g0(l),l=l.return;while(l);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Po(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vs(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hf=typeof WeakMap=="function"?WeakMap:Map;function $m(e,t,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){Ma||(Ma=!0,Ps=l),vs(e,t)},r}function Fm(e,t,r){r=Ut(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=t.value;r.payload=function(){return l(a)},r.callback=function(){vs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vs(e,t),typeof l!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Cc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Hf;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(r)||(a.add(r),e=lp.bind(null,e,t,r),t.then(e,e))}function Pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lc(e,t,r,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ut(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Wf=zt.ReactCurrentOwner,Ye=!1;function He(e,t,r,l){t.child=e===null?gm(t,null,r,l):sn(t,e.child,r,l)}function Mc(e,t,r,l,a){r=r.render;var o=t.ref;return rn(t,a),l=mi(e,t,r,l,o,a),r=di(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dt(e,t,a)):(xe&&r&&Zs(t),t.flags|=1,He(e,t,l,a),t.child)}function Tc(e,t,r,l,a){if(e===null){var o=r.type;return typeof o=="function"&&!Ni(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Vm(e,t,o,l,a)):(e=ia(r.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(s,l)&&e.ref===t.ref)return Dt(e,t,a)}return t.flags|=1,e=ar(o,l),e.ref=t.ref,e.return=t,t.child=e}function Vm(e,t,r,l,a){if(e!==null){var o=e.memoizedProps;if(sl(o,l)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=l=o,(e.lanes&a)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Dt(e,t,a)}return Es(e,t,r,l,a)}function Bm(e,t,r){var l=t.pendingProps,a=l.children,o=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Jr,rt),rt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Jr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=o!==null?o.baseLanes:r,he(Jr,rt),rt|=l}else o!==null?(l=o.baseLanes|r,t.memoizedState=null):l=r,he(Jr,rt),rt|=l;return He(e,t,a,r),t.child}function Hm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,r,l,a){var o=Xe(r)?Sr:Be.current;return o=an(t,o),rn(t,a),r=mi(e,t,r,l,o,a),l=di(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dt(e,t,a)):(xe&&l&&Zs(t),t.flags|=1,He(e,t,r,a),t.child)}function _c(e,t,r,l,a){if(Xe(r)){var o=!0;xa(t)}else o=!1;if(rn(t,a),t.stateNode===null)aa(e,t),zm(t,r,l),gs(t,r,l,a),l=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var c=s.context,m=r.contextType;typeof m=="object"&&m!==null?m=ft(m):(m=Xe(r)?Sr:Be.current,m=an(t,m));var E=r.getDerivedStateFromProps,h=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==l||c!==m)&&Sc(t,s,l,m),Gt=!1;var v=t.memoizedState;s.state=v,ka(t,l,s,a),c=t.memoizedState,i!==l||v!==c||Je.current||Gt?(typeof E=="function"&&(hs(t,r,E,l),c=t.memoizedState),(i=Gt||kc(t,r,i,l,v,c,m))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=c),s.props=l,s.state=c,s.context=m,l=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Em(e,t),i=t.memoizedProps,m=t.type===t.elementType?i:gt(t.type,i),s.props=m,h=t.pendingProps,v=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ft(c):(c=Xe(r)?Sr:Be.current,c=an(t,c));var w=r.getDerivedStateFromProps;(E=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==h||v!==c)&&Sc(t,s,l,c),Gt=!1,v=t.memoizedState,s.state=v,ka(t,l,s,a);var S=t.memoizedState;i!==h||v!==S||Je.current||Gt?(typeof w=="function"&&(hs(t,r,w,l),S=t.memoizedState),(m=Gt||kc(t,r,m,l,v,S,c)||!1)?(E||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,S,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,S,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=S),s.props=l,s.state=S,s.context=c,l=m):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),l=!1)}return xs(e,t,r,l,o,a)}function xs(e,t,r,l,a,o){Hm(e,t);var s=(t.flags&128)!==0;if(!l&&!s)return a&&gc(t,r,!1),Dt(e,t,o);l=t.stateNode,Wf.current=t;var i=s&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&s?(t.child=sn(t,e.child,null,o),t.child=sn(t,null,i,o)):He(e,t,i,o),t.memoizedState=l.state,a&&gc(t,r,!0),t.child}function Wm(e){var t=e.stateNode;t.pendingContext?hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hc(e,t.context,!1),si(e,t.containerInfo)}function Rc(e,t,r,l,a){return on(),ti(a),t.flags|=256,He(e,t,r,l),t.child}var ys={dehydrated:null,treeContext:null,retryLane:0};function ws(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gm(e,t,r){var l=t.pendingProps,a=ye.current,o=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),he(ye,a&1),e===null)return fs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=l.children,e=l.fallback,o?(l=t.mode,o=t.child,s={mode:"hidden",children:s},!(l&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ha(s,l,0,null),e=br(e,l,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ws(r),t.memoizedState=ys,e):hi(t,s));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Gf(e,t,s,l,i,a,r);if(o){o=l.fallback,s=t.mode,a=e.child,i=a.sibling;var c={mode:"hidden",children:l.children};return!(s&1)&&t.child!==a?(l=t.child,l.childLanes=0,l.pendingProps=c,t.deletions=null):(l=ar(a,c),l.subtreeFlags=a.subtreeFlags&14680064),i!==null?o=ar(i,o):(o=br(o,s,r,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,s=e.child.memoizedState,s=s===null?ws(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=ys,l}return o=e.child,e=o.sibling,l=ar(o,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=r),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l}function hi(e,t){return t=Ha({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hl(e,t,r,l){return l!==null&&ti(l),sn(t,e.child,null,r),e=hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gf(e,t,r,l,a,o,s){if(r)return t.flags&256?(t.flags&=-257,l=Po(Error(A(422))),Hl(e,t,s,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=l.fallback,a=t.mode,l=Ha({mode:"visible",children:l.children},a,0,null),o=br(o,a,s,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,t.mode&1&&sn(t,e.child,null,s),t.child.memoizedState=ws(s),t.memoizedState=ys,o);if(!(t.mode&1))return Hl(e,t,s,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var i=l.dgst;return l=i,o=Error(A(419)),l=Po(o,l,void 0),Hl(e,t,s,l)}if(i=(s&e.childLanes)!==0,Ye||i){if(l=Ie,l!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ot(e,a),wt(l,e,a,-1))}return wi(),l=Po(Error(A(421))),Hl(e,t,s,l)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ap.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,nt=tr(a.nextSibling),lt=t,xe=!0,Et=null,e!==null&&(ct[ut++]=Rt,ct[ut++]=It,ct[ut++]=Cr,Rt=e.id,It=e.overflow,Cr=t),t=hi(t,l.children),t.flags|=4096,t)}function Ic(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ps(e.return,t,r)}function Lo(e,t,r,l,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=r,o.tailMode=a)}function qm(e,t,r){var l=t.pendingProps,a=l.revealOrder,o=l.tail;if(He(e,t,l.children,r),l=ye.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ic(e,r,t);else if(e.tag===19)Ic(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(he(ye,l),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Sa(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Lo(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Sa(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Lo(t,!0,r,null,o);break;case"together":Lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qf(e,t,r){switch(t.tag){case 3:Wm(t),on();break;case 5:xm(t);break;case 1:Xe(t.type)&&xa(t);break;case 4:si(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,a=t.memoizedProps.value;he(Na,l._currentValue),l._currentValue=a;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(he(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?Gm(e,t,r):(he(ye,ye.current&1),e=Dt(e,t,r),e!==null?e.sibling:null);he(ye,ye.current&1);break;case 19:if(l=(r&t.childLanes)!==0,e.flags&128){if(l)return qm(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),he(ye,ye.current),l)break;return null;case 22:case 23:return t.lanes=0,Bm(e,t,r)}return Dt(e,t,r)}var Qm,Ns,Km,Ym;Qm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ns=function(){};Km=function(e,t,r,l){var a=e.memoizedProps;if(a!==l){e=t.stateNode,wr(Lt.current);var o=null;switch(r){case"input":a=Ho(e,a),l=Ho(e,l),o=[];break;case"select":a=Ne({},a,{value:void 0}),l=Ne({},l,{value:void 0}),o=[];break;case"textarea":a=qo(e,a),l=qo(e,l),o=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=va)}Ko(r,l);var s;r=null;for(m in a)if(!l.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var i=a[m];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(el.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in l){var c=l[m];if(i=a!=null?a[m]:void 0,l.hasOwnProperty(m)&&c!==i&&(c!=null||i!=null))if(m==="style")if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(m,r)),r=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(el.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&ve("scroll",e),o||i===c||(o=[])):(o=o||[]).push(m,c))}r&&(o=o||[]).push("style",r);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};Ym=function(e,t,r,l){r!==l&&(t.flags|=4)};function jn(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Qf(e,t,r){var l=t.pendingProps;switch(ei(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Xe(t.type)&&Ea(),Fe(t),null;case 3:return l=t.stateNode,cn(),Ee(Je),Ee(Be),ci(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Ts(Et),Et=null))),Ns(e,t),Fe(t),null;case 5:ii(t);var a=wr(dl.current);if(r=t.type,e!==null&&t.stateNode!=null)Km(e,t,r,l,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(A(166));return Fe(t),null}if(e=wr(Lt.current),Vl(t)){l=t.stateNode,r=t.type;var o=t.memoizedProps;switch(l[Ct]=t,l[ul]=o,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(a=0;a<Bn.length;a++)ve(Bn[a],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":Vi(l,o),ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!o.multiple},ve("invalid",l);break;case"textarea":Hi(l,o),ve("invalid",l)}Ko(r,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?l.textContent!==i&&(o.suppressHydrationWarning!==!0&&Fl(l.textContent,i,e),a=["children",i]):typeof i=="number"&&l.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Fl(l.textContent,i,e),a=["children",""+i]):el.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ve("scroll",l)}switch(r){case"input":Il(l),Bi(l,o,!0);break;case"textarea":Il(l),Wi(l);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(l.onclick=va)}l=a,t.updateQueue=l,l!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ku(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=s.createElement(r,{is:l.is}):(e=s.createElement(r),r==="select"&&(s=e,l.multiple?s.multiple=!0:l.size&&(s.size=l.size))):e=s.createElementNS(e,r),e[Ct]=t,e[ul]=l,Qm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Yo(r,l),r){case"dialog":ve("cancel",e),ve("close",e),a=l;break;case"iframe":case"object":case"embed":ve("load",e),a=l;break;case"video":case"audio":for(a=0;a<Bn.length;a++)ve(Bn[a],e);a=l;break;case"source":ve("error",e),a=l;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=l;break;case"details":ve("toggle",e),a=l;break;case"input":Vi(e,l),a=Ho(e,l),ve("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=Ne({},l,{value:void 0}),ve("invalid",e);break;case"textarea":Hi(e,l),a=qo(e,l),ve("invalid",e);break;default:a=l}Ko(r,a),i=a;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?Pu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Su(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tl(e,c):typeof c=="number"&&tl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(el.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",e):c!=null&&zs(e,o,c,s))}switch(r){case"input":Il(e),Bi(e,l,!1);break;case"textarea":Il(e),Wi(e);break;case"option":l.value!=null&&e.setAttribute("value",""+or(l.value));break;case"select":e.multiple=!!l.multiple,o=l.value,o!=null?Xr(e,!!l.multiple,o,!1):l.defaultValue!=null&&Xr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=va)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Ym(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(A(166));if(r=wr(dl.current),wr(Lt.current),Vl(t)){if(l=t.stateNode,r=t.memoizedProps,l[Ct]=t,(o=l.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Fl(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(l.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[Ct]=t,t.stateNode=l}return Fe(t),null;case 13:if(Ee(ye),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&nt!==null&&t.mode&1&&!(t.flags&128))pm(),on(),t.flags|=98560,o=!1;else if(o=Vl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Ct]=t}else on(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),o=!1}else Et!==null&&(Ts(Et),Et=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Te===0&&(Te=3):wi())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return cn(),Ns(e,t),e===null&&il(t.stateNode.containerInfo),Fe(t),null;case 10:return li(t.type._context),Fe(t),null;case 17:return Xe(t.type)&&Ea(),Fe(t),null;case 19:if(Ee(ye),o=t.memoizedState,o===null)return Fe(t),null;if(l=(t.flags&128)!==0,s=o.rendering,s===null)if(l)jn(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sa(e),s!==null){for(t.flags|=128,jn(o,!1),l=s.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=r,r=t.child;r!==null;)o=r,e=l,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(ye,ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>mn&&(t.flags|=128,l=!0,jn(o,!1),t.lanes=4194304)}else{if(!l)if(e=Sa(s),e!==null){if(t.flags|=128,l=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Fe(t),null}else 2*Se()-o.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,l=!0,jn(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,r=ye.current,he(ye,l?r&1|2:r&1),t):(Fe(t),null);case 22:case 23:return yi(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?rt&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Kf(e,t){switch(ei(t),t.tag){case 1:return Xe(t.type)&&Ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),Ee(Je),Ee(Be),ci(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ii(t),null;case 13:if(Ee(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(ye),null;case 4:return cn(),null;case 10:return li(t.type._context),null;case 22:case 23:return yi(),null;case 24:return null;default:return null}}var Wl=!1,Ve=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,W=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){ke(e,t,l)}else r.current=null}function bs(e,t,r){try{r()}catch(l){ke(e,t,l)}}var Uc=!1;function Jf(e,t){if(os=pa,e=tm(),Xs(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var a=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,i=-1,c=-1,m=0,E=0,h=e,v=null;t:for(;;){for(var w;h!==r||a!==0&&h.nodeType!==3||(i=s+a),h!==o||l!==0&&h.nodeType!==3||(c=s+l),h.nodeType===3&&(s+=h.nodeValue.length),(w=h.firstChild)!==null;)v=h,h=w;for(;;){if(h===e)break t;if(v===r&&++m===a&&(i=s),v===o&&++E===l&&(c=s),(w=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=w}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ss={focusedElem:e,selectionRange:r},pa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,T=S.memoizedState,g=t.stateNode,u=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:gt(t.type,C),T);g.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(x){ke(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return S=Uc,Uc=!1,S}function Jn(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&bs(t,r,o)}a=a.next}while(a!==l)}}function Va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function ks(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[ul],delete t[us],delete t[If],delete t[Uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xm(e){return e.tag===5||e.tag===3||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ss(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=va));else if(l!==4&&(e=e.child,e!==null))for(Ss(e,t,r),e=e.sibling;e!==null;)Ss(e,t,r),e=e.sibling}function Cs(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Cs(e,t,r),e=e.sibling;e!==null;)Cs(e,t,r),e=e.sibling}var Ue=null,vt=!1;function Ht(e,t,r){for(r=r.child;r!==null;)Zm(e,t,r),r=r.sibling}function Zm(e,t,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ua,r)}catch{}switch(r.tag){case 5:Ve||Yr(r,t);case 6:var l=Ue,a=vt;Ue=null,Ht(e,t,r),Ue=l,vt=a,Ue!==null&&(vt?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(vt?(e=Ue,r=r.stateNode,e.nodeType===8?wo(e.parentNode,r):e.nodeType===1&&wo(e,r),al(e)):wo(Ue,r.stateNode));break;case 4:l=Ue,a=vt,Ue=r.stateNode.containerInfo,vt=!0,Ht(e,t,r),Ue=l,vt=a;break;case 0:case 11:case 14:case 15:if(!Ve&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bs(r,t,s),a=a.next}while(a!==l)}Ht(e,t,r);break;case 1:if(!Ve&&(Yr(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(i){ke(r,t,i)}Ht(e,t,r);break;case 21:Ht(e,t,r);break;case 22:r.mode&1?(Ve=(l=Ve)||r.memoizedState!==null,Ht(e,t,r),Ve=l):Ht(e,t,r);break;default:Ht(e,t,r)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Yf),t.forEach(function(l){var a=op.bind(null,e,l);r.has(l)||(r.add(l),l.then(a,a))})}}function ht(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var a=r[l];try{var o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Ue=i.stateNode,vt=!1;break e;case 3:Ue=i.stateNode.containerInfo,vt=!0;break e;case 4:Ue=i.stateNode.containerInfo,vt=!0;break e}i=i.return}if(Ue===null)throw Error(A(160));Zm(o,s,a),Ue=null,vt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(m){ke(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ed(t,e),t=t.sibling}function ed(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),bt(e),l&4){try{Jn(3,e,e.return),Va(3,e)}catch(C){ke(e,e.return,C)}try{Jn(5,e,e.return)}catch(C){ke(e,e.return,C)}}break;case 1:ht(t,e),bt(e),l&512&&r!==null&&Yr(r,r.return);break;case 5:if(ht(t,e),bt(e),l&512&&r!==null&&Yr(r,r.return),e.flags&32){var a=e.stateNode;try{tl(a,"")}catch(C){ke(e,e.return,C)}}if(l&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Nu(a,o),Yo(i,s);var m=Yo(i,o);for(s=0;s<c.length;s+=2){var E=c[s],h=c[s+1];E==="style"?Pu(a,h):E==="dangerouslySetInnerHTML"?Su(a,h):E==="children"?tl(a,h):zs(a,E,h,m)}switch(i){case"input":Wo(a,o);break;case"textarea":bu(a,o);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Xr(a,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?Xr(a,!!o.multiple,o.defaultValue,!0):Xr(a,!!o.multiple,o.multiple?[]:"",!1))}a[ul]=o}catch(C){ke(e,e.return,C)}}break;case 6:if(ht(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(A(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(C){ke(e,e.return,C)}}break;case 3:if(ht(t,e),bt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{al(t.containerInfo)}catch(C){ke(e,e.return,C)}break;case 4:ht(t,e),bt(e);break;case 13:ht(t,e),bt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Ei=Se())),l&4&&jc(e);break;case 22:if(E=r!==null&&r.memoizedState!==null,e.mode&1?(Ve=(m=Ve)||E,ht(t,e),Ve=m):ht(t,e),bt(e),l&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!E&&e.mode&1)for(W=e,E=e.child;E!==null;){for(h=W=E;W!==null;){switch(v=W,w=v.child,v.tag){case 0:case 11:case 14:case 15:Jn(4,v,v.return);break;case 1:Yr(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){l=v,r=v.return;try{t=l,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(C){ke(l,r,C)}}break;case 5:Yr(v,v.return);break;case 22:if(v.memoizedState!==null){Dc(h);continue}}w!==null?(w.return=v,W=w):Dc(h)}E=E.sibling}e:for(E=null,h=e;;){if(h.tag===5){if(E===null){E=h;try{a=h.stateNode,m?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Cu("display",s))}catch(C){ke(e,e.return,C)}}}else if(h.tag===6){if(E===null)try{h.stateNode.nodeValue=m?"":h.memoizedProps}catch(C){ke(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;E===h&&(E=null),h=h.return}E===h&&(E=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),bt(e),l&4&&jc(e);break;case 21:break;default:ht(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xm(r)){var l=r;break e}r=r.return}throw Error(A(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(tl(a,""),l.flags&=-33);var o=Ac(e);Cs(e,o,a);break;case 3:case 4:var s=l.stateNode.containerInfo,i=Ac(e);Ss(e,i,s);break;default:throw Error(A(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xf(e,t,r){W=e,td(e)}function td(e,t,r){for(var l=(e.mode&1)!==0;W!==null;){var a=W,o=a.child;if(a.tag===22&&l){var s=a.memoizedState!==null||Wl;if(!s){var i=a.alternate,c=i!==null&&i.memoizedState!==null||Ve;i=Wl;var m=Ve;if(Wl=s,(Ve=c)&&!m)for(W=a;W!==null;)s=W,c=s.child,s.tag===22&&s.memoizedState!==null?zc(a):c!==null?(c.return=s,W=c):zc(a);for(;o!==null;)W=o,td(o),o=o.sibling;W=a,Wl=i,Ve=m}Oc(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,W=o):Oc(e)}}function Oc(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Va(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Ve)if(r===null)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:gt(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wc(t,o,l);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wc(t,s,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var E=m.memoizedState;if(E!==null){var h=E.dehydrated;h!==null&&al(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ve||t.flags&512&&ks(t)}catch(v){ke(t,t.return,v)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Dc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function zc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Va(4,t)}catch(c){ke(t,r,c)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var a=t.return;try{l.componentDidMount()}catch(c){ke(t,a,c)}}var o=t.return;try{ks(t)}catch(c){ke(t,o,c)}break;case 5:var s=t.return;try{ks(t)}catch(c){ke(t,s,c)}}}catch(c){ke(t,t.return,c)}if(t===e){W=null;break}var i=t.sibling;if(i!==null){i.return=t.return,W=i;break}W=t.return}}var Zf=Math.ceil,La=zt.ReactCurrentDispatcher,gi=zt.ReactCurrentOwner,dt=zt.ReactCurrentBatchConfig,se=0,Ie=null,Pe=null,je=0,rt=0,Jr=cr(0),Te=0,gl=null,Lr=0,Ba=0,vi=0,Xn=null,Ke=null,Ei=0,mn=1/0,Tt=null,Ma=!1,Ps=null,nr=null,Gl=!1,Yt=null,Ta=0,Zn=0,Ls=null,oa=-1,sa=0;function We(){return se&6?Se():oa!==-1?oa:oa=Se()}function lr(e){return e.mode&1?se&2&&je!==0?je&-je:jf.transition!==null?(sa===0&&(sa=zu()),sa):(e=me,e!==0||(e=window.event,e=e===void 0?16:Gu(e.type)),e):1}function wt(e,t,r,l){if(50<Zn)throw Zn=0,Ls=null,Error(A(185));yl(e,r,l),(!(se&2)||e!==Ie)&&(e===Ie&&(!(se&2)&&(Ba|=r),Te===4&&Qt(e,je)),Ze(e,l),r===1&&se===0&&!(t.mode&1)&&(mn=Se()+500,za&&ur()))}function Ze(e,t){var r=e.callbackNode;A0(e,t);var l=fa(e,e===Ie?je:0);if(l===0)r!==null&&Qi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&Qi(r),t===1)e.tag===0?Af($c.bind(null,e)):mm($c.bind(null,e)),_f(function(){!(se&6)&&ur()}),r=null;else{switch($u(l)){case 1:r=Hs;break;case 4:r=Ou;break;case 16:r=da;break;case 536870912:r=Du;break;default:r=da}r=cd(r,rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rd(e,t){if(oa=-1,sa=0,se&6)throw Error(A(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var l=fa(e,e===Ie?je:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=_a(e,l);else{t=l;var a=se;se|=2;var o=ld();(Ie!==e||je!==t)&&(Tt=null,mn=Se()+500,Nr(e,t));do try{rp();break}catch(i){nd(e,i)}while(1);ni(),La.current=o,se=a,Pe!==null?t=0:(Ie=null,je=0,t=Te)}if(t!==0){if(t===2&&(a=ts(e),a!==0&&(l=a,t=Ms(e,a))),t===1)throw r=gl,Nr(e,0),Qt(e,l),Ze(e,Se()),r;if(t===6)Qt(e,l);else{if(a=e.current.alternate,!(l&30)&&!ep(a)&&(t=_a(e,l),t===2&&(o=ts(e),o!==0&&(l=o,t=Ms(e,o))),t===1))throw r=gl,Nr(e,0),Qt(e,l),Ze(e,Se()),r;switch(e.finishedWork=a,e.finishedLanes=l,t){case 0:case 1:throw Error(A(345));case 2:Er(e,Ke,Tt);break;case 3:if(Qt(e,l),(l&130023424)===l&&(t=Ei+500-Se(),10<t)){if(fa(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){We(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cs(Er.bind(null,e,Ke,Tt),t);break}Er(e,Ke,Tt);break;case 4:if(Qt(e,l),(l&4194240)===l)break;for(t=e.eventTimes,a=-1;0<l;){var s=31-yt(l);o=1<<s,s=t[s],s>a&&(a=s),l&=~o}if(l=a,l=Se()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Zf(l/1960))-l,10<l){e.timeoutHandle=cs(Er.bind(null,e,Ke,Tt),l);break}Er(e,Ke,Tt);break;case 5:Er(e,Ke,Tt);break;default:throw Error(A(329))}}}return Ze(e,Se()),e.callbackNode===r?rd.bind(null,e):null}function Ms(e,t){var r=Xn;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=_a(e,t),e!==2&&(t=Ke,Ke=r,t!==null&&Ts(t)),e}function Ts(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var a=r[l],o=a.getSnapshot;a=a.value;try{if(!Nt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~vi,t&=~Ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yt(t),l=1<<r;e[r]=-1,t&=~l}}function $c(e){if(se&6)throw Error(A(327));nn();var t=fa(e,0);if(!(t&1))return Ze(e,Se()),null;var r=_a(e,t);if(e.tag!==0&&r===2){var l=ts(e);l!==0&&(t=l,r=Ms(e,l))}if(r===1)throw r=gl,Nr(e,0),Qt(e,t),Ze(e,Se()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,Ke,Tt),Ze(e,Se()),null}function xi(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(mn=Se()+500,za&&ur())}}function Mr(e){Yt!==null&&Yt.tag===0&&!(se&6)&&nn();var t=se;se|=1;var r=dt.transition,l=me;try{if(dt.transition=null,me=1,e)return e()}finally{me=l,dt.transition=r,se=t,!(se&6)&&ur()}}function yi(){rt=Jr.current,Ee(Jr)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tf(r)),Pe!==null)for(r=Pe.return;r!==null;){var l=r;switch(ei(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ea();break;case 3:cn(),Ee(Je),Ee(Be),ci();break;case 5:ii(l);break;case 4:cn();break;case 13:Ee(ye);break;case 19:Ee(ye);break;case 10:li(l.type._context);break;case 22:case 23:yi()}r=r.return}if(Ie=e,Pe=e=ar(e.current,null),je=rt=t,Te=0,gl=null,vi=Ba=Lr=0,Ke=Xn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],l=r.interleaved,l!==null){r.interleaved=null;var a=l.next,o=r.pending;if(o!==null){var s=o.next;o.next=a,l.next=s}r.pending=l}yr=null}return e}function nd(e,t){do{var r=Pe;try{if(ni(),na.current=Pa,Ca){for(var l=we.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Ca=!1}if(Pr=0,Re=Me=we=null,Yn=!1,fl=0,gi.current=null,r===null||r.return===null){Te=1,gl=t,Pe=null;break}e:{var o=e,s=r.return,i=r,c=t;if(t=je,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,E=i,h=E.tag;if(!(E.mode&1)&&(h===0||h===11||h===15)){var v=E.alternate;v?(E.updateQueue=v.updateQueue,E.memoizedState=v.memoizedState,E.lanes=v.lanes):(E.updateQueue=null,E.memoizedState=null)}var w=Pc(s);if(w!==null){w.flags&=-257,Lc(w,s,i,o,t),w.mode&1&&Cc(o,m,t),t=w,c=m;var S=t.updateQueue;if(S===null){var C=new Set;C.add(c),t.updateQueue=C}else S.add(c);break e}else{if(!(t&1)){Cc(o,m,t),wi();break e}c=Error(A(426))}}else if(xe&&i.mode&1){var T=Pc(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Lc(T,s,i,o,t),ti(un(c,i));break e}}o=c=un(c,i),Te!==4&&(Te=2),Xn===null?Xn=[o]:Xn.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=$m(o,c,t);yc(o,g);break e;case 1:i=c;var u=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof u.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Fm(o,i,t);yc(o,x);break e}}o=o.return}while(o!==null)}od(r)}catch(N){t=N,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(1)}function ld(){var e=La.current;return La.current=Pa,e===null?Pa:e}function wi(){(Te===0||Te===3||Te===2)&&(Te=4),Ie===null||!(Lr&268435455)&&!(Ba&268435455)||Qt(Ie,je)}function _a(e,t){var r=se;se|=2;var l=ld();(Ie!==e||je!==t)&&(Tt=null,Nr(e,t));do try{tp();break}catch(a){nd(e,a)}while(1);if(ni(),se=r,La.current=l,Pe!==null)throw Error(A(261));return Ie=null,je=0,Te}function tp(){for(;Pe!==null;)ad(Pe)}function rp(){for(;Pe!==null&&!C0();)ad(Pe)}function ad(e){var t=id(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?od(e):Pe=t,gi.current=null}function od(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kf(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Pe=null;return}}else if(r=Qf(r,t,rt),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Te===0&&(Te=5)}function Er(e,t,r){var l=me,a=dt.transition;try{dt.transition=null,me=1,np(e,t,r,l)}finally{dt.transition=a,me=l}return null}function np(e,t,r,l){do nn();while(Yt!==null);if(se&6)throw Error(A(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(j0(e,o),e===Ie&&(Pe=Ie=null,je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gl||(Gl=!0,cd(da,function(){return nn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var s=me;me=1;var i=se;se|=4,gi.current=null,Jf(e,r),ed(r,e),bf(ss),pa=!!os,ss=os=null,e.current=r,Xf(r),P0(),se=i,me=s,dt.transition=o}else e.current=r;if(Gl&&(Gl=!1,Yt=e,Ta=a),o=e.pendingLanes,o===0&&(nr=null),T0(r.stateNode),Ze(e,Se()),t!==null)for(l=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],l(a.value,{componentStack:a.stack,digest:a.digest});if(Ma)throw Ma=!1,e=Ps,Ps=null,e;return Ta&1&&e.tag!==0&&nn(),o=e.pendingLanes,o&1?e===Ls?Zn++:(Zn=0,Ls=e):Zn=0,ur(),null}function nn(){if(Yt!==null){var e=$u(Ta),t=dt.transition,r=me;try{if(dt.transition=null,me=16>e?16:e,Yt===null)var l=!1;else{if(e=Yt,Yt=null,Ta=0,se&6)throw Error(A(331));var a=se;for(se|=4,W=e.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var m=i[c];for(W=m;W!==null;){var E=W;switch(E.tag){case 0:case 11:case 15:Jn(8,E,o)}var h=E.child;if(h!==null)h.return=E,W=h;else for(;W!==null;){E=W;var v=E.sibling,w=E.return;if(Jm(E),E===m){W=null;break}if(v!==null){v.return=w,W=v;break}W=w}}}var S=o.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var T=C.sibling;C.sibling=null,C=T}while(C!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jn(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,W=g;break e}W=o.return}}var u=e.current;for(W=u;W!==null;){s=W;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,W=p;else e:for(s=u;W!==null;){if(i=W,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Va(9,i)}}catch(N){ke(i,i.return,N)}if(i===s){W=null;break e}var x=i.sibling;if(x!==null){x.return=i.return,W=x;break e}W=i.return}}if(se=a,ur(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ua,e)}catch{}l=!0}return l}finally{me=r,dt.transition=t}}return!1}function Fc(e,t,r){t=un(r,t),t=$m(e,t,1),e=rr(e,t,1),t=We(),e!==null&&(yl(e,1,t),Ze(e,t))}function ke(e,t,r){if(e.tag===3)Fc(e,e,r);else for(;t!==null;){if(t.tag===3){Fc(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){e=un(r,e),e=Fm(t,e,1),t=rr(t,e,1),e=We(),t!==null&&(yl(t,1,e),Ze(t,e));break}}t=t.return}}function lp(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(je&r)===r&&(Te===4||Te===3&&(je&130023424)===je&&500>Se()-Ei?Nr(e,0):vi|=r),Ze(e,t)}function sd(e,t){t===0&&(e.mode&1?(t=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):t=1);var r=We();e=Ot(e,t),e!==null&&(yl(e,t,r),Ze(e,r))}function ap(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sd(e,r)}function op(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(A(314))}l!==null&&l.delete(t),sd(e,r)}var id;id=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,qf(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,xe&&t.flags&1048576&&dm(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;aa(e,t),e=t.pendingProps;var a=an(t,Be.current);rn(t,r),a=mi(null,t,l,e,a,r);var o=di();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(l)?(o=!0,xa(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,oi(t),a.updater=Fa,t.stateNode=a,a._reactInternals=t,gs(t,l,e,r),t=xs(null,t,l,!0,o,r)):(t.tag=0,xe&&o&&Zs(t),He(null,t,a,r),t=t.child),t;case 16:l=t.elementType;e:{switch(aa(e,t),e=t.pendingProps,a=l._init,l=a(l._payload),t.type=l,a=t.tag=ip(l),e=gt(l,e),a){case 0:t=Es(null,t,l,e,r);break e;case 1:t=_c(null,t,l,e,r);break e;case 11:t=Mc(null,t,l,e,r);break e;case 14:t=Tc(null,t,l,gt(l.type,e),r);break e}throw Error(A(306,l,""))}return t;case 0:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:gt(l,a),Es(e,t,l,a,r);case 1:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:gt(l,a),_c(e,t,l,a,r);case 3:e:{if(Wm(t),e===null)throw Error(A(387));l=t.pendingProps,o=t.memoizedState,a=o.element,Em(e,t),ka(t,l,null,r);var s=t.memoizedState;if(l=s.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=un(Error(A(423)),t),t=Rc(e,t,l,r,a);break e}else if(l!==a){a=un(Error(A(424)),t),t=Rc(e,t,l,r,a);break e}else for(nt=tr(t.stateNode.containerInfo.firstChild),lt=t,xe=!0,Et=null,r=gm(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(on(),l===a){t=Dt(e,t,r);break e}He(e,t,l,r)}t=t.child}return t;case 5:return xm(t),e===null&&fs(t),l=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,is(l,a)?s=null:o!==null&&is(l,o)&&(t.flags|=32),Hm(e,t),He(e,t,s,r),t.child;case 6:return e===null&&fs(t),null;case 13:return Gm(e,t,r);case 4:return si(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=sn(t,null,l,r):He(e,t,l,r),t.child;case 11:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:gt(l,a),Mc(e,t,l,a,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,he(Na,l._currentValue),l._currentValue=s,o!==null)if(Nt(o.value,s)){if(o.children===a.children&&!Je.current){t=Dt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var c=i.firstContext;c!==null;){if(c.context===l){if(o.tag===1){c=Ut(-1,r&-r),c.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var E=m.pending;E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ps(o.return,r,t),i.lanes|=r;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),ps(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}He(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,l=t.pendingProps.children,rn(t,r),a=ft(a),l=l(a),t.flags|=1,He(e,t,l,r),t.child;case 14:return l=t.type,a=gt(l,t.pendingProps),a=gt(l.type,a),Tc(e,t,l,a,r);case 15:return Vm(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:gt(l,a),aa(e,t),t.tag=1,Xe(l)?(e=!0,xa(t)):e=!1,rn(t,r),zm(t,l,a),gs(t,l,a,r),xs(null,t,l,!0,e,r);case 19:return qm(e,t,r);case 22:return Bm(e,t,r)}throw Error(A(156,t.tag))};function cd(e,t){return ju(e,t)}function sp(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,r,l){return new sp(e,t,r,l)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ip(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fs)return 11;if(e===Vs)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ia(e,t,r,l,a,o){var s=2;if(l=e,typeof e=="function")Ni(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fr:return br(r.children,a,o,t);case $s:s=8,a|=8;break;case $o:return e=mt(12,r,t,a|2),e.elementType=$o,e.lanes=o,e;case Fo:return e=mt(13,r,t,a),e.elementType=Fo,e.lanes=o,e;case Vo:return e=mt(19,r,t,a),e.elementType=Vo,e.lanes=o,e;case xu:return Ha(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vu:s=10;break e;case Eu:s=9;break e;case Fs:s=11;break e;case Vs:s=14;break e;case Wt:s=16,l=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=mt(s,r,t,a),t.elementType=e,t.type=l,t.lanes=o,t}function br(e,t,r,l){return e=mt(7,e,l,t),e.lanes=r,e}function Ha(e,t,r,l){return e=mt(22,e,l,t),e.elementType=xu,e.lanes=r,e.stateNode={isHidden:!1},e}function Mo(e,t,r){return e=mt(6,e,null,t),e.lanes=r,e}function To(e,t,r){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cp(e,t,r,l,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bi(e,t,r,l,a,o,s,i,c){return e=new cp(e,t,r,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oi(o),e}function up(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}}function ud(e){if(!e)return sr;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(Xe(r))return um(e,r,t)}return t}function md(e,t,r,l,a,o,s,i,c){return e=bi(r,l,!0,e,a,o,s,i,c),e.context=ud(null),r=e.current,l=We(),a=lr(r),o=Ut(l,a),o.callback=t??null,rr(r,o,a),e.current.lanes=a,yl(e,a,l),Ze(e,l),e}function Wa(e,t,r,l){var a=t.current,o=We(),s=lr(a);return r=ud(r),t.context===null?t.context=r:t.pendingContext=r,t=Ut(o,s),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=rr(a,t,s),e!==null&&(wt(e,a,s,o),ra(e,a,s)),s}function Ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ki(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function mp(){return null}var dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Si(e){this._internalRoot=e}Ga.prototype.render=Si.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Wa(e,t,null,null)};Ga.prototype.unmount=Si.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){Wa(null,e,null,null)}),t[jt]=null}};function Ga(e){this._internalRoot=e}Ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&Wu(e)}};function Ci(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function dp(e,t,r,l,a){if(a){if(typeof l=="function"){var o=l;l=function(){var m=Ra(s);o.call(m)}}var s=md(t,l,e,0,null,!1,!1,"",Bc);return e._reactRootContainer=s,e[jt]=s.current,il(e.nodeType===8?e.parentNode:e),Mr(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var i=l;l=function(){var m=Ra(c);i.call(m)}}var c=bi(e,0,!1,null,null,!1,!1,"",Bc);return e._reactRootContainer=c,e[jt]=c.current,il(e.nodeType===8?e.parentNode:e),Mr(function(){Wa(t,c,r,l)}),c}function Qa(e,t,r,l,a){var o=r._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var i=a;a=function(){var c=Ra(s);i.call(c)}}Wa(t,s,e,a)}else s=dp(r,t,e,a,l);return Ra(s)}Fu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vn(t.pendingLanes);r!==0&&(Ws(t,r|1),Ze(t,Se()),!(se&6)&&(mn=Se()+500,ur()))}break;case 13:Mr(function(){var l=Ot(e,1);if(l!==null){var a=We();wt(l,e,1,a)}}),ki(e,1)}};Gs=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var r=We();wt(t,e,134217728,r)}ki(e,134217728)}};Vu=function(e){if(e.tag===13){var t=lr(e),r=Ot(e,t);if(r!==null){var l=We();wt(r,e,t,l)}ki(e,t)}};Bu=function(){return me};Hu=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Xo=function(e,t,r){switch(t){case"input":if(Wo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var a=Da(l);if(!a)throw Error(A(90));wu(l),Wo(l,a)}}}break;case"textarea":bu(e,r);break;case"select":t=r.value,t!=null&&Xr(e,!!r.multiple,t,!1)}};Tu=xi;_u=Mr;var fp={usingClientEntryPoint:!1,Events:[Nl,Wr,Da,Lu,Mu,xi]},On={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pp={bundleType:On.bundleType,version:On.version,rendererPackageName:On.rendererPackageName,rendererConfig:On.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uu(e),e===null?null:e.stateNode},findFiberByHostInstance:On.findFiberByHostInstance||mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ua=ql.inject(pp),Pt=ql}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fp;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ci(t))throw Error(A(200));return up(e,t,null,r)};ot.createRoot=function(e,t){if(!Ci(e))throw Error(A(299));var r=!1,l="",a=dd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bi(e,1,!1,null,null,r,!1,l,a),e[jt]=t.current,il(e.nodeType===8?e.parentNode:e),new Si(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Uu(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Mr(e)};ot.hydrate=function(e,t,r){if(!qa(t))throw Error(A(200));return Qa(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!Ci(e))throw Error(A(405));var l=r!=null&&r.hydratedSources||null,a=!1,o="",s=dd;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=md(t,null,e,1,r??null,a,!1,o,s),e[jt]=t.current,il(e),l)for(e=0;e<l.length;e++)r=l[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ga(t)};ot.render=function(e,t,r){if(!qa(t))throw Error(A(200));return Qa(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!qa(e))throw Error(A(40));return e._reactRootContainer?(Mr(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};ot.unstable_batchedUpdates=xi;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,l){if(!qa(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Qa(e,t,r,!1,l)};ot.version="18.3.1-next-f1338f8080-20240426";function fd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fd)}catch(e){console.error(e)}}fd(),fu.exports=ot;var hp=fu.exports,Hc=hp;Do.createRoot=Hc.createRoot,Do.hydrateRoot=Hc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},vl.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const Wc="popstate";function gp(e){e===void 0&&(e={});function t(l,a){let{pathname:o,search:s,hash:i}=l.location;return _s("",{pathname:o,search:s,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(l,a){return typeof a=="string"?a:hd(a)}return Ep(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vp(){return Math.random().toString(36).substr(2,8)}function Gc(e,t){return{usr:e.state,key:e.key,idx:t}}function _s(e,t,r,l){return r===void 0&&(r=null),vl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hn(t):t,{state:r,key:t&&t.key||l||vp()})}function hd(e){let{pathname:t="/",search:r="",hash:l=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function hn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Ep(e,t,r,l){l===void 0&&(l={});let{window:a=document.defaultView,v5Compat:o=!1}=l,s=a.history,i=Jt.Pop,c=null,m=E();m==null&&(m=0,s.replaceState(vl({},s.state,{idx:m}),""));function E(){return(s.state||{idx:null}).idx}function h(){i=Jt.Pop;let T=E(),g=T==null?null:T-m;m=T,c&&c({action:i,location:C.location,delta:g})}function v(T,g){i=Jt.Push;let u=_s(C.location,T,g);r&&r(u,T),m=E()+1;let p=Gc(u,m),x=C.createHref(u);try{s.pushState(p,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(x)}o&&c&&c({action:i,location:C.location,delta:1})}function w(T,g){i=Jt.Replace;let u=_s(C.location,T,g);r&&r(u,T),m=E();let p=Gc(u,m),x=C.createHref(u);s.replaceState(p,"",x),o&&c&&c({action:i,location:C.location,delta:0})}function S(T){let g=a.location.origin!=="null"?a.location.origin:a.location.href,u=typeof T=="string"?T:hd(T);return u=u.replace(/ $/,"%20"),Le(g,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,g)}let C={get action(){return i},get location(){return e(a,s)},listen(T){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wc,h),c=T,()=>{a.removeEventListener(Wc,h),c=null}},createHref(T){return t(a,T)},createURL:S,encodeLocation(T){let g=S(T);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:v,replace:w,go(T){return s.go(T)}};return C}var qc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qc||(qc={}));function xp(e,t,r){return r===void 0&&(r="/"),yp(e,t,r,!1)}function yp(e,t,r,l){let a=typeof t=="string"?hn(t):t,o=Ed(a.pathname||"/",r);if(o==null)return null;let s=gd(e);wp(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let m=Rp(o);i=Tp(s[c],m,l)}return i}function gd(e,t,r,l){t===void 0&&(t=[]),r===void 0&&(r=[]),l===void 0&&(l="");let a=(o,s,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(l),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(l.length));let m=kr([l,c.relativePath]),E=r.concat(c);o.children&&o.children.length>0&&(Le(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),gd(o.children,t,E,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:Lp(m,o.index),routesMeta:E})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let c of vd(o.path))a(o,s,c)}),t}function vd(e){let t=e.split("/");if(t.length===0)return[];let[r,...l]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(l.length===0)return a?[o,""]:[o];let s=vd(l.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function wp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mp(t.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const Np=/^:[\w-]+$/,bp=3,kp=2,Sp=1,Cp=10,Pp=-2,Qc=e=>e==="*";function Lp(e,t){let r=e.split("/"),l=r.length;return r.some(Qc)&&(l+=Pp),t&&(l+=kp),r.filter(a=>!Qc(a)).reduce((a,o)=>a+(Np.test(o)?bp:o===""?Sp:Cp),l)}function Mp(e,t){return e.length===t.length&&e.slice(0,-1).every((l,a)=>l===t[a])?e[e.length-1]-t[t.length-1]:0}function Tp(e,t,r){r===void 0&&(r=!1);let{routesMeta:l}=e,a={},o="/",s=[];for(let i=0;i<l.length;++i){let c=l[i],m=i===l.length-1,E=o==="/"?t:t.slice(o.length)||"/",h=Kc({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},E),v=c.route;if(!h&&m&&r&&!l[l.length-1].route.index&&(h=Kc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},E)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:kr([o,h.pathname]),pathnameBase:jp(kr([o,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(o=kr([o,h.pathnameBase]))}return s}function Kc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=_p(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:l.reduce((m,E,h)=>{let{paramName:v,isOptional:w}=E;if(v==="*"){let C=i[h]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=i[h];return w&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:s,pattern:e}}function _p(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),pd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(l.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),l]}function Rp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ed(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}function Ip(e,t){t===void 0&&(t="/");let{pathname:r,search:l="",hash:a=""}=typeof e=="string"?hn(e):e;return{pathname:r?r.startsWith("/")?r:Up(r,t):t,search:Op(l),hash:Dp(a)}}function Up(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function _o(e,t,r,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ap(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xd(e,t){let r=Ap(e);return t?r.map((l,a)=>a===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function yd(e,t,r,l){l===void 0&&(l=!1);let a;typeof e=="string"?a=hn(e):(a=vl({},e),Le(!a.pathname||!a.pathname.includes("?"),_o("?","pathname","search",a)),Le(!a.pathname||!a.pathname.includes("#"),_o("#","pathname","hash",a)),Le(!a.search||!a.search.includes("#"),_o("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=r;else{let h=t.length-1;if(!l&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),h-=1;a.pathname=v.join("/")}i=h>=0?t[h]:"/"}let c=Ip(a,i),m=s&&s!=="/"&&s.endsWith("/"),E=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(m||E)&&(c.pathname+="/"),c}const kr=e=>e.join("/").replace(/\/\/+/g,"/"),jp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Op=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wd=["post","put","patch","delete"];new Set(wd);const $p=["get",...wd];new Set($p);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},El.apply(this,arguments)}const Pi=f.createContext(null),Fp=f.createContext(null),kl=f.createContext(null),Ka=f.createContext(null),Ir=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Nd=f.createContext(null);function Sl(){return f.useContext(Ka)!=null}function Li(){return Sl()||Le(!1),f.useContext(Ka).location}function bd(e){f.useContext(kl).static||f.useLayoutEffect(e)}function Mi(){let{isDataRoute:e}=f.useContext(Ir);return e?eh():Vp()}function Vp(){Sl()||Le(!1);let e=f.useContext(Pi),{basename:t,future:r,navigator:l}=f.useContext(kl),{matches:a}=f.useContext(Ir),{pathname:o}=Li(),s=JSON.stringify(xd(a,r.v7_relativeSplatPath)),i=f.useRef(!1);return bd(()=>{i.current=!0}),f.useCallback(function(m,E){if(E===void 0&&(E={}),!i.current)return;if(typeof m=="number"){l.go(m);return}let h=yd(m,JSON.parse(s),o,E.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kr([t,h.pathname])),(E.replace?l.replace:l.push)(h,E.state,E)},[t,l,s,o,e])}function Bp(e,t){return Hp(e,t)}function Hp(e,t,r,l){Sl()||Le(!1);let{navigator:a}=f.useContext(kl),{matches:o}=f.useContext(Ir),s=o[o.length-1],i=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let m=Li(),E;if(t){var h;let T=typeof t=="string"?hn(t):t;c==="/"||(h=T.pathname)!=null&&h.startsWith(c)||Le(!1),E=T}else E=m;let v=E.pathname||"/",w=v;if(c!=="/"){let T=c.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=xp(e,{pathname:w}),C=Kp(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},i,T.params),pathname:kr([c,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:kr([c,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,r,l);return t&&C?f.createElement(Ka.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Jt.Pop}},C):C}function Wp(){let e=Zp(),t=zp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,o)}const Gp=f.createElement(Wp,null);class qp extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(Ir.Provider,{value:this.props.routeContext},f.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qp(e){let{routeContext:t,match:r,children:l}=e,a=f.useContext(Pi);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Ir.Provider,{value:t},l)}function Kp(e,t,r,l){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),l===void 0&&(l=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=l)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=(a=r)==null?void 0:a.errors;if(i!=null){let E=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);E>=0||Le(!1),s=s.slice(0,Math.min(s.length,E+1))}let c=!1,m=-1;if(r&&l&&l.v7_partialHydration)for(let E=0;E<s.length;E++){let h=s[E];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=E),h.route.id){let{loaderData:v,errors:w}=r,S=h.route.loader&&v[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||S){c=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((E,h,v)=>{let w,S=!1,C=null,T=null;r&&(w=i&&h.route.id?i[h.route.id]:void 0,C=h.route.errorElement||Gp,c&&(m<0&&v===0?(th("route-fallback",!1),S=!0,T=null):m===v&&(S=!0,T=h.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,v+1)),u=()=>{let p;return w?p=C:S?p=T:h.route.Component?p=f.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=E,f.createElement(Qp,{match:h,routeContext:{outlet:E,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?f.createElement(qp,{location:r.location,revalidation:r.revalidation,component:C,error:w,children:u(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):u()},null)}var kd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kd||{}),Ia=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ia||{});function Yp(e){let t=f.useContext(Pi);return t||Le(!1),t}function Jp(e){let t=f.useContext(Fp);return t||Le(!1),t}function Xp(e){let t=f.useContext(Ir);return t||Le(!1),t}function Sd(e){let t=Xp(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function Zp(){var e;let t=f.useContext(Nd),r=Jp(Ia.UseRouteError),l=Sd(Ia.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[l]}function eh(){let{router:e}=Yp(kd.UseNavigateStable),t=Sd(Ia.UseNavigateStable),r=f.useRef(!1);return bd(()=>{r.current=!0}),f.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,El({fromRouteId:t},o)))},[e,t])}const Yc={};function th(e,t,r){!t&&!Yc[e]&&(Yc[e]=!0)}function rh(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ql(e){let{to:t,replace:r,state:l,relative:a}=e;Sl()||Le(!1);let{future:o,static:s}=f.useContext(kl),{matches:i}=f.useContext(Ir),{pathname:c}=Li(),m=Mi(),E=yd(t,xd(i,o.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(E);return f.useEffect(()=>m(JSON.parse(h),{replace:r,state:l,relative:a}),[m,h,a,r,l]),null}function Hn(e){Le(!1)}function nh(e){let{basename:t="/",children:r=null,location:l,navigationType:a=Jt.Pop,navigator:o,static:s=!1,future:i}=e;Sl()&&Le(!1);let c=t.replace(/^\/*/,"/"),m=f.useMemo(()=>({basename:c,navigator:o,static:s,future:El({v7_relativeSplatPath:!1},i)}),[c,i,o,s]);typeof l=="string"&&(l=hn(l));let{pathname:E="/",search:h="",hash:v="",state:w=null,key:S="default"}=l,C=f.useMemo(()=>{let T=Ed(E,c);return T==null?null:{location:{pathname:T,search:h,hash:v,state:w,key:S},navigationType:a}},[c,E,h,v,w,S,a]);return C==null?null:f.createElement(kl.Provider,{value:m},f.createElement(Ka.Provider,{children:r,value:C}))}function lh(e){let{children:t,location:r}=e;return Bp(Rs(t),r)}new Promise(()=>{});function Rs(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(l,a)=>{if(!f.isValidElement(l))return;let o=[...t,a];if(l.type===f.Fragment){r.push.apply(r,Rs(l.props.children,o));return}l.type!==Hn&&Le(!1),!l.props.index||!l.props.children||Le(!1);let s={id:l.props.id||o.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(s.children=Rs(l.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ah="6";try{window.__reactRouterVersion=ah}catch{}const oh="startTransition",Jc=c0[oh];function sh(e){let{basename:t,children:r,future:l,window:a}=e,o=f.useRef();o.current==null&&(o.current=gp({window:a,v5Compat:!0}));let s=o.current,[i,c]=f.useState({action:s.action,location:s.location}),{v7_startTransition:m}=l||{},E=f.useCallback(h=>{m&&Jc?Jc(()=>c(h)):c(h)},[c,m]);return f.useLayoutEffect(()=>s.listen(E),[s,E]),f.useEffect(()=>rh(l),[l]),f.createElement(nh,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:s,future:l})}var Xc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xc||(Xc={}));var Zc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zc||(Zc={}));const eu="http://localhost/localbook/backend/api/auth",tu={async register(e,t){try{console.log("AuthService.register appelé avec:",e,t);const r=new FormData;r.append("NOM",e.NOM),r.append("CIN_NUM",e.CIN_NUM),r.append("STATUT",e.STATUT),r.append("TELE",e.TELE),r.append("EMAIL",e.EMAIL),r.append("MDPS",e.MDPS),t?(r.append("cin-file-upload",t),console.log("Fichier CIN ajouté au FormData:",t.name)):console.error("Aucun fichier CIN fourni !");for(let o of r.entries())console.log(o[0]+": "+o[1]);const l=await fetch(`${eu}/register.php`,{method:"POST",body:r});console.log("Statut de la réponse:",l.status);const a=await l.text();console.log("Réponse brute du serveur:",a);try{const o=JSON.parse(a);return console.log("Données parsées:",o),l.ok?{success:!0,message:o.success}:{success:!1,error:o.error}}catch{return console.error("Invalid JSON response:",a),{success:!1,error:"Réponse serveur invalide: "+a}}}catch(r){return console.error("Registration error:",r),{success:!1,error:"Erreur de connexion au serveur"}}},async login(e){try{const t=await fetch(`${eu}/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return t.ok?{success:!0,message:r.success,user:r.user}:{success:!1,error:r.error}}catch(t){return console.error("Login error:",t),{success:!1,error:"Erreur de connexion au serveur"}}}},Cd=f.createContext(),ih=({children:e})=>{const[t,r]=f.useState(null),[l,a]=f.useState(null),[o,s]=f.useState(null),[i,c]=f.useState(!1);f.useEffect(()=>{const v=localStorage.getItem("user");if(v)try{const w=JSON.parse(v);console.log("Utilisateur chargé depuis localStorage:",w),s(w),c(!0)}catch(w){console.error("Erreur lors du parsing des données utilisateur:",w),localStorage.removeItem("user")}},[]);const m=async(v,w)=>{r(null),a(null);const S=await tu.register(v,w);return S.success?a(S.message):r(S.error),S},E=async v=>{r(null),a(null);try{const w=await tu.login(v);return w.success?(a(w.message),s(w.user),c(!0),localStorage.setItem("user",JSON.stringify(w.user))):r(w.error),w}catch(w){return console.error("Login error:",w),r("Erreur de connexion"),{success:!1,error:"Erreur inconnue"}}},h=()=>{s(null),c(!1),r(null),a(null),localStorage.removeItem("user")};return n.createElement(Cd.Provider,{value:{register:m,login:E,logout:h,error:t,success:l,user:o,isAuthenticated:i,setError:r,setSuccess:a}},e)},it=()=>f.useContext(Cd);function ch({onShowProfile:e,onShowFollowers:t,onShowFollowing:r,onShowGroups:l,onShowVideos:a,onShowSavedPosts:o,onShowRecommendations:s}){const{user:i}=it(),c=i!=null&&i.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${i.IMG_PROFIL}`:"https://via.placeholder.com/40";return n.createElement("div",{className:"w-1/5 p-4 bg-white shadow hidden md:block overflow-y-auto h-screen sticky top-16"},n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:e},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:c,alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("span",{className:"font-medium"},i?i.NOM:"Votre Nom")),n.createElement("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:r},n.createElement("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600"},n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))),n.createElement("span",null,"Personnes suivies")),n.createElement("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:a},n.createElement("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600"},n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"}))),n.createElement("span",null,"Vidéos")),n.createElement("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:o},n.createElement("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600"},n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}))),n.createElement("span",null,"Enregistrements")),n.createElement("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:s},n.createElement("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600"},n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))),n.createElement("span",null,"Recommendations"))))}const uh="http://localhost/localbook/backend/api",mh={async changePassword(e){try{const t=await fetch(`${uh}/auth/change-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.userId,currentPassword:e.currentPassword,newPassword:e.newPassword})}),r=await t.json();return t.ok?{success:!0,message:r.message||"Mot de passe modifié avec succès"}:{success:!1,error:r.error||`Erreur HTTP: ${t.status}`}}catch(t){return console.error("Erreur lors du changement de mot de passe:",t),{success:!1,error:"Erreur de connexion au serveur"}}}};function dh({isOpen:e,onClose:t}){const{user:r}=it(),[l,a]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[o,s]=f.useState({}),[i,c]=f.useState(!1),[m,E]=f.useState(""),h=T=>{const{name:g,value:u}=T.target;a(p=>({...p,[g]:u})),o[g]&&s(p=>({...p,[g]:""}))},v=()=>{const T={};return l.currentPassword||(T.currentPassword="Le mot de passe actuel est requis"),l.newPassword?l.newPassword.length<7&&(T.newPassword="Le nouveau mot de passe doit contenir au moins 7 caractères"):T.newPassword="Le nouveau mot de passe est requis",l.confirmPassword?l.newPassword!==l.confirmPassword&&(T.confirmPassword="Les mots de passe ne correspondent pas"):T.confirmPassword="La confirmation du mot de passe est requise",l.currentPassword===l.newPassword&&(T.newPassword="Le nouveau mot de passe doit être différent de l'ancien"),s(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),!!v()){c(!0),E("");try{const g=await mh.changePassword({userId:r.ID_USER,currentPassword:l.currentPassword,newPassword:l.newPassword});g.success?(E("Mot de passe modifié avec succès !"),a({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{t(),E("")},2e3)):s({general:g.error})}catch{s({general:"Erreur de connexion au serveur"})}finally{c(!1)}}},S=()=>{a({currentPassword:"",newPassword:"",confirmPassword:""}),s({}),E(""),t()},C=T=>{T.target===T.currentTarget&&S()};return e?n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:C},n.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4"},n.createElement("div",{className:"flex items-center justify-between p-6 border-b"},n.createElement("h2",{className:"text-xl font-semibold text-gray-800"},"Changer le mot de passe"),n.createElement("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 transition-colors"},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})))),n.createElement("form",{onSubmit:w,className:"p-6"},m&&n.createElement("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded"},m),o.general&&n.createElement("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded"},o.general),n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe actuel"),n.createElement("input",{type:"password",id:"currentPassword",name:"currentPassword",value:l.currentPassword,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.currentPassword?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre mot de passe actuel"}),o.currentPassword&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},o.currentPassword)),n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe"),n.createElement("input",{type:"password",id:"newPassword",name:"newPassword",value:l.newPassword,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre nouveau mot de passe (min. 7 caractères)"}),o.newPassword&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},o.newPassword)),n.createElement("div",{className:"mb-6"},n.createElement("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2"},"Confirmer le nouveau mot de passe"),n.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirmez votre nouveau mot de passe"}),o.confirmPassword&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},o.confirmPassword)),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors"},"Annuler"),n.createElement("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},i?"Modification...":"Modifier"))))):null}const Ro="http://localhost/localbook/backend/api";class Io{static async getNotifications(t,r=20,l=0){try{const a=`${Ro}/notifications/get.php?user_id=${t}&limit=${r}&offset=${l}`;console.log("Fetching notifications from:",a);const o=await fetch(a);if(console.log("Response status:",o.status),!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();return console.log("Notifications data received:",s),s}catch(a){return console.error("Error getting notifications:",a),{success:!1,error:"Error getting notifications: "+(a.message||"Unknown error"),notifications:[]}}}static async createNotification(t,r,l,a,o){try{const s=await fetch(`${Ro}/notifications/create.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_from:t,user_to:r,post_id:l,type:a,message:o})});if(!s.ok)throw new Error("Network response was not ok");return await s.json()}catch(s){return console.error("Error creating notification:",s),{success:!1,error:"Error creating notification: "+(s.message||"Unknown error")}}}static async markNotificationsAsViewed(t){try{const r=await fetch(`${Ro}/notifications/mark_viewed.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t})});if(!r.ok)throw new Error("Network response was not ok");return await r.json()}catch(r){return console.error("Error marking notifications as viewed:",r),{success:!1,error:"Error marking notifications as viewed: "+(r.message||"Unknown error")}}}static formatTimeAgo(t){const r=new Date(t),a=Math.floor((new Date-r)/1e3);return a<60?"à l'instant":a<3600?`il y a ${Math.floor(a/60)}min`:a<86400?`il y a ${Math.floor(a/3600)}h`:`il y a ${Math.floor(a/86400)}j`}}const fh=()=>{const{user:e}=it(),[t,r]=f.useState([]),[l,a]=f.useState(!1),[o,s]=f.useState(null),[i,c]=f.useState(0),m=f.useCallback(async()=>{if(e!=null&&e.ID_USER){a(!0),s(null);try{const w=await Io.getNotifications(e.ID_USER);w.success?(r(w.notifications||[]),c(w.unread_count||0)):s(w.error||"Erreur lors du chargement des notifications")}catch(w){s("Erreur lors du chargement des notifications"),console.error("Error loading notifications:",w)}finally{a(!1)}}},[e==null?void 0:e.ID_USER]);f.useEffect(()=>{e!=null&&e.ID_USER&&m()},[m,e]);const E=f.useCallback(()=>{m()},[m]),h=f.useCallback(async()=>{if(e!=null&&e.ID_USER)try{const w=await Io.markNotificationsAsViewed(e.ID_USER);return w.success&&c(0),w}catch(w){return console.error("Error marking notifications as viewed:",w),{success:!1,error:"Erreur lors du marquage des notifications"}}},[e==null?void 0:e.ID_USER]),v=f.useCallback(async(w,S,C,T)=>{if(e!=null&&e.ID_USER)try{const g=await Io.createNotification(e.ID_USER,w,S,C,T);return g.success,g}catch(g){return console.error("Error creating notification:",g),{success:!1,error:"Erreur lors de la création de la notification"}}},[e==null?void 0:e.ID_USER]);return{notifications:t,loading:l,error:o,unreadCount:i,refreshNotifications:E,markNotificationsAsViewed:h,createNotification:v}};function ph({onShowProfile:e,onShowFeed:t,onSearch:r}){const{user:l,logout:a}=it(),o=Mi(),{notifications:s,loading:i,unreadCount:c,markNotificationsAsViewed:m}=fh();n.useEffect(()=>{console.log("Notifications chargées:",s)},[s]);const E=l!=null&&l.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${l.IMG_PROFIL}`:"https://via.placeholder.com/40",[h,v]=f.useState(!1),[w,S]=f.useState(!1),[C,T]=f.useState(""),[g,u]=f.useState(!1),p=j=>{const J=j.target.value;T(J),r&&r(J.trim())},x=()=>{T(""),r&&r("")},N=async()=>{const j=h;v(!h),w&&S(!1),!j&&c>0&&await m()},U=()=>{S(!w),h&&v(!1)},$=()=>{a(),o("/")};return n.createElement(n.Fragment,null,n.createElement("header",{className:"bg-white shadow px-4 py-3 flex justify-between items-center sticky top-0 z-20"},n.createElement("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:t},n.createElement("img",{src:"../favicon2.png",alt:"Localbook Logo",className:"w-8 h-8"}),n.createElement("h1",{className:"text-xl font-bold text-blue-600"},"Localbook")),n.createElement("div",{className:"flex-1 max-w-xl mx-4"},n.createElement("div",{className:"relative"},n.createElement("input",{className:"w-full px-4 py-2 pl-10 pr-10 border rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"Rechercher des posts (ex: maison tanger birchifa)...",value:C,onChange:p}),n.createElement("svg",{className:"w-5 h-5 text-gray-500 absolute left-3 top-2.5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})),C&&n.createElement("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2"},n.createElement("button",{onClick:x,className:"p-1 rounded-full hover:bg-gray-200 transition-colors",title:"Effacer la recherche"},n.createElement("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))))),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",onClick:t},n.createElement("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))),n.createElement("div",{className:"relative"},n.createElement("button",{className:`p-2 ${h?"bg-blue-100 text-blue-600":"bg-gray-200 text-blue-600"} rounded-full relative`,onClick:N},n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})),c>0&&n.createElement("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},c)),h&&n.createElement("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg overflow-hidden z-30"},n.createElement("div",{className:"p-3 border-b"},n.createElement("h3",{className:"font-bold text-lg"},"Notifications")),n.createElement("div",{className:"max-h-96 overflow-y-auto"},i?n.createElement("div",{className:"p-4 text-center text-gray-500"},"Chargement des notifications..."):s.length>0?n.createElement("div",null,s.map(j=>n.createElement("div",{key:j.id,className:"p-3 hover:bg-gray-50 cursor-pointer flex items-start"},n.createElement("div",{className:"relative mr-3"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden"},n.createElement("img",{src:j.avatar||"https://via.placeholder.com/40",alt:j.user||"Utilisateur",className:"w-full h-full object-cover",onError:J=>J.target.src="https://via.placeholder.com/40"}))),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"font-semibold"},j.user||"Utilisateur")," ",j.action||"a effectué une action"),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},j.time||"Récemment"))))):n.createElement("div",{className:"p-4 text-center text-gray-500"},"Aucune notification")))),n.createElement("div",{className:"relative"},n.createElement("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:U},n.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:E,alt:"Profile",className:"w-full h-full object-cover",onError:j=>j.target.src="https://via.placeholder.com/40"})),n.createElement("span",{className:"font-medium text-gray-700"},l?l.NOM:"Utilisateur"),n.createElement("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))),w&&n.createElement("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg overflow-hidden z-30"},n.createElement("div",{className:"p-3 border-b"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:l!=null&&l.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${l.IMG_PROFIL}`:"https://via.placeholder.com/48",alt:"Profile",className:"w-full h-full object-cover",onError:j=>j.target.src="https://via.placeholder.com/48"})),n.createElement("div",null,n.createElement("p",{className:"font-semibold text-gray-800"},l?l.NOM:"Utilisateur"),n.createElement("p",{className:"text-sm text-gray-600"},l?l.EMAIL:"email@example.com")))),n.createElement("div",{className:"py-2"},n.createElement("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center space-x-3",onClick:()=>{e(),S(!1)}},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("span",null,"Voir le profil")),n.createElement("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center space-x-3",onClick:()=>{u(!0),S(!1)}},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})),n.createElement("span",null,"Mot de passe oublié")),n.createElement("hr",{className:"my-2"}),n.createElement("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center space-x-3 text-red-600",onClick:$},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})),n.createElement("span",null,"Se déconnecter"))))))),g&&n.createElement(dh,{isOpen:g,onClose:()=>u(!1)}))}const Uo="http://localhost/localbook/backend/api/annonces",Ae={async createAnnonce(e,t,r){try{const l=new FormData;Object.keys(e).forEach(s=>{e[s]!==null&&e[s]!==void 0&&(Array.isArray(e[s])?l.append(s,JSON.stringify(e[s])):l.append(s,e[s]))}),t&&t.length>0&&t.forEach((s,i)=>{l.append(`images[${i}]`,s)}),r&&l.append("video",r),console.log("Sending data to API...",Object.fromEntries(l));const a=await fetch(`${Uo}/create.php`,{method:"POST",body:l});console.log("Response status:",a.status),console.log("Response headers:",a.headers);const o=await a.text();console.log("Raw response:",o);try{const s=JSON.parse(o);return a.ok?{success:!0,message:s.success,annonceId:s.post_id}:{success:!1,error:s.error}}catch(s){return console.error("Invalid JSON response:",o),console.error("Parse error:",s),{success:!1,error:"Réponse serveur invalide: "+o}}}catch(l){return console.error("Create annonce error:",l),{success:!1,error:"Erreur de connexion au serveur"}}},async getAnnonces(e=null,t=20,r=0){try{const l=new URLSearchParams({limit:t.toString(),offset:r.toString()});e&&l.append("user_id",e.toString());const a=await fetch(`${Uo}/get.php?${l}`),o=await a.json();return a.ok?{success:!0,annonces:o.annonces,total:o.total}:{success:!1,error:o.error}}catch(l){return console.error("Get annonces error:",l),{success:!1,error:"Erreur de connexion au serveur"}}},async getUserAnnonces(e,t=20,r=0){return this.getAnnonces(e,t,r)},async getRecommendedPosts(e=null){try{const t=new URL("http://localhost/localbook/backend/api/annonces/get_recommended.php");return e&&t.searchParams.append("user_id",e),await(await fetch(t)).json()}catch(t){throw console.error("Error:",t),t}},getImageUrl(e){return e?`http://localhost/localbook/backend/api/Uploads/posts/${e}`:"https://via.placeholder.com/600x400?text=Pas+d'image"},getVideoUrl(e){return e?`http://localhost/localbook/backend/api/Uploads/posts/${e}`:null},async deleteAnnonce(e,t){try{const r=await fetch(`${Uo}/delete.php`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:e,userId:t})}),l=await r.json();return r.ok?{success:!0,message:l.message}:{success:!1,error:l.error}}catch(r){return console.error("Delete annonce error:",r),{success:!1,error:"Erreur de connexion au serveur"}}}},ru="http://localhost/localbook/backend/api";class Tr{static async toggleLike(t,r){try{const l=await fetch(`${ru}/likes/toggle.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,postId:r})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const a=await l.json();if(!a.success)throw new Error(a.error||"Erreur lors du toggle like");return{success:!0,action:a.action,isLiked:a.isLiked,totalLikes:a.totalLikes,message:a.message}}catch(l){return console.error("Erreur LikeService.toggleLike:",l),{success:!1,error:l.message}}}static async getLikeStatus(t,r){try{const l=await fetch(`${ru}/likes/get.php?userId=${t}&postId=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const a=await l.json();if(!a.success)throw new Error(a.error||"Erreur lors de la récupération du statut");return{success:!0,isLiked:a.isLiked,totalLikes:a.totalLikes}}catch(l){return console.error("Erreur LikeService.getLikeStatus:",l),{success:!1,error:l.message,isLiked:!1,totalLikes:0}}}static async getMultipleLikeStatus(t,r){try{const l=r.map(s=>this.getLikeStatus(t,s)),a=await Promise.all(l),o={};return r.forEach((s,i)=>{o[s]={isLiked:a[i].isLiked,totalLikes:a[i].totalLikes}}),{success:!0,likesStatus:o}}catch(l){return console.error("Erreur LikeService.getMultipleLikeStatus:",l),{success:!1,error:l.message,likesStatus:{}}}}}const Ao="http://localhost/localbook/backend/api";class Oe{static async addComment(t,r,l){try{console.log("Sending comment:",{userId:t,postId:r,content:l});const a=await fetch(`${Ao}/comments/add.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,postId:r,content:l})});console.log("Response status:",a.status);const o=await a.text();console.log("Raw response:",o);let s;try{s=JSON.parse(o)}catch{throw console.error("Invalid JSON response:",o),new Error("Réponse serveur invalide")}if(!a.ok)throw new Error(s.error||`HTTP error! status: ${a.status}`);if(!s.success)throw new Error(s.error||"Erreur lors de l'ajout du commentaire");return{success:!0,comment:s.comment,message:s.message}}catch(a){return console.error("Add comment error:",a),{success:!1,error:a.message||"Erreur lors de l'ajout du commentaire"}}}static async getComments(t){try{const r=await fetch(`${Ao}/comments/get.php?postId=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const l=await r.json();if(!l.success)throw new Error(l.error||"Erreur lors de la récupération des commentaires");return{success:!0,comments:l.comments}}catch(r){return console.error("Get comments error:",r),{success:!1,error:r.message||"Erreur lors de la récupération des commentaires"}}}static async deleteComment(t,r){try{console.log("CommentService.deleteComment appelé avec:",t,r);const l=await fetch(`${Ao}/comments/delete.php`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({commentId:t,userId:r})});if(console.log("Réponse du serveur:",l.status),!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const a=await l.json();if(console.log("Données reçues:",a),!a.success)throw new Error(a.error||"Erreur lors de la suppression du commentaire");return{success:!0,message:a.message}}catch(l){return console.error("Delete comment error:",l),{success:!1,error:l.message||"Erreur lors de la suppression du commentaire"}}}}const Kl="http://localhost/localbook/backend/api/saves",et={async savePost(e,t){try{console.log("Attempting to save post:",{userId:e,postId:t});const r=await fetch(`${Kl}/save.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,post_id:t})});console.log("Response status:",r.status);const l=await r.json();return console.log("Save post response:",l),r.ok||console.error("Save post failed:",l.error),r.ok?{success:!0,message:l.message}:{success:!1,error:l.error}}catch(r){return console.error("Save post error:",r),{success:!1,error:"Erreur de connexion au serveur"}}},async unsavePost(e,t){try{console.log("Attempting to unsave post:",{userId:e,postId:t});const r=await fetch(`${Kl}/unsave.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,post_id:t})}),l=await r.json();if(console.log("Unsave response:",l),!r.ok)throw new Error(l.error||"Failed to unsave post");return{success:!0,message:l.message}}catch(r){return console.error("Unsave error:",r),{success:!1,error:r.message||"Erreur de connexion au serveur"}}},async getSavedPosts(e){try{return{success:!0,posts:(await(await fetch(`${Kl}/get.php?user_id=${e}`)).json()).posts.map(a=>({id:a.ID_POST,userId:a.ID_USER,author:a.AUTEUR_NOM,avatar:a.AUTEUR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${a.AUTEUR_AVATAR}`:null,time:a.TIME_AGO,content:a.DESCRIPTION,images:a.POST_IMG?(()=>{try{const o=JSON.parse(a.POST_IMG);if(Array.isArray(o))return o.map(s=>`http://localhost/localbook/backend/api/Uploads/posts/${s}`)}catch{}return[`http://localhost/localbook/backend/api/Uploads/posts/${a.POST_IMG}`]})():[],video:a.POST_VID?`http://localhost/localbook/backend/api/Uploads/posts/${a.POST_VID}`:null,likes:parseInt(a.LIKES_COUNT)||0,comments:parseInt(a.COMMENTS_COUNT)||0,isLiked:a.IS_LIKED==="1",details:{postType:a.TYPE_LOC,location:a.VILLE,quartier:a.QUARTIER,price:a.PRIX,area:a.SURFACE,rooms:a.NBRE_PIECE,furnishingStatus:a.ETAT,durationType:a.DUREE,amenities:a.EQUIPEMENT?a.EQUIPEMENT.split(",").map(o=>o.trim()):[]}}))}}catch(t){return console.error("getSavedPosts error:",t),{success:!1,error:"Erreur lors du chargement"}}},async checkIfSaved(e,t){try{const r=await fetch(`${Kl}/check_single.php?user_id=${e}&post_id=${t}`),l=await r.json();return r.ok?{success:!0,isSaved:l.is_saved}:{success:!1,error:l.error}}catch(r){return console.error("Check saved status error:",r),{success:!1,error:"Erreur de connexion au serveur"}}},async checkSavedPosts(e,t){try{const r={};for(const l of t){const a=await this.checkIfSaved(e,l);a.success&&(r[l]=a.isSaved)}return{success:!0,savedPosts:r}}catch(r){return console.error("Check saved posts error:",r),{success:!1,error:"Erreur lors de la vérification des posts sauvegardés"}}}},jo="http://localhost/localbook/backend/api";class Yl{static async createStory(t,r){try{const l=new FormData;l.append("user_id",t),l.append("story_file",r);const a=await fetch(`${jo}/stories/create.php`,{method:"POST",body:l});if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(l){return console.error("Error creating story:",l),{success:!1,error:"Error creating story: "+(l.message||"Unknown error")}}}static async getStories(){try{const t=await fetch(`${jo}/stories/get.php`);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){return console.error("Error getting stories:",t),{success:!1,error:"Error getting stories: "+(t.message||"Unknown error"),stories:[]}}}static getStoryUrl(t){return t?`${jo}/Uploads/stories/${t}`:""}}function hh({stories:e,initialIndex:t,onClose:r}){var h,v,w;const[l,a]=f.useState(t||0),[o,s]=f.useState(0),i=f.useRef(null),c=5e3;f.useEffect(()=>{s(0),i.current&&clearInterval(i.current);const S=setInterval(()=>{s(C=>C>=100?(l<e.length-1?a(l+1):r(),0):C+100/(c/100))},100);return i.current=S,()=>clearInterval(S)},[l,e.length,r]);const m=()=>{l<e.length-1?a(l+1):r()},E=()=>{l>0&&a(l-1)};return n.createElement("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 z-50 flex items-center justify-center"},n.createElement("button",{className:"absolute top-4 right-4 text-white z-10 bg-gray-800 rounded-full p-2 hover:bg-gray-700",onClick:r},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"absolute top-4 left-0 right-0 flex justify-center space-x-1 px-4"},e.map((S,C)=>n.createElement("div",{key:C,className:"h-1 bg-gray-500 rounded-full flex-1 overflow-hidden"},n.createElement("div",{className:`h-full bg-white ${C===l?"transition-all duration-100":C<l?"w-full":"w-0"}`,style:{width:C===l?`${o}%`:C<l?"100%":"0%"}})))),n.createElement("div",{className:"relative w-full h-full max-w-md max-h-[80vh]"},n.createElement("img",{src:((h=e[l])==null?void 0:h.image)||`https://via.placeholder.com/400x700?text=Story${l+1}`,alt:`Story ${l+1}`,className:"w-full h-full object-contain"}),n.createElement("div",{className:"absolute top-12 left-0 right-0 p-4 flex items-center space-x-3"},n.createElement("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500 overflow-hidden"},n.createElement("img",{src:((v=e[l])==null?void 0:v.avatar)||`https://via.placeholder.com/40?text=U${l+1}`,alt:`User ${l+1}`,className:"w-full h-full object-cover"})),n.createElement("span",{className:"text-white font-medium"},((w=e[l])==null?void 0:w.author)||`Utilisateur ${l+1}`)),l>0&&n.createElement("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-30 hover:bg-opacity-50 rounded-full p-2",onClick:E},n.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"}))),l<e.length-1&&n.createElement("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-30 hover:bg-opacity-50 rounded-full p-2",onClick:m},n.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}))),n.createElement("div",{className:"absolute inset-y-0 left-0 w-1/3",onClick:E}),n.createElement("div",{className:"absolute inset-y-0 right-0 w-1/3",onClick:m})))}const Dn="http://localhost/localbook/backend/api";class xt{static async getFollowing(t){try{const r=await fetch(`${Dn}/users/get_following.php?user_id=${t}`);if(!r.ok)throw new Error("Network response was not ok");return await r.json()}catch(r){return console.error("Error getting following list:",r),{success:!1,error:"Error getting following list: "+(r.message||"Unknown error"),following:[]}}}static async getFollowers(t){try{const r=await fetch(`${Dn}/users/get_followers.php?user_id=${t}`);if(!r.ok)throw new Error("Network response was not ok");return await r.json()}catch(r){return console.error("Error getting followers list:",r),{success:!1,error:"Error getting followers list: "+(r.message||"Unknown error"),followers:[]}}}static async unfollow(t,r){try{const l=await fetch(`${Dn}/users/unfollow.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({follower_id:t,followed_id:r})});if(!l.ok)throw new Error("Network response was not ok");return await l.json()}catch(l){return console.error("Error unfollowing user:",l),{success:!1,error:"Error unfollowing user: "+(l.message||"Unknown error")}}}static async follow(t,r){try{const l=await fetch(`${Dn}/users/follow.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({follower_id:t,followed_id:r})});if(!l.ok)throw new Error("Network response was not ok");return await l.json()}catch(l){return console.error("Error following user:",l),{success:!1,error:"Error following user: "+(l.message||"Unknown error")}}}static async checkFollowStatus(t,r){try{const l=await fetch(`${Dn}/users/check_follow.php?follower_id=${t}&followed_id=${r}`);if(!l.ok)throw new Error("Network response was not ok");return await l.json()}catch(l){return console.error("Error checking follow status:",l),{success:!1,error:"Error checking follow status: "+(l.message||"Unknown error")}}}}const gh="http://localhost/localbook/backend/api";class vh{static async getUserPosts(t,r=null){try{let l=`${gh}/users/get_posts.php?user_id=${t}`;r&&(l+=`&current_user_id=${r}`);const a=await fetch(l);if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(l){return console.error("Error getting user posts:",l),{success:!1,error:"Error getting user posts: "+(l.message||"Unknown error"),posts:[]}}}}const Oo="http://localhost/localbook/backend/api";class Pd{static async getAllUsers(){try{const t=await fetch(`${Oo}/users/get_all_users.php`);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){return console.error("Error getting all users:",t),{success:!1,error:"Error getting all users: "+(t.message||"Unknown error"),users:[]}}}static async searchUsers(t){try{const r=await fetch(`${Oo}/users/search_users.php?search=${encodeURIComponent(t)}`);if(!r.ok)throw new Error("Network response was not ok");return await r.json()}catch(r){return console.error("Error searching users:",r),{success:!1,error:"Error searching users: "+(r.message||"Unknown error"),users:[]}}}static async getUserById(t){try{const r=await fetch(`${Oo}/users/get_profile.php?userId=${t}`);if(!r.ok)throw new Error("Network response was not ok");return await r.json()}catch(r){return console.error("Error getting user by ID:",r),{success:!1,error:"Error getting user: "+(r.message||"Unknown error"),user:null}}}}function gn({user:e,onBack:t}){const[r,l]=f.useState(!1),[a,o]=f.useState({}),[s,i]=f.useState({}),[c,m]=f.useState(!0),[E,h]=f.useState(!1),[v,w]=f.useState(null),[S,C]=f.useState(null),[T,g]=f.useState([]),[u,p]=f.useState(!0),[x,N]=f.useState({}),[U,$]=f.useState({}),[j,J]=f.useState({isOpen:!1,type:null,src:null}),[Q,ce]=f.useState({}),[X,R]=f.useState(null),[V,ee]=f.useState(!0),{user:G}=it(),[re,z]=f.useState(null),[K,b]=f.useState(!1),I=_=>{if(!_.phone){alert(`Aucun numéro de téléphone disponible pour ${_.name}`);return}let D=_.phone.replace(/[\s\-\(\)]/g,"");D.startsWith("0")?D="+212"+D.substring(1):D.startsWith("+")||(D="+212"+D);const te=`https://wa.me/${D}?text=Bonjour ${_.name}, je vous contacte depuis Localbook.`;window.open(te,"_blank")};if(f.useEffect(()=>{(async()=>{if(!G||!e||!G.ID_USER||!e.id){m(!1);return}try{const D=await xt.checkFollowStatus(G.ID_USER,e.id);D.success?l(D.is_following):console.error("Error checking follow status:",D.error)}catch(D){console.error("Error checking follow status:",D)}finally{m(!1)}})()},[G,e]),f.useEffect(()=>{(async()=>{if(!e||!e.id){ee(!1);return}try{ee(!0);const D=await Pd.getUserById(e.id);D.success?R(D.user):console.error("Error loading user details:",D.error)}catch(D){console.error("Error loading user details:",D)}finally{ee(!1)}})()},[e]),f.useEffect(()=>{(async()=>{if(!e||!e.id){p(!1);return}try{p(!0);const D=await vh.getUserPosts(e.id,G==null?void 0:G.ID_USER);if(D.success){g(D.posts);const te={};if(D.posts.forEach(fe=>{te[fe.id]=fe.isLiked}),i(fe=>({...fe,...te})),G!=null&&G.ID_USER){const fe=D.posts.map(ze=>ze.id),ge=await et.checkSavedPosts(G.ID_USER,fe);ge.success&&ce(ze=>({...ze,...ge.savedPosts}))}}else console.error("Error loading user posts:",D.error)}catch(D){console.error("Error loading user posts:",D)}finally{p(!1)}})()},[e,G]),!e)return n.createElement("div",{className:"flex-1 p-4 flex items-center justify-center"},n.createElement("p",null,"Utilisateur non trouvé"),n.createElement("button",{onClick:t,className:"ml-2 px-4 py-2 bg-blue-600 text-white rounded-md"},"Retour"));if(c)return n.createElement("div",{className:"flex-1 p-4 flex items-center justify-center"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.createElement("span",{className:"ml-2"},"Chargement du profil..."));const B=async()=>{if(!G||!e){w("Utilisateur non connecté");return}h(!0),w(null),C(null);try{let _;r?(_=await xt.unfollow(G.ID_USER,e.id),_.success?(l(!1),C(`Vous ne suivez plus ${e.name}`)):w(_.error||"Erreur lors de la suppression du suivi")):(_=await xt.follow(G.ID_USER,e.id),_.success?(l(!0),C(`Vous suivez maintenant ${e.name}`)):w(_.error||"Erreur lors du suivi")),_.success&&setTimeout(()=>C(null),3e3)}catch(_){console.error("Error toggling follow:",_),w("Erreur de connexion")}finally{h(!1)}},le=async _=>{if(G)try{const D=Q[_];let te;D?(te=await et.unsavePost(G.ID_USER,_),te.success&&(ce(fe=>({...fe,[_]:!1})),console.log("Post retiré des sauvegardes"))):(te=await et.savePost(G.ID_USER,_),te.success&&(ce(fe=>({...fe,[_]:!0})),console.log("Post sauvegardé avec succès"))),te.success||console.error("Erreur lors de la sauvegarde:",te.error)}catch(D){console.error("Erreur lors de la sauvegarde:",D)}},ae=async _=>{if(G)try{const D=await Tr.toggleLike(G.ID_USER,_);D.success?(i(te=>({...te,[_]:D.isLiked})),g(te=>te.map(fe=>fe.id===_?{...fe,likes:D.totalLikes}:fe))):console.error("Erreur lors du like:",D.error)}catch(D){console.error("Erreur lors du like:",D)}},P=async _=>{if(o(D=>({...D,[_]:!D[_]})),!x[_]&&!a[_])try{const D=await Oe.getComments(_);D.success&&N(te=>({...te,[_]:D.comments}))}catch(D){console.error("Erreur lors du chargement des commentaires:",D)}},O=async _=>{var D;if(!(!G||!((D=U[_])!=null&&D.trim())))try{const te=await Oe.addComment(G.ID_USER,_,U[_]);if(te.success){const fe={ID_COMMENT:Date.now(),AUTHOR_NAME:G.NOM,AUTHOR_AVATAR:G.IMG_PROFIL,CONTENT:U[_],TIME_AGO:"à l'instant"};N(ge=>({...ge,[_]:[...ge[_]||[],fe]})),$(ge=>({...ge,[_]:""})),g(ge=>ge.map(ze=>ze.id===_?{...ze,comments:ze.comments+1}:ze))}else console.error("Erreur lors de l'ajout du commentaire:",te.error)}catch(te){console.error("Erreur lors de l'ajout du commentaire:",te)}},H=(_,D)=>{J({isOpen:!0,type:_,src:D})},ie=()=>{J({isOpen:!1,type:null,src:null})},de=(_,D)=>{z({commentId:_,postId:D}),b(!0)},Qe=async()=>{if(!re||!G)return;const{commentId:_,postId:D}=re;try{console.log("Suppression du commentaire:",_,"par utilisateur:",G.ID_USER);const te=await Oe.deleteComment(_,G.ID_USER);te.success?(console.log("Commentaire supprimé avec succès"),N(fe=>{const ge={...fe};return ge[D]&&(ge[D]=ge[D].filter(ze=>ze.ID_COMMENT!==_)),ge}),g(fe=>fe.map(ge=>ge.id===D?{...ge,comments:Math.max(0,ge.comments-1)}:ge)),b(!1),z(null)):console.error("Erreur lors de la suppression du commentaire:",te.error)}catch(te){console.error("Erreur lors de la suppression du commentaire:",te)}},tt=()=>{b(!1),z(null)};return n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},S&&n.createElement("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg"},S),v&&n.createElement("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg"},v),n.createElement("div",{className:"bg-white rounded-lg shadow"},n.createElement("div",{className:"flex items-center px-4 py-3 border-b border-gray-100"},n.createElement("button",{onClick:t,className:"mr-3 p-1 rounded-full hover:bg-gray-100","aria-label":"Retour"},n.createElement("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"}))),n.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Profil de ",e.name)),n.createElement("div",{className:"p-4 border-b"},n.createElement("div",{className:"flex items-start space-x-4"},n.createElement("div",{className:"relative"},n.createElement("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-gray-200"},n.createElement("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"})),e.status==="online"&&n.createElement("div",{className:"absolute bottom-0 right-0 w-4 h-4 rounded-full bg-green-500 border-2 border-white"})),n.createElement("div",{className:"flex-1"},n.createElement("h1",{className:"text-xl font-bold"},e.name),n.createElement("p",{className:"text-gray-600"},e.username),e.bio&&n.createElement("p",{className:"mt-2 text-gray-700"},e.bio),n.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},X&&(X.STATUT==="proprietaire"||X.STATUT==="intermediaire")&&n.createElement("button",{onClick:()=>I({name:e.name,phone:(X==null?void 0:X.TELE)||null}),className:"px-4 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},"Contacter"),n.createElement("button",{className:`px-4 py-1 rounded-md transition-colors ${E?"bg-gray-100 text-gray-400 cursor-not-allowed":r?"bg-red-50 text-red-600 hover:bg-red-100":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,onClick:B,disabled:E||c},E?r?"Suppression...":"Ajout...":r?"Ne plus suivre":"Suivre")),n.createElement("div",{className:"mt-4 flex space-x-6 text-sm"},n.createElement("div",null,n.createElement("span",{className:"font-semibold"},T.length)," publications"),n.createElement("div",null,n.createElement("span",{className:"font-semibold"},e.followers||0)," abonnés"),n.createElement("div",null,n.createElement("span",{className:"font-semibold"},e.following||0)," abonnements")))),V?n.createElement("div",{className:"mt-4 flex justify-center"},n.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})):X&&n.createElement("div",{className:"mt-6 pt-4 border-t border-gray-100"},n.createElement("h3",{className:"text-lg font-medium text-gray-800 mb-4"},"Informations"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},X.STATUT&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"Statut :"),n.createElement("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${X.STATUT==="proprietaire"?"bg-green-100 text-green-800":X.STATUT==="intermediaire"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`},X.STATUT))),X.VILLE&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"Ville :"),n.createElement("span",{className:"ml-2 text-gray-600"},X.VILLE))),X.EMAIL&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),n.createElement("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"Email :"),n.createElement("span",{className:"ml-2 text-gray-600"},X.EMAIL))),X.TELE&&(X.STATUT==="proprietaire"||X.STATUT==="intermediaire")&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"Téléphone :"),n.createElement("span",{className:"ml-2 text-gray-600"},X.TELE))),X.DATE_INSCRIPTION&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"Membre depuis :"),n.createElement("span",{className:"ml-2 text-gray-600"},new Date(X.DATE_INSCRIPTION).toLocaleDateString("fr-FR")))),X.CIN_NUM&&(X.STATUT==="proprietaire"||X.STATUT==="intermediaire")&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700 font-medium"},"CIN :"),n.createElement("span",{className:"ml-2 text-gray-600"},X.CIN_NUM)))))),n.createElement("div",{className:"p-4"},n.createElement("h3",{className:"font-medium text-gray-800 mb-4"},"Publications"),u?n.createElement("div",{className:"flex justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})):T&&T.length>0?n.createElement("div",{className:"space-y-6"},T.map(_=>n.createElement("div",{key:_.id,className:"bg-white rounded-lg shadow-sm border border-gray-100"},n.createElement("div",{className:"flex items-center justify-between p-4"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden"},n.createElement("img",{src:_.avatar,alt:_.author,className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-medium text-gray-900"},_.author),n.createElement("div",{className:"text-xs text-gray-500"},_.time))),n.createElement("button",{onClick:()=>le(_.id),className:`z-10 p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-all ${Q[_.id]?"text-blue-600":"text-gray-500"}`},n.createElement("svg",{className:"w-5 h-5",fill:Q[_.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"})))),_.details&&n.createElement("div",{className:"px-4 pb-3"},n.createElement("div",{className:"flex flex-wrap gap-2"},_.details.postType&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},_.details.postType),_.details.location&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},_.details.location),_.details.quartier&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},_.details.quartier),_.details.price&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Number(_.details.price).toLocaleString(),"€"),_.details.area&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},_.details.area,"m²"),_.details.rooms&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},_.details.rooms," pièces"),_.details.furnishingStatus&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},_.details.furnishingStatus==="Meublé"?"Meublé":"Non meublé"),_.details.equipment&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},_.details.equipment),_.details.duration&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},_.details.duration))),n.createElement("div",{className:"px-3"},_.images&&_.images.length>0&&n.createElement("div",{className:"flex w-full gap-1 flex-wrap mb-3"}," ",_.images.map((D,te)=>n.createElement("div",{key:"img-"+te,className:`overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer h-60 ${_.images.length===1?"w-full":_.images.length===2?"w-[calc(50%-2px)]":_.images.length===3?"w-[calc(33.333%-3px)]":"w-[calc(25%-3px)]"}`,onClick:()=>H("image",D)},n.createElement("img",{src:D,alt:`Post image ${te+1}`,className:"w-full h-full object-cover bg-gray-100",onError:fe=>{console.log("❌ Erreur de chargement image:",D),fe.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"},onLoad:()=>{console.log("✅ Image chargée avec succès:",D)}})))),_.video&&n.createElement("div",{className:"w-full"},n.createElement("div",{className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer w-full h-80",onClick:()=>H("video",_.video)},n.createElement("video",{src:_.video,className:"w-full h-full object-cover bg-black",controls:!0,onError:()=>{console.log("❌ Erreur de chargement vidéo:",_.video)},onLoadedData:()=>{console.log("✅ Vidéo chargée avec succès:",_.video)}})))),n.createElement("div",{className:"px-4 py-3 border-t border-gray-100"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-6"},n.createElement("button",{className:`flex items-center space-x-2 transition-colors ${s[_.id]?"text-red-500":"text-gray-500 hover:text-red-500"}`,onClick:()=>ae(_.id)},n.createElement("svg",{className:"w-6 h-6",fill:s[_.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",{className:"text-sm font-medium"},_.likes)),n.createElement("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",onClick:()=>P(_.id)},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",{className:"text-sm font-medium"},_.comments))))),a[_.id]&&n.createElement("div",{className:"mt-2 border-t pt-2 px-2 pb-3"},x[_.id]&&x[_.id].length>0?[...x[_.id]].sort((D,te)=>new Date(D.DATE_COMMENTS)-new Date(te.DATE_COMMENTS)).map(D=>n.createElement("div",{key:D.ID_COMMENT,className:"flex items-start space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:D.AUTHOR_AVATAR||"https://via.placeholder.com/40?text=User",alt:D.AUTHOR_NAME,className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm border border-gray-100"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",{className:"font-medium text-xs text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>handleUserClick(D.ID_USER)},D.AUTHOR_NAME),G&&D.ID_USER===G.ID_USER&&n.createElement("button",{onClick:()=>de(D.ID_COMMENT,_.id),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",title:"Supprimer ce commentaire"},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("p",{className:"text-sm text-gray-700 mt-1"},D.CONTENT),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},D.TIME_AGO)))):n.createElement("p",{className:"text-sm text-gray-500 text-center py-2"},"Aucun commentaire pour le moment"),n.createElement("div",{className:"flex items-center space-x-2 mt-3"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:(G==null?void 0:G.IMG_PROFIL)||"https://via.placeholder.com/40?text=You",alt:"Vous",className:"w-full h-full object-cover",onError:D=>D.target.src="https://via.placeholder.com/40?text=You"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border rounded-full py-1 px-3 pr-10 text-sm",placeholder:"Ajouter un commentaire...",value:U[_.id]||"",onChange:D=>$(te=>({...te,[_.id]:D.target.value})),onKeyPress:D=>D.key==="Enter"&&O(_.id)}),n.createElement("button",{className:"absolute right-2 top-1 text-blue-500",onClick:()=>O(_.id)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"}))))))))):n.createElement("div",{className:"text-center py-12 text-gray-500"},n.createElement("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})),n.createElement("p",{className:"text-lg font-medium"},"Aucune publication"),n.createElement("p",{className:"text-sm mt-1"},"Cet utilisateur n'a pas encore publié de contenu")))),j.isOpen&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:ie},n.createElement("div",{className:"max-w-4xl max-h-full p-4",onClick:_=>_.stopPropagation()},n.createElement("div",{className:"relative"},n.createElement("button",{onClick:ie,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),j.type==="image"?n.createElement("img",{src:j.src,alt:"",className:"max-w-full max-h-full object-contain"}):n.createElement("video",{src:j.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full"})))),K&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le commentaire"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce commentaire ? Cette action est irréversible.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:tt},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:Qe},"Supprimer"))))))}function Eh({searchQuery:e}){const{user:t}=it(),r=t!=null&&t.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${t.IMG_PROFIL}`:"https://via.placeholder.com/40",[l,a]=f.useState(!1),[o,s]=f.useState(""),[i,c]=f.useState(""),[m,E]=f.useState(""),[h,v]=f.useState(""),[w,S]=f.useState(""),[C,T]=f.useState(""),[g,u]=f.useState(""),[p,x]=f.useState(""),[N,U]=f.useState([]),[$,j]=f.useState([]),[J,Q]=f.useState([]),[ce,X]=f.useState(null),[R,V]=f.useState(null),[ee,G]=f.useState({}),[re,z]=f.useState(!1),[K,b]=f.useState(0),[I,B]=f.useState({}),[le,ae]=f.useState(!1),[P,O]=f.useState(""),[H,ie]=f.useState(!1),[de,Qe]=f.useState({type:null,src:null}),[tt,_]=f.useState({}),[D,te]=f.useState({}),[fe,ge]=f.useState({}),[ze,vn]=f.useState({});f.useState(null);const[mr,En]=f.useState([]),[dr,xn]=f.useState(null),[fr,Ur]=f.useState(null),[Cl,Ar]=f.useState(!1),[$t,pr]=f.useState([]),[hr,yn]=f.useState([]);f.useEffect(()=>{jr()},[]),f.useEffect(()=>{(async()=>{if(t&&$t.length>0){const M=$t.map(Y=>Y.id),L=await et.checkSavedPosts(t.ID_USER,M);L.success&&vn(L.savedPosts)}})()},[t,$t]),f.useEffect(()=>{bn()},[]),f.useEffect(()=>{if(!e||e.trim()==="")yn($t);else{const y=e.toLowerCase().trim().split(/\s+/).filter(L=>L.length>0),M=$t.filter(L=>y.every(Y=>{if(L.author&&L.author.toLowerCase().includes(Y)||L.content&&L.content.toLowerCase().includes(Y))return!0;if(L.details){const Z=L.details;if(Z.postType&&Z.postType.toLowerCase().includes(Y)||Z.location&&Z.location.toLowerCase().includes(Y)||Z.quartier&&Z.quartier.toLowerCase().includes(Y)||Z.price&&Z.price.toString().includes(Y)||Z.area&&Z.area.toString().includes(Y)||Z.rooms&&Z.rooms.toString().includes(Y)||Z.furnishingStatus&&Z.furnishingStatus.toLowerCase().includes(Y)||Z.amenities&&Array.isArray(Z.amenities)&&Z.amenities.some(_e=>_e&&_e.toLowerCase().includes(Y)))return!0}return!1}));yn(M)}},[$t,e]);const wn=(y,M,L)=>{const Y={id:y,name:M,username:M,avatar:L,bio:`Profil de ${M}`,status:"offline"};xn(Y)},Nn=()=>{xn(null)},jr=async()=>{ae(!0);try{const y=await Ae.getAnnonces();if(y.success){const M=y.annonces.map(L=>({id:L.ID_ANNONCE||L.ID_POST,userId:L.ID_USER,author:L.AUTEUR_NOM,avatar:L.AUTEUR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${L.AUTEUR_AVATAR}`:"https://via.placeholder.com/40",time:L.TIME_AGO,content:L.DESCRIPTION||L.CONTENT_SUMMARY,images:L.IMAGES&&L.IMAGES.length>0?L.IMAGES.map(Y=>Ae.getImageUrl(Y)):L.POST_IMG?[Ae.getImageUrl(L.POST_IMG)]:[],image:L.POST_IMG?Ae.getImageUrl(L.POST_IMG):L.IMAGES&&L.IMAGES.length>0?Ae.getImageUrl(L.IMAGES[0]):null,video:L.POST_VID?Ae.getVideoUrl(L.POST_VID):L.VIDEO?Ae.getVideoUrl(L.VIDEO):null,likes:L.LIKES_COUNT||0,comments:L.COMMENTS_COUNT||0,details:{postType:L.TYPE_LOC||L.TYPE_ANNONCE,location:L.VILLE||L.LOCALISATION,quartier:L.QUARTIER,price:L.PRIX,area:L.SURFACE||L.SUPERFICIE,rooms:L.NBRE_PIECE||L.NB_PIECES,furnishingStatus:L.ETAT||L.STATUT_MEUBLE,durationType:L.DUREE||L.TYPE_DUREE,amenities:L.EQUIPEMENTS?Array.isArray(L.EQUIPEMENTS)?L.EQUIPEMENTS:L.EQUIPEMENTS.split(","):[]}}));console.log("📝 Posts transformés:",M),M.forEach((L,Y)=>{console.log(`Post ${Y+1}:`,{id:L.id,author:L.author,images:L.images,video:L.video})}),pr(M)}}catch(y){console.error("Erreur lors du chargement des annonces:",y)}finally{ae(!1)}},bn=async()=>{try{const y=await Yl.getStories();if(y.success){const M=y.stories.map(L=>({id:L.ID_STORY,author:L.AUTHOR_NAME||"Utilisateur",avatar:L.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${L.AUTHOR_AVATAR}`:"https://via.placeholder.com/40",image:Yl.getStoryUrl(L.CONTENT),time:L.DATE_STORY}));En(M)}}catch(y){console.error("Erreur lors du chargement des stories:",y)}},F={name:t?t.NOM:"Utilisateur",avatar:r},Mt=y=>{const M=Array.from(y.target.files);M.length>0&&_(Ce=>({...Ce,images:null}));const L=15*1024*1024,Y=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];for(let Ce=0;Ce<M.length;Ce++){const _e=M[Ce];if(console.log(`Fichier ${Ce+1}:`,{name:_e.name,type:_e.type,size:_e.size,sizeInMB:(_e.size/1024/1024).toFixed(2)}),!Y.includes(_e.type)){_(Vt=>({...Vt,images:`Le fichier "${_e.name}" n'est pas un type d'image valide. Types autorisés: JPG, PNG, GIF, WebP`}));return}if(_e.size>L){_(Vt=>({...Vt,images:`Le fichier "${_e.name}" est trop grand (${(_e.size/1024/1024).toFixed(2)}MB). Taille maximum: 15MB`}));return}}Q([...J,...M]);const Z=M.map(Ce=>new Promise(_e=>{const Vt=new FileReader;Vt.onload=Za=>_e(Za.target.result),Vt.readAsDataURL(Ce)}));Promise.all(Z).then(Ce=>{j([...$,...Ce])})},oe=y=>{if(y.target.files&&y.target.files[0]){const M=y.target.files[0];_(Y=>({...Y,video:null})),V(M);const L=new FileReader;L.onload=Y=>{X(Y.target.result)},L.readAsDataURL(M)}},pe=y=>{N.includes(y)?U(N.filter(M=>M!==y)):U([...N,y])},Pl=async y=>{if(y.preventDefault(),console.log("=== DÉBUT VALIDATION ==="),console.log("imageFiles:",J),console.log("videoFile:",R),console.log("errors avant:",tt),_({}),!t){alert("Vous devez être connecté pour créer une annonce");return}if(console.log("Validation - imageFiles.length:",J.length,"videoFile:",R),J.length===0&&!R){console.log("❌ VALIDATION ÉCHOUÉE - aucun média");const M={images:"Au moins une image est requise",video:"Ou au moins une vidéo est requise"};console.log("Setting errors:",M),_(M),console.log("=== ARRÊT - ERREURS DÉFINIES ===");return}console.log("✅ VALIDATION RÉUSSIE - médias présents"),ae(!0);try{const M={ID_USER:t.ID_USER,TYPE_LOC:o,VILLE:i,QUARTIER:m||null,DESCRIPTION:P,PRIX:w,SURFACE:C||null,NBRE_PIECE:g||null,DUREE:h==="courte"?"courte durée":"longue durée",ETAT:p==="equipped"?"meuble":"non_meuble",equipements:N},L=await Ae.createAnnonce(M,J,R);L.success?(await jr(),s(""),c(""),E(""),v(""),S(""),T(""),u(""),x(""),U([]),j([]),Q([]),X(null),V(null),O(""),a(!1),alert("Annonce créée avec succès !")):alert("Erreur lors de la création de l'annonce: "+L.error)}catch(M){console.error("Erreur lors de la création de l'annonce:",M),alert("Erreur lors de la création de l'annonce")}finally{ae(!1)}},kn=async y=>{if(t)try{const M=ze[y],L=M?await et.unsavePost(t.ID_USER,y):await et.savePost(t.ID_USER,y);L.success?(vn(Z=>({...Z,[y]:!M})),console.log(M?"Post retiré des sauvegardes":"Post sauvegardé")):console.error("Toggle save error:",L.error)}catch(M){console.error("Erreur lors de la gestion de la sauvegarde:",M)}},Ya=y=>{const M=!ee[y];G(L=>({...L,[y]:M})),M&&(!D[y]||D[y].length===0)&&Xa(y)},Sn=y=>{b(y),z(!0)},Ja=async y=>{if(!t){alert("Vous devez être connecté pour ajouter une story");return}const M=y.target.files[0];if(M)try{const L=await Yl.createStory(t.ID_USER,M);if(L.success){const Y={id:L.story.ID_STORY,author:L.story.AUTHOR_NAME||t.NOM,avatar:L.story.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${L.story.AUTHOR_AVATAR}`:r,image:Yl.getStoryUrl(L.story.CONTENT),time:L.story.DATE_STORY};En(Z=>[Y,...Z])}else alert("Erreur lors de l'ajout de la story: "+L.error)}catch(L){console.error("Erreur lors de l'upload de la story:",L),alert("Erreur lors de l'upload de la story")}},Cn=async y=>{if(!t){alert("Vous devez être connecté pour liker un post");return}try{const M=await Tr.toggleLike(t.ID_USER,y);M.success?(B(L=>({...L,[y]:M.isLiked})),pr(L=>L.map(Y=>Y.id===y?{...Y,likes:M.totalLikes}:Y)),console.log(M.message)):(console.error("Erreur lors du like:",M.error),alert("Erreur lors du like: "+M.error))}catch(M){console.error("Erreur lors du like:",M),alert("Erreur lors du like")}},Ll=(y,M)=>{console.log("Opening media modal:",{type:y,src:M}),Qe({type:y,src:M}),ie(!0)},Ft=()=>{console.log("Closing media modal"),ie(!1),Qe({type:null,src:null})},Xa=async y=>{try{const M=await Oe.getComments(y);M.success?te(L=>({...L,[y]:M.comments})):console.error("Erreur lors du chargement des commentaires:",M.error)}catch(M){console.error("Erreur lors du chargement des commentaires:",M)}},Or=(y,M)=>{ge(L=>({...L,[y]:M}))},Pn=async y=>{var L;if(!t){alert("Vous devez être connecté pour commenter");return}const M=(L=fe[y])==null?void 0:L.trim();if(M)try{const Y=await Oe.addComment(t.ID_USER,y,M);Y.success?(te(Z=>({...Z,[y]:[Y.comment,...Z[y]||[]]})),ge(Z=>({...Z,[y]:""})),pr(Z=>Z.map(Ce=>Ce.id===y?{...Ce,comments:(Ce.comments||0)+1}:Ce))):alert("Erreur lors de l'ajout du commentaire: "+Y.error)}catch(Y){console.error("Erreur lors de l'ajout du commentaire:",Y),alert("Erreur lors de l'ajout du commentaire")}},Ln=(y,M)=>{Ur({commentId:y,postId:M}),Ar(!0)},Ml=async()=>{if(!fr||!t)return;const{commentId:y,postId:M}=fr;try{console.log("Suppression du commentaire:",y,"par utilisateur:",t.ID_USER);const L=await Oe.deleteComment(y,t.ID_USER);L.success?(console.log("Commentaire supprimé avec succès"),te(Y=>{const Z={...Y};return Z[M]&&(Z[M]=Z[M].filter(Ce=>Ce.ID_COMMENT!==y)),Z}),pr(Y=>Y.map(Z=>Z.id===M?{...Z,comments:Math.max(0,Z.comments-1)}:Z)),Ar(!1),Ur(null)):console.error("Erreur lors de la suppression du commentaire:",L.error)}catch(L){console.error("Erreur lors de la suppression du commentaire:",L)}},Tl=()=>{Ar(!1),Ur(null)};return dr?n.createElement(gn,{user:dr,onBack:Nn}):n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},n.createElement("div",{className:"flex space-x-4 overflow-x-auto pb-4 mb-4"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("div",{className:"w-32 h-48 rounded-xl bg-gray-100 relative overflow-hidden cursor-pointer hover:bg-gray-200 transition-colors"},n.createElement("input",{type:"file",id:"story-upload",className:"hidden",accept:"image/*,video/*",onChange:Ja}),n.createElement("label",{htmlFor:"story-upload",className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer"},n.createElement("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center mb-2"},n.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}))),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Ajouter une story")))),mr.map((y,M)=>n.createElement("div",{key:M,className:"flex-shrink-0 w-32 h-48 rounded-xl bg-gray-300 relative overflow-hidden cursor-pointer",onClick:()=>Sn(M)},"            ",n.createElement("img",{src:y.image,alt:`Story ${M+1}`,className:"absolute inset-0 w-full h-full object-cover"}),n.createElement("div",{className:"absolute inset-x-0 top-0 p-2 bg-gradient-to-b from-black to-transparent"},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"w-8 h-8 rounded-full border-2 border-blue-500 overflow-hidden"},n.createElement("img",{src:y.avatar,alt:`User ${M+1}`,className:"w-full h-full object-cover",onError:L=>L.target.src="https://via.placeholder.com/40"})),n.createElement("div",{className:"text-white text-sm font-medium truncate"},y.author)))))),n.createElement("div",{className:"bg-white p-4 rounded-lg shadow mb-4"},n.createElement("div",{className:"flex items-center space-x-2 mb-3"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:r,alt:"Profile",className:"w-full h-full object-cover",onError:y=>y.target.src="https://via.placeholder.com/40"})),n.createElement("input",{className:"flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm",placeholder:"Ajoutez votre annonce immobilière...",onClick:()=>a(!0),readOnly:!0})),n.createElement("div",{className:"border-t pt-3 flex justify-center"},n.createElement("button",{className:"flex items-center space-x-1 text-gray-600 hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>a(!0)},n.createElement("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})),n.createElement("span",null,"ajouter une Annonce immobilière")))),l&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[80vh] overflow-y-auto"},n.createElement("div",{className:"p-5 border-b border-gray-200 sticky top-0 bg-white z-10"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Créer une annonce immobilière"),n.createElement("button",{className:"text-gray-500 hover:text-gray-700 transition-colors rounded-full p-1 hover:bg-gray-100",onClick:()=>a(!1)},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),n.createElement("form",{onSubmit:Pl,className:"p-6"},n.createElement("div",{className:"space-y-6 mb-8"},n.createElement("div",{className:"flex items-center space-x-3 bg-blue-50 p-4 rounded-xl border border-blue-100"},n.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-300 overflow-hidden border-2 border-blue-300"},n.createElement("img",{src:F.avatar,alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-semibold text-gray-800 flex items-center"},F.name,n.createElement("svg",{className:"w-5 h-5 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))),n.createElement("div",{className:"text-sm text-blue-600"},"Compte vérifié"))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Description"),n.createElement("textarea",{name:"description",value:P,onChange:y=>O(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",placeholder:"Décrivez votre bien immobilier...",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de bien"),n.createElement("div",{className:"relative"},n.createElement("select",{className:"w-full pl-3 pr-10 py-3 border border-gray-300 bg-white rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 appearance-none transition-colors hover:border-blue-300",value:o,onChange:y=>s(y.target.value),required:!0},n.createElement("option",{value:""},"Sélectionnez un type"),n.createElement("option",{value:"location"},"Location"),n.createElement("option",{value:"vente"},"Vente"),n.createElement("option",{value:"colocation"},"Colocation"),n.createElement("option",{value:"recherche"},"Recherche")),n.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Localisation (ville)"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:i,onChange:y=>c(y.target.value),placeholder:"Ex: Paris, Tanger",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Quartier"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:m,onChange:y=>E(y.target.value),placeholder:"Ex: Bastille, Birchifa",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de location"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${h==="courte"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"durationType",value:"courte",checked:h==="courte",onChange:()=>v("courte"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"nuit")),n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${h==="longue"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",co:!0,name:"durationType",value:"longue",checked:h==="longue",onChange:()=>v("longue"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"mois")))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Prix (€/mois)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:w,onChange:y=>S(y.target.value),placeholder:"Ex: 800",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Surface (m²)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:C,onChange:y=>T(y.target.value),placeholder:"Ex: 45",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre de pièces"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:g,onChange:y=>u(y.target.value),placeholder:"Ex: 3",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"État du bien"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${p==="equipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"equipped",checked:p==="equipped",onChange:()=>x("equipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Équipé/Meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"Prêt à emménager"))),n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${p==="notEquipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"notEquipped",checked:p==="notEquipped",onChange:()=>x("notEquipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Non équipé/Non meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"À aménager"))))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Équipements"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("wifi")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("wifi"),onChange:()=>pe("wifi")}),n.createElement("span",null,"Wi-Fi")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("parking")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("parking"),onChange:()=>pe("parking")}),n.createElement("span",null,"Parking")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("garage")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("garage"),onChange:()=>pe("garage")}),n.createElement("span",null,"Garage")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("terrasse")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("terrasse"),onChange:()=>pe("terrasse")}),n.createElement("span",null,"Terrasse")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("ascenseur")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("ascenseur"),onChange:()=>pe("ascenseur")}),n.createElement("span",null,"Ascenseur")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("salleDeSport")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("salleDeSport"),onChange:()=>pe("salleDeSport")}),n.createElement("span",null,"Salle de sport")))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Images ",n.createElement("span",{className:"text-red-500"},"*"),n.createElement("span",{className:"text-xs text-gray-500 font-normal"},"(Au moins une image ou une vidéo requise)")),$.length>0&&n.createElement("div",{className:"flex flex-wrap gap-2 mb-2 justify-center -mt-1 pb-4"},$.map((y,M)=>n.createElement("div",{key:M,className:"relative w-20 h-20"},n.createElement("img",{src:y,alt:"",className:"w-full h-full object-cover rounded-lg"}),n.createElement("button",{type:"button",className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",onClick:()=>{j($.filter((L,Y)=>Y!==M)),Q(J.filter((L,Y)=>Y!==M))}},"×")))),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl hover:border-blue-400 transition-colors"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger des fichiers"),n.createElement("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:Mt,accept:"image/*"})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF, WebP jusqu'à 15MB"))),tt.images&&n.createElement("p",{className:"text-red-500 text-sm mt-1 font-bold border border-red-300 p-2 bg-red-50 rounded"},"❌ ",tt.images)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Vidéo ",n.createElement("span",{className:"text-red-500"},"*"),n.createElement("span",{className:"text-xs text-gray-500 font-normal"},"(Ou au moins une image requise)")),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed hover:border-blue-400 rounded-md"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger une vidéo"),n.createElement("input",{id:"video-upload",name:"video-upload",type:"file",className:"sr-only",accept:"video/*",onChange:oe})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"MP4, MOV jusqu'à 100MB"))),ce&&n.createElement("div",{className:"mt-2 flex justify-center -mt-1 pb-4"},n.createElement("div",{className:"relative w-full max-w-md"},n.createElement("video",{src:ce,controls:!0,className:"w-full h-48 object-cover rounded"}),n.createElement("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>{X(null),V(null)}},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),tt.video&&n.createElement("p",{className:"text-red-500 text-sm mt-1 font-bold border border-red-300 p-2 bg-red-50 rounded"},"❌ ",tt.video))),n.createElement("div",{className:"flex justify-end"},n.createElement("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>{console.log("BOUTON CLIQUÉ - Images:",J.length,"Vidéo:",R?"Oui":"Non")}},"Publier (Images: ",J.length,", Vidéo: ",R?"✓":"✗",")"))))),n.createElement("div",{className:"space-y-6"},le?n.createElement("div",{className:"flex justify-center items-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-2 text-gray-600"},"Chargement des annonces...")):hr.length===0?n.createElement("div",{className:"text-center py-8 text-gray-500"},e?n.createElement(n.Fragment,null,n.createElement("p",{className:"text-lg"},'Aucun résultat pour "',e,'"'),n.createElement("p",{className:"text-sm mt-2"},"Essayez avec d'autres mots-clés")):n.createElement(n.Fragment,null,n.createElement("p",null,"Aucune annonce disponible pour le moment."),n.createElement("p",{className:"text-sm mt-2"},"Soyez le premier à publier une annonce !"))):hr.map(y=>n.createElement("div",{key:y.id,className:"bg-white rounded-lg shadow overflow-hidden relative"},n.createElement("button",{onClick:()=>kn(y.id),className:`absolute top-3 right-3 z-10 p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-all ${ze[y.id]?"text-blue-600":"text-gray-500"}`},n.createElement("svg",{className:"w-5 h-5",fill:ze[y.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"}))),n.createElement("div",{className:"p-4"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer hover:ring-2 hover:ring-blue-400 transition-all",onClick:()=>wn(y.userId,y.author,y.avatar)},n.createElement("img",{src:y.avatar,alt:y.author,className:"w-full h-full object-cover",onError:M=>M.target.src="https://via.placeholder.com/40"})),n.createElement("div",null,n.createElement("div",{className:"font-medium cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>wn(y.userId,y.author,y.avatar)},y.author),n.createElement("div",{className:"text-xs text-gray-500"},y.time))),y.details&&n.createElement("div",{className:"mt-3 mb-3 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},y.details.postType&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},y.details.postType),y.details.location&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},y.details.location),y.details.quartier&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},y.details.quartier),y.details.durationType&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},y.details.durationType),y.details.price&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},y.details.price,"€"),y.details.area&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},y.details.area,"m²"),y.details.rooms&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},y.details.rooms," pièces"),y.details.furnishingStatus&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},y.details.furnishingStatus==="equipped"||y.details.furnishingStatus==="meuble"?"Meublé":"Non meublé"),y.details.amenities&&y.details.amenities.length>0&&y.details.amenities.map((M,L)=>M&&M.trim()&&n.createElement("span",{key:L,className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},M.trim()))))),n.createElement("div",{className:"px-3"}," ",y.images&&y.images.length>0&&n.createElement("div",{className:"flex w-full gap-1 flex-wrap mb-3"}," ",y.images.map((M,L)=>n.createElement("div",{key:"img-"+L,className:`overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer h-60 ${y.images.length===1?"w-full":y.images.length===2?"w-[calc(50%-2px)]":y.images.length===3?"w-[calc(33.333%-3px)]":"w-[calc(25%-3px)]"}`,onClick:()=>Ll("image",M)},n.createElement("img",{src:M,alt:`Post image ${L+1}`,className:"w-full h-full object-cover bg-gray-100",onError:Y=>{console.log("❌ Erreur de chargement image:",M),Y.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"},onLoad:()=>{console.log("✅ Image chargée avec succès:",M)}})))),y.video&&n.createElement("div",{className:"w-full"},n.createElement("div",{className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer w-full h-80",onClick:()=>Ll("video",y.video)},n.createElement("video",{src:y.video,className:"w-full h-full object-cover bg-black",controls:!0,onError:()=>{console.log("❌ Erreur de chargement vidéo:",y.video)},onLoadedData:()=>{console.log("✅ Vidéo chargée avec succès:",y.video)}})))),n.createElement("div",{className:"px-4 py-2 border-t border-gray-100"},n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"flex space-x-4"},n.createElement("button",{className:`flex items-center space-x-1 ${I[y.id]?"text-red-600":"text-gray-500"} hover:text-red-600`,onClick:()=>Cn(y.id)},n.createElement("svg",{className:`w-5 h-5 ${I[y.id]?"text-red-600 fill-current":"text-gray-500"}`,fill:I[y.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",null,y.likes)),n.createElement("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-600",onClick:()=>Ya(y.id)},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",null,y.comments))))),ee[y.id]&&n.createElement("div",{className:"mt-2 border-t pt-2 px-2 pb-3"}," ",D[y.id]&&D[y.id].length>0?[...D[y.id]].sort((M,L)=>new Date(M.DATE_COMMENTS)-new Date(L.DATE_COMMENTS)).map(M=>n.createElement("div",{key:M.ID_COMMENT,className:"flex items-start space-x-2 mb-2"}," ",n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:M.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${M.AUTHOR_AVATAR}`:"https://via.placeholder.com/40",alt:M.AUTHOR_NAME,className:"w-full h-full object-cover",onError:L=>L.target.src="https://via.placeholder.com/40"})),n.createElement("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm border border-gray-100"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",{className:"font-medium text-xs text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>wn(M.ID_USER,M.AUTHOR_NAME,M.AUTHOR_AVATAR)},M.AUTHOR_NAME),t&&M.ID_USER===t.ID_USER&&n.createElement("button",{onClick:()=>Ln(M.ID_COMMENT,y.id),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",title:"Supprimer ce commentaire"},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("p",{className:"text-sm text-gray-700 mt-1"},M.CONTENT),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},M.TIME_AGO)))):n.createElement("p",{className:"text-sm text-gray-500 my-2"},"Aucun commentaire pour le moment"),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:r,alt:"Vous",className:"w-full h-full object-cover",onError:M=>M.target.src="https://via.placeholder.com/40"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border rounded-full py-1 px-3 pr-10 text-sm",placeholder:"Ajouter un commentaire...",value:fe[y.id]||"",onChange:M=>Or(y.id,M.target.value),onKeyPress:M=>M.key==="Enter"&&Pn(y.id)}),n.createElement("button",{className:"absolute right-2 top-1 text-blue-500",onClick:()=>Pn(y.id)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"}))))))))),l&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[80vh] overflow-y-auto"},n.createElement("div",{className:"p-5 border-b border-gray-200 sticky top-0 bg-white z-10"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Créer une annonce immobilière"),n.createElement("button",{className:"text-gray-500 hover:text-gray-700 transition-colors rounded-full p-1 hover:bg-gray-100",onClick:()=>a(!1)},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),n.createElement("form",{onSubmit:Pl,className:"p-6"},n.createElement("div",{className:"space-y-6 mb-8"},n.createElement("div",{className:"flex items-center space-x-3 bg-blue-50 p-4 rounded-xl border border-blue-100"},n.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-300 overflow-hidden border-2 border-blue-300"},n.createElement("img",{src:F.avatar,alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-semibold text-gray-800 flex items-center"},F.name,n.createElement("svg",{className:"w-5 h-5 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))),n.createElement("div",{className:"text-sm text-blue-600"},"Compte vérifié"))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de bien"),n.createElement("div",{className:"relative"},n.createElement("select",{className:"w-full pl-3 pr-10 py-3 border border-gray-300 bg-white rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 appearance-none transition-colors hover:border-blue-300",value:o,onChange:y=>s(y.target.value),required:!0},n.createElement("option",{value:""},"Sélectionnez un type"),n.createElement("option",{value:"maison"},"Maison"),n.createElement("option",{value:"appartement"},"Appartement"),n.createElement("option",{value:"chambre"},"Chambre")),n.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"ville"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:i,onChange:y=>c(y.target.value),placeholder:"Ex: Paris, Tanger",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Quartier"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:m,onChange:y=>E(y.target.value),placeholder:"Ex: Bastille, Birchifa",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de location"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${h==="courte"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"durationType",value:"courte",checked:h==="courte",onChange:()=>v("courte"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"nuit")),n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${h==="longue"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"durationType",value:"longue",checked:h==="longue",onChange:()=>v("longue"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"mois")))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Prix (Dh)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:w,onChange:y=>S(y.target.value),placeholder:"Ex: 800",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Surface (m²)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:C,onChange:y=>T(y.target.value),placeholder:"Ex: 45",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre de pièces"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:g,onChange:y=>u(y.target.value),placeholder:"Ex: 3",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"État du bien"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${p==="equipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"equipped",checked:p==="equipped",onChange:()=>x("equipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Équipé/Meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"Prêt à emménager"))),n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${p==="notEquipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"notEquipped",checked:p==="notEquipped",onChange:()=>x("notEquipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Non équipé/Non meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"À aménager"))))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Équipements"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("wifi")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("wifi"),onChange:()=>pe("wifi")}),n.createElement("span",null,"Wi-Fi")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("parking")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("parking"),onChange:()=>pe("parking")}),n.createElement("span",null,"Parking")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("garage")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("garage"),onChange:()=>pe("garage")}),n.createElement("span",null,"Garage")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("terrasse")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("terrasse"),onChange:()=>pe("terrasse")}),n.createElement("span",null,"Terrasse")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("ascenseur")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("ascenseur"),onChange:()=>pe("ascenseur")}),n.createElement("span",null,"Ascenseur")),n.createElement("label",{className:`flex items-center space-x-2 ${N.includes("salleDeSport")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:N.includes("salleDeSport"),onChange:()=>pe("salleDeSport")}),n.createElement("span",null,"Salle de sport")))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Images ",n.createElement("span",{className:"text-red-500"},"*"),n.createElement("span",{className:"text-xs text-gray-500 font-normal"},"(Au moins une image ou une vidéo requise)")),$.length>0&&n.createElement("div",{className:"flex flex-wrap gap-2 mb-2 justify-center -mt-1 pb-4"},$.map((y,M)=>n.createElement("div",{key:M,className:"relative w-20 h-20"},n.createElement("img",{src:y,alt:"",className:"w-full h-full object-cover rounded-lg"}),n.createElement("button",{type:"button",className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",onClick:()=>{j($.filter((L,Y)=>Y!==M)),Q(J.filter((L,Y)=>Y!==M))}},"×")))),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl hover:border-blue-400 transition-colors"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger des fichiers"),n.createElement("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:Mt,accept:"image/*"})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF, WebP jusqu'à 15MB"))),tt.images&&n.createElement("p",{className:"text-red-500 text-sm mt-1 font-bold border border-red-300 p-2 bg-red-50 rounded"},"❌ ",tt.images)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Vidéo ",n.createElement("span",{className:"text-red-500"},"*"),n.createElement("span",{className:"text-xs text-gray-500 font-normal"},"(Ou au moins une image requise)")),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed hover:border-blue-400 rounded-md"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger une vidéo"),n.createElement("input",{id:"video-upload",name:"video-upload",type:"file",className:"sr-only",accept:"video/*",onChange:oe})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"MP4, MOV jusqu'à 100MB"))),ce&&n.createElement("div",{className:"mt-2 flex justify-center -mt-1 pb-4"},n.createElement("div",{className:"relative w-full max-w-md"},n.createElement("video",{src:ce,controls:!0,className:"w-full h-48 object-cover rounded"}),n.createElement("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>{X(null),V(null)}},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),tt.video&&n.createElement("p",{className:"text-red-500 text-sm mt-1 font-bold border border-red-300 p-2 bg-red-50 rounded"},"❌ ",tt.video))),n.createElement("div",{className:"flex justify-end"},n.createElement("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},"Publier"))))),re&&n.createElement(hh,{stories:mr,initialIndex:K,onClose:()=>z(!1)}),H&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:Ft},n.createElement("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center",onClick:y=>y.stopPropagation()},n.createElement("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:Ft},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"w-full h-full flex items-center justify-center"},de.type==="image"&&n.createElement("img",{src:de.src,alt:"Image agrandie",className:"max-w-full max-h-full object-contain rounded-lg",onClick:Ft}),de.type==="video"&&n.createElement("video",{src:de.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full object-contain rounded-lg"},"Votre navigateur ne supporte pas la lecture de vidéos.")),n.createElement("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm opacity-75"},"Cliquez n'importe où pour fermer"))),Cl&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le commentaire"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce commentaire ? Cette action est irréversible.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:Tl},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:Ml},"Supprimer"))))))}function xh(){var S,C,T,g;const[e,t]=f.useState([]),[r,l]=f.useState(!0),[a,o]=f.useState(null),[s,i]=f.useState(null),[c,m]=f.useState(""),E=async()=>{l(!0),o(null);try{const u=await Pd.getAllUsers();if(u.success){const p=u.users.map(x=>({id:x.id,name:x.name,avatar:x.avatar||`https://via.placeholder.com/40?text=${x.name.charAt(0)}`,status:x.isOnline,email:x.email,city:x.city,userStatus:x.status,phone:x.phone}));t(p)}else o("Erreur lors du chargement des contacts"),console.error("Erreur lors du chargement des utilisateurs:",u.error)}catch(u){o("Erreur de connexion"),console.error("Erreur lors du chargement des utilisateurs:",u)}finally{l(!1)}};f.useEffect(()=>{E()},[]);const h=e.filter(u=>u.name.toLowerCase().includes(c.toLowerCase())),v=u=>{if(!u.phone){alert(`Aucun numéro de téléphone disponible pour ${u.name}`);return}let p=u.phone.replace(/[\s\-\(\)]/g,"");p.startsWith("0")?p="+212"+p.substring(1):p.startsWith("+")||(p="+212"+p);const x=`https://wa.me/${p}?text=Bonjour ${u.name}, je vous contacte depuis Localbook.`;window.open(x,"_blank")},w=()=>{i(null)};return n.createElement("div",{className:"w-1/5 p-4 bg-white shadow hidden lg:block overflow-y-auto h-screen sticky top-16"},n.createElement("div",{className:"mb-4"},n.createElement("h2",{className:"text-gray-500 font-semibold mb-2 flex justify-between items-center"},n.createElement("div",{className:"flex flex-col"},n.createElement("span",null,"Contacts (",e.length,")"),n.createElement("span",{className:"text-xs text-gray-400 font-normal"},"Propriétaires & Intermédiaires")),n.createElement("button",{onClick:E,disabled:r,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50 transition-colors",title:"Actualiser les contacts"},n.createElement("svg",{className:`w-4 h-4 ${r?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})))),n.createElement("div",{className:"relative mb-3"},n.createElement("input",{type:"text",className:"w-full px-2 py-2 pl-10 border rounded-lg bg-gray-100",placeholder:"Rechercher un contact",value:c,onChange:u=>m(u.target.value)}),n.createElement("svg",{className:"w-5 h-5 text-gray-500 absolute left-3 top-2.5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})))),n.createElement("div",{className:"space-y-2"},r?n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.createElement("span",{className:"ml-2 text-gray-600"},"Chargement des contacts...")):a?n.createElement("div",{className:"text-center py-8"},n.createElement("div",{className:"text-red-500 mb-2"},a),n.createElement("button",{onClick:E,className:"text-blue-500 hover:text-blue-700 text-sm"},"Réessayer")):h.length===0?n.createElement("div",{className:"text-center py-3 text-gray-500"},c?"Aucun contact trouvé":"Aucun contact disponible"):h.map(u=>n.createElement("div",{key:u.id,className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>v(u),title:`Cliquer pour contacter ${u.name} sur WhatsApp${u.city?` - ${u.city}`:""}${u.userStatus?` (${u.userStatus})`:""}`},n.createElement("div",{className:"relative"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden border-2 border-gray-200"},n.createElement("img",{src:u.avatar,alt:u.name,className:"w-full h-full object-cover",onError:p=>{p.target.src=`https://via.placeholder.com/40?text=${u.name.charAt(0)}`}})),u.status==="online"&&n.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-500 border-2 border-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"font-medium text-sm truncate"},u.name),u.city&&n.createElement("div",{className:"text-xs text-gray-500 truncate"},u.city),u.userStatus&&n.createElement("div",{className:"text-xs text-blue-600 truncate capitalize"},u.userStatus)),n.createElement("div",{className:"flex flex-col items-end"},n.createElement("div",{className:"flex items-center space-x-1"},n.createElement("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})),n.createElement("span",{className:`inline-block w-2 h-2 rounded-full ${u.status==="online"?"bg-green-500":"bg-gray-400"}`})),n.createElement("span",{className:"text-xs text-gray-400 mt-1"},u.phone?"WhatsApp":"Pas de tél."))))),s&&n.createElement("div",{className:"fixed bottom-0 right-64 w-80 bg-white rounded-t-lg shadow-lg z-10 overflow-hidden"},n.createElement("div",{className:"p-3 bg-blue-600 text-white flex justify-between items-center"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2"},n.createElement("img",{src:(S=e.find(u=>u.id===s))==null?void 0:S.avatar,alt:(C=e.find(u=>u.id===s))==null?void 0:C.name,className:"w-full h-full object-cover"})),n.createElement("h3",{className:"font-medium"},(T=e.find(u=>u.id===s))==null?void 0:T.name)),n.createElement("div",{className:"flex space-x-2"},n.createElement("button",{className:"text-white hover:text-gray-200"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),n.createElement("button",{className:"text-white hover:text-gray-200",onClick:w},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))))),n.createElement("div",{className:"h-80 overflow-y-auto p-3 bg-gray-50"},(g=chatHistory[s])==null?void 0:g.map(u=>{var p;return n.createElement("div",{key:u.id,className:`mb-2 flex ${u.isUser?"justify-end":"justify-start"}`},!u.isUser&&n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2 flex-shrink-0"},n.createElement("img",{src:(p=e.find(x=>x.id===s))==null?void 0:p.avatar,alt:u.sender,className:"w-full h-full object-cover"})),n.createElement("div",{className:`max-w-xs px-3 py-2 rounded-lg ${u.isUser?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`},n.createElement("p",{className:"text-sm"},u.text),n.createElement("p",{className:"text-xs text-right mt-1 opacity-75"},u.time)))})),n.createElement("div",{className:"p-3 border-t flex items-center"},n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full px-4 py-2 rounded-full bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Écrivez un message..."}),n.createElement("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-600"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})))),n.createElement("button",{className:"ml-2 p-2 rounded-full bg-blue-600 text-white"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"}))))))}function yh(){const[e,t]=f.useState(""),[r,l]=f.useState(null),[a,o]=f.useState([]),[s,i]=f.useState(!0),[c,m]=f.useState(null),[E,h]=f.useState(null),[v,w]=f.useState(new Set),{user:S}=it();if(f.useEffect(()=>{const x=async()=>{try{if(!S||!S.ID_USER){m("Utilisateur non identifié"),i(!1);return}console.log("Fetching following for user ID:",S.ID_USER);const N=await xt.getFollowing(S.ID_USER);console.log("API response:",N),N.success?o(N.following):m(N.error||"Erreur lors du chargement")}catch(N){console.error("Error fetching following:",N),m("Échec du chargement de la liste")}finally{i(!1)}};S&&S.ID_USER?x():i(!1)},[S]),s)return n.createElement("div",{className:"flex-1 p-4 flex items-center justify-center"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}));const T=(a||[]).filter(x=>x.name.toLowerCase().includes(e.toLowerCase())),g=x=>{l(x)},u=()=>{l(null)},p=async x=>{try{console.log("Unfollowing user:",x),m(null),h(null),w(U=>new Set([...U,x.id]));const N=await xt.unfollow(S.ID_USER,x.id);N.success?(o(U=>U.filter($=>$.id!==x.id)),h(`Vous ne suivez plus ${x.name}`),setTimeout(()=>h(null),3e3),console.log("Successfully unfollowed user")):(m(N.error||"Erreur lors de la suppression"),console.error("Failed to unfollow:",N.error))}catch(N){console.error("Error unfollowing user:",N),m("Échec de la suppression")}finally{w(N=>{const U=new Set(N);return U.delete(x.id),U})}};return r?n.createElement(gn,{user:r,onBack:u}):n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},E&&n.createElement("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg"},E),c&&n.createElement("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg"},c),n.createElement("div",{className:"bg-white rounded-lg shadow"},n.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100"},n.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Personnes que je suis"),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"text",className:"w-40 px-3 py-1 pl-8 text-sm border rounded-full bg-gray-50",placeholder:"Rechercher...",value:e,onChange:x=>t(x.target.value)}),n.createElement("svg",{className:"w-4 h-4 text-gray-400 absolute left-2 top-1.5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),n.createElement("div",{className:"text-xs px-2 py-1 bg-red-50 text-red-600 font-medium rounded-full"},(a||[]).length))),n.createElement("div",{className:"p-2"},T.map(x=>n.createElement("div",{key:x.id,className:"flex items-center p-2 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>g(x)},n.createElement("div",{className:"relative mr-3"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-red-100"},n.createElement("img",{src:x.avatar,alt:x.name,className:"w-full h-full object-cover"})),x.status==="online"&&n.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-500 border-2 border-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"font-medium text-sm text-gray-800 truncate"},x.name),n.createElement("div",{className:"text-xs text-gray-500 flex items-center"},n.createElement("span",{className:`inline-block w-1.5 h-1.5 rounded-full mr-1 ${x.status==="online"?"bg-green-500":"bg-gray-400"}`}),x.status==="online"?"En ligne":"Hors ligne")),n.createElement("button",{className:`ml-2 px-3 py-1 rounded-full text-xs font-medium transition-colors ${v.has(x.id)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-50 text-red-600 hover:bg-red-100"}`,onClick:N=>{N.stopPropagation(),v.has(x.id)||p(x)},disabled:v.has(x.id)},v.has(x.id)?"Suppression...":"Ne plus suivre"))),T.length===0&&n.createElement("div",{className:"text-center py-4 text-gray-500 text-sm"},"Aucune personne trouvée"))))}const wh="http://localhost/localbook/backend/api";class Nh{static async getVideoPosts(t=null,r=20,l=0){try{let a=`${wh}/videos/get_video_posts.php?limit=${r}&offset=${l}`;t&&(a+=`&current_user_id=${t}`);const o=await fetch(a);if(!o.ok)throw new Error("Network response was not ok");return await o.json()}catch(a){return console.error("Error getting video posts:",a),{success:!1,error:"Error getting video posts: "+(a.message||"Unknown error"),posts:[],total:0,has_more:!1}}}}function bh(){const[e,t]=f.useState([]),[r,l]=f.useState(!0),[a,o]=f.useState(null),[s,i]=f.useState({}),[c,m]=f.useState({}),[E,h]=f.useState({}),[v,w]=f.useState({}),[S,C]=f.useState({}),[T,g]=f.useState({isOpen:!1,type:null,src:null}),[u,p]=f.useState(null),{user:x}=it(),N=(R,V,ee)=>{const G={id:R,name:V,username:V,avatar:ee,bio:`Profil de ${V}`,status:"offline"};p(G)},U=()=>{p(null)};f.useEffect(()=>{(async()=>{try{l(!0);const V=await Nh.getVideoPosts(x==null?void 0:x.ID_USER);if(V.success){t(V.posts);const ee={};if(V.posts.forEach(G=>{ee[G.id]=G.isLiked}),i(ee),x!=null&&x.ID_USER){const G=V.posts.map(z=>z.id),re=await et.checkSavedPosts(x.ID_USER,G);re.success&&m(re.savedPosts)}}else o(V.error||"Erreur lors du chargement des vidéos")}catch(V){console.error("Error loading video posts:",V),o("Erreur lors du chargement des vidéos")}finally{l(!1)}})()},[x]);const $=async R=>{if(x)try{const V=await Tr.toggleLike(x.ID_USER,R);V.success&&(i(ee=>({...ee,[R]:V.isLiked})),t(ee=>ee.map(G=>G.id===R?{...G,likes:V.totalLikes}:G)))}catch(V){console.error("Error liking post:",V)}},j=async R=>{if(x)try{const V=c[R];let ee;V?(ee=await et.unsavePost(x.ID_USER,R),ee.success&&m(G=>({...G,[R]:!1}))):(ee=await et.savePost(x.ID_USER,R),ee.success&&m(G=>({...G,[R]:!0})))}catch(V){console.error("Error saving post:",V)}},J=async R=>{if(h(V=>({...V,[R]:!V[R]})),!v[R]&&!E[R])try{const V=await Oe.getComments(R);V.success&&w(ee=>({...ee,[R]:V.comments}))}catch(V){console.error("Error loading comments:",V)}},Q=async R=>{var V;if(!(!x||!((V=S[R])!=null&&V.trim())))try{if((await Oe.addComment(x.ID_USER,R,S[R])).success){const G={ID_COMMENT:Date.now(),AUTHOR_NAME:x.NOM,AUTHOR_AVATAR:x.IMG_PROFIL,CONTENT:S[R],TIME_AGO:"à l'instant"};w(re=>({...re,[R]:[...re[R]||[],G]})),C(re=>({...re,[R]:""})),t(re=>re.map(z=>z.id===R?{...z,comments:z.comments+1}:z))}}catch(ee){console.error("Error adding comment:",ee)}},ce=(R,V)=>{g({isOpen:!0,type:R,src:V})},X=()=>{g({isOpen:!1,type:null,src:null})};return r?n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},n.createElement("div",{className:"flex justify-center items-center h-64"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}))):a?n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},n.createElement("div",{className:"text-center text-red-600 p-8"},n.createElement("p",null,a))):u?n.createElement(gn,{user:u,onBack:U}):n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},n.createElement("div",{className:"max-w-2xl mx-auto"},e.length===0?n.createElement("div",{className:"text-center py-12 text-gray-500"},n.createElement("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("p",{className:"text-lg font-medium"},"Aucune vidéo disponible"),n.createElement("p",{className:"text-sm mt-1"},"Les vidéos partagées apparaîtront ici")):n.createElement("div",{className:"space-y-4"},e.map(R=>n.createElement("div",{key:R.id,className:"relative"},n.createElement("div",{className:"relative"},R.video&&n.createElement("video",{src:R.video,className:"w-full h-96 object-cover bg-black",controls:!0,autoPlay:!0,muted:!0,loop:!0,onClick:()=>ce("video",R.video)}),n.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4"},n.createElement("div",{className:"flex items-center space-x-3 mb-2"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>N(R.userId,R.author,R.avatar)},n.createElement("img",{src:R.avatar,alt:R.author,className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-medium text-white cursor-pointer hover:text-blue-400 transition-colors",onClick:()=>N(R.userId,R.author,R.avatar)},R.author),n.createElement("div",{className:"text-xs text-gray-200"},R.time))),R.content&&n.createElement("p",{className:"text-white text-sm mb-2"},R.content),R.details&&n.createElement("div",{className:"flex flex-wrap gap-1"},R.details.postType&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500/80 text-white"},R.details.postType),R.details.location&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-purple-500/80 text-white"},R.details.location),R.details.quartier&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-500/80 text-white"},R.details.quartier),R.details.price&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-500/80 text-white"},Number(R.details.price).toLocaleString(),"€"),R.details.area&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-500/80 text-white"},R.details.area,"m²"),R.details.rooms&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-500/80 text-white"},R.details.rooms," pièces"),R.details.furnishingStatus&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-pink-500/80 text-white"},R.details.furnishingStatus==="Meublé"?"Meublé":"Non meublé"),R.details.equipment&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-teal-500/80 text-white"},R.details.equipment),R.details.duration&&n.createElement("span",{className:"px-2 py-1 rounded text-xs font-medium bg-indigo-500/80 text-white"},R.details.duration))),n.createElement("button",{onClick:()=>j(R.id),className:`absolute top-4 right-4 p-2 rounded-full bg-black/50 hover:bg-black/70 transition-all ${c[R.id]?"text-blue-400":"text-white"}`},n.createElement("svg",{className:"w-5 h-5",fill:c[R.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"}))),n.createElement("div",{className:"absolute bottom-4 right-4 flex items-center space-x-4"},n.createElement("button",{className:`flex items-center space-x-1 transition-colors ${s[R.id]?"text-red-400":"text-white hover:text-red-400"}`,onClick:()=>$(R.id)},n.createElement("svg",{className:"w-6 h-6",fill:s[R.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",{className:"text-sm font-medium"},R.likes)),n.createElement("button",{className:"flex items-center space-x-1 text-white hover:text-blue-400 transition-colors",onClick:()=>J(R.id)},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",{className:"text-sm font-medium"},R.comments)))),E[R.id]&&n.createElement("div",{className:"bg-white p-4 border-l-4 border-blue-500"},v[R.id]&&v[R.id].length>0&&n.createElement("div",{className:"mb-4 space-y-3"},v[R.id].map((V,ee)=>n.createElement("div",{key:V.ID_COMMENT||ee,className:"flex items-start space-x-3"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:V.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${V.AUTHOR_AVATAR}`:"https://via.placeholder.com/32",alt:V.AUTHOR_NAME,className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"font-medium text-sm text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>N(V.ID_USER,V.AUTHOR_NAME,V.AUTHOR_AVATAR)},V.AUTHOR_NAME),n.createElement("p",{className:"text-sm text-gray-700 mt-1"},V.CONTENT),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},V.TIME_AGO))))),x&&n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:x.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${x.IMG_PROFIL}`:"https://via.placeholder.com/32",alt:"Vous",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border border-gray-200 rounded-full py-2 px-4 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ajouter un commentaire...",value:S[R.id]||"",onChange:V=>C(ee=>({...ee,[R.id]:V.target.value})),onKeyPress:V=>{V.key==="Enter"&&Q(R.id)}}),n.createElement("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500 hover:text-blue-600 transition-colors",onClick:()=>Q(R.id)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})))))))))),T.isOpen&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:X},n.createElement("div",{className:"max-w-4xl max-h-full p-4",onClick:R=>R.stopPropagation()},n.createElement("div",{className:"relative"},n.createElement("button",{onClick:X,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("video",{src:T.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full"})))))}function kh(){const{user:e}=it(),[t,r]=f.useState([]),[l,a]=f.useState({}),[o,s]=f.useState({}),[i,c]=f.useState(!1),[m,E]=f.useState({}),[h,v]=f.useState({}),[w,S]=f.useState({}),[C,T]=f.useState(null),[g,u]=f.useState(null),[p,x]=f.useState(!1),[N,U]=f.useState({isOpen:!1,type:null,src:null}),$=(b,I,B)=>{const le={id:b,name:I,username:I,avatar:B,bio:`Profil de ${I}`,status:"offline"};T(le)},j=()=>{T(null)};f.useEffect(()=>{(async()=>{if(e){c(!0);try{const I=await et.getSavedPosts(e.ID_USER);if(I.success){r(I.posts);const B={},le={};I.posts.forEach(ae=>{B[ae.id]=ae.isLiked,le[ae.id]=!0}),s(B),S(le)}}catch(I){console.error("Error loading saved posts:",I)}finally{c(!1)}}})()},[e]);const J=async b=>{try{w[b]?(await et.unsavePost(e.ID_USER,b)).success&&(r(B=>B.filter(le=>le.ID_POST!==b)),S(B=>({...B,[b]:!1}))):(await et.savePost(e.ID_USER,b)).success&&S(B=>({...B,[b]:!0}))}catch(I){console.error("Error toggling save:",I)}},Q=async b=>{if(!e){alert("Vous devez être connecté pour aimer un post");return}try{(await Tr.toggleLike(e.ID_USER,b)).success&&(s(B=>({...B,[b]:!B[b]})),r(B=>B.map(le=>le.id===b?{...le,likes:le.likes+(o[b]?-1:1)}:le)))}catch(I){console.error("Erreur lors du like:",I)}},ce=async b=>{const I=!l[b];a(B=>({...B,[b]:I})),I&&(!h[b]||h[b].length===0)&&await X(b)},X=async b=>{try{const I=await Oe.getComments(b);I.success?v(B=>({...B,[b]:I.comments})):console.error("Erreur lors du chargement des commentaires:",I.error)}catch(I){console.error("Erreur lors du chargement des commentaires:",I)}},R=(b,I)=>{E(B=>({...B,[b]:I}))},V=async b=>{if(!e){alert("Vous devez être connecté pour commenter");return}const I=m[b];if(!(!I||I.trim()===""))try{const B=await Oe.addComment(e.ID_USER,b,I);B.success&&(v(le=>({...le,[b]:[...le[b]||[],B.comment]})),E(le=>({...le,[b]:""})))}catch(B){console.error("Erreur lors de l'ajout du commentaire:",B)}},ee=(b,I)=>{u({commentId:b,postId:I}),x(!0)},G=async()=>{if(!g||!e)return;const{commentId:b,postId:I}=g;try{console.log("Suppression du commentaire:",b,"par utilisateur:",e.ID_USER);const B=await Oe.deleteComment(b,e.ID_USER);B.success?(console.log("Commentaire supprimé avec succès"),v(le=>{const ae={...le};return ae[I]&&(ae[I]=ae[I].filter(P=>P.ID_COMMENT!==b)),ae}),r(le=>le.map(ae=>ae.id===I?{...ae,comments:Math.max(0,ae.comments-1)}:ae)),x(!1),u(null)):console.error("Erreur lors de la suppression du commentaire:",B.error)}catch(B){console.error("Erreur lors de la suppression du commentaire:",B)}},re=()=>{x(!1),u(null)},z=(b,I)=>{U({isOpen:!0,type:b,src:I})},K=()=>{U({isOpen:!1,type:null,src:null})};return C?n.createElement(gn,{user:C,onBack:j}):n.createElement("main",{className:"flex-1 p-4 overflow-y-auto"},n.createElement("div",{className:"max-w-4xl mx-auto"},n.createElement("h1",{className:"text-2xl font-bold text-gray-800 mb-6"},"Annonces enregistrées"),n.createElement("div",{className:"space-y-6"},i?n.createElement("div",{className:"flex justify-center items-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-2 text-gray-600"},"Chargement des annonces...")):t.length===0?n.createElement("div",{className:"bg-white rounded-lg shadow p-6 text-center"},n.createElement("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"})),n.createElement("h3",{className:"text-lg font-medium text-gray-500"},"Aucune annonce sauvegardée"),n.createElement("p",{className:"text-gray-500 mt-1"},"Les annonces que vous enregistrez apparaîtront ici")):t.map(b=>n.createElement("div",{key:b.id,className:"bg-white rounded-lg shadow overflow-hidden relative"},n.createElement("div",{className:"p-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer hover:ring-2 hover:ring-blue-400 transition-all",onClick:()=>$(b.userId,b.author,b.avatar)},n.createElement("img",{src:b.avatar,alt:b.author,className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-medium cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>$(b.userId,b.author,b.avatar)},b.author),n.createElement("div",{className:"text-xs text-gray-500"},b.time))),n.createElement("button",{onClick:()=>J(b.id),className:`p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-all ${w[b.id]?"text-blue-600":"text-gray-500"}`},n.createElement("svg",{className:"w-5 h-5",fill:w[b.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"})))),n.createElement("p",{className:"mt-2 text-gray-700"},b.content),n.createElement("div",{className:"mt-2 flex flex-wrap gap-2"},b.details.postType&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},b.details.postType),b.details.location&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},b.details.location," ",b.details.quartier&&`- ${b.details.quartier}`),b.details.price&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},b.details.price,"€"),b.details.area&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},b.details.area,"m²"),b.details.rooms&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},b.details.rooms," pièces"),b.details.furnishingStatus&&n.createElement("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},b.details.furnishingStatus==="equipped"?"Meublé":"Non meublé"),b.details.amenities&&b.details.amenities.map((I,B)=>I&&n.createElement("span",{key:B,className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},I)))),n.createElement("div",{className:"px-3"},b.images&&b.images.length>0&&n.createElement("div",{className:"flex w-full gap-1 flex-wrap mb-3"}," ",b.images.map((I,B)=>n.createElement("div",{key:"img-"+B,className:`overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer h-60 ${b.images.length===1?"w-full":b.images.length===2?"w-[calc(50%-2px)]":b.images.length===3?"w-[calc(33.333%-3px)]":"w-[calc(25%-3px)]"}`,onClick:()=>z("image",I)},n.createElement("img",{src:I,alt:`Post image ${B+1}`,className:"w-full h-full object-cover bg-gray-100",onError:le=>{console.log("❌ Erreur de chargement image:",I),le.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"},onLoad:()=>{console.log("✅ Image chargée avec succès:",I)}})))),b.video&&n.createElement("div",{className:"w-full"},n.createElement("div",{className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer w-full h-80",onClick:()=>z("video",b.video)},n.createElement("video",{src:b.video,className:"w-full h-full object-cover bg-black",controls:!0,onError:()=>{console.log("❌ Erreur de chargement vidéo:",b.video)},onLoadedData:()=>{console.log("✅ Vidéo chargée avec succès:",b.video)}})))),n.createElement("div",{className:"px-4 py-2 border-t border-gray-100"},n.createElement("div",{className:"flex space-x-4"},n.createElement("button",{onClick:()=>Q(b.id),className:`flex items-center space-x-1 ${o[b.id]?"text-red-600":"text-gray-500"} hover:text-red-600`},n.createElement("svg",{className:"w-5 h-5",fill:o[b.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",null,b.likes)),n.createElement("button",{onClick:()=>ce(b.id),className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700"},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",null,b.comments)))),l[b.id]&&n.createElement("div",{className:"mt-2 border-t pt-2 px-2 pb-3"},h[b.id]&&h[b.id].length>0?[...h[b.id]].sort((I,B)=>new Date(I.DATE_COMMENTS)-new Date(B.DATE_COMMENTS)).map(I=>n.createElement("div",{key:I.ID_COMMENT,className:"flex items-start space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:I.AUTHOR_AVATAR||"https://via.placeholder.com/40?text=User",alt:I.AUTHOR_NAME,className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm border border-gray-100"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",{className:"font-medium text-xs text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>$(I.ID_USER,I.AUTHOR_NAME,I.AUTHOR_AVATAR)},I.AUTHOR_NAME),e&&I.ID_USER===e.ID_USER&&n.createElement("button",{onClick:()=>ee(I.ID_COMMENT,b.id),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",title:"Supprimer ce commentaire"},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("p",{className:"text-sm text-gray-700 mt-1"},I.CONTENT),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},I.TIME_AGO)))):n.createElement("p",{className:"text-sm text-gray-500 my-2"},"Aucun commentaire pour le moment"),n.createElement("div",{className:"flex items-center space-x-2 mt-3"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:(e==null?void 0:e.IMG_PROFIL)||"https://via.placeholder.com/40?text=You",alt:"Vous",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border rounded-full py-1 px-3 pr-10 text-sm",placeholder:"Ajouter un commentaire...",value:m[b.id]||"",onChange:I=>R(b.id,I.target.value),onKeyPress:I=>I.key==="Enter"&&V(b.id)}),n.createElement("button",{className:"absolute right-2 top-1 text-blue-500",onClick:()=>V(b.id)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})))))))))),N.isOpen&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:K},n.createElement("div",{className:"max-w-4xl max-h-full p-4",onClick:b=>b.stopPropagation()},n.createElement("div",{className:"relative"},n.createElement("button",{onClick:K,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),N.type==="image"?n.createElement("img",{src:N.src,alt:"",className:"max-w-full max-h-full object-contain"}):n.createElement("video",{src:N.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full"})))),p&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le commentaire"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce commentaire ? Cette action est irréversible.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:re},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:G},"Supprimer"))))))}function Sh(){const{user:e}=it(),[t,r]=f.useState({}),[l,a]=f.useState({}),[o,s]=f.useState([]),[i,c]=f.useState(!0),[m,E]=f.useState(null),[h,v]=f.useState({}),[w,S]=f.useState({}),[C,T]=f.useState({}),[g,u]=f.useState(null),[p,x]=f.useState(null),[N,U]=f.useState(!1),[$,j]=f.useState(!1),[J,Q]=f.useState({type:null,src:null}),ce=(P,O,H)=>{const ie={id:P,name:O,username:O,avatar:H,bio:`Profil de ${O}`,status:"offline"};u(ie)},X=()=>{u(null)},R=(P,O)=>{Q({type:P,src:O}),j(!0)},V=()=>{j(!1),Q({type:null,src:null})},ee=async()=>{try{let P;if(e?P=await Ae.getRecommendedPosts(e.ID_USER):P=await Ae.getRecommendedPosts(),P.status==="success"){console.log("📝 Posts recommandés reçus:",P.data),P.data.forEach((H,ie)=>{console.log(`Post ${ie+1}:`,{id:H.id,image:H.image,images:H.images,video:H.video})}),s(P.data);const O={};P.data.forEach(H=>{O[H.id]=H.is_saved==="1"||H.is_saved===!0}),v(O)}else E("Erreur lors du chargement des recommandations")}catch(P){console.error("Erreur:",P),E("Erreur lors du chargement des recommandations")}finally{c(!1)}};f.useEffect(()=>{ee()},[e]);const G=async P=>{if(e)try{const O=h[P];v(ie=>({...ie,[P]:!O}));const H=O?await et.unsavePost(e.ID_USER,P):await et.savePost(e.ID_USER,P);H.success||(v(ie=>({...ie,[P]:O})),console.error("Save error:",H.error))}catch(O){console.error("Erreur lors de la sauvegarde:",O),v(H=>({...H,[P]:h[P]}))}},re=P=>{const O=!t[P];r(H=>({...H,[P]:O})),O&&(!w[P]||w[P].length===0)&&z(P)},z=async P=>{if(!e){alert("Vous devez être connecté pour voir les commentaires");return}try{const O=await Oe.getComments(P);O.success?S(H=>({...H,[P]:O.comments})):(console.error("Erreur lors du chargement des commentaires:",O.error),alert("Erreur lors du chargement des commentaires"),r(H=>({...H,[P]:!1})))}catch(O){console.error("Erreur lors du chargement des commentaires:",O),alert("Erreur lors du chargement des commentaires"),r(H=>({...H,[P]:!1}))}},K=(P,O)=>{T(H=>({...H,[P]:O}))},b=async P=>{if(!e){alert("Vous devez être connecté pour commenter");return}if(!C[P])return;const O=C[P].trim();if(O)try{const H=await Oe.addComment(e.ID_USER,P,O);if(H.success){const ie={...H.comment,AUTHOR_NAME:e.NOM,AUTHOR_AVATAR:e.IMG_PROFIL,TIME_AGO:"à l'instant"};S(de=>({...de,[P]:[ie,...de[P]||[]]})),T(de=>({...de,[P]:""})),s(de=>de.map(Qe=>Qe.id===P?{...Qe,comment_count:(parseInt(Qe.comment_count)||0)+1}:Qe))}else console.error("Erreur lors de l'ajout du commentaire:",H.error),alert("Erreur lors de l'ajout du commentaire")}catch(H){console.error("Erreur lors de l'ajout du commentaire:",H),alert("Erreur lors de l'ajout du commentaire")}},I=(P,O)=>{x({commentId:P,postId:O}),U(!0)},B=async()=>{if(!p||!e)return;const{commentId:P,postId:O}=p;try{console.log("Suppression du commentaire:",P,"par utilisateur:",e.ID_USER);const H=await Oe.deleteComment(P,e.ID_USER);H.success?(console.log("Commentaire supprimé avec succès"),S(ie=>{const de={...ie};return de[O]&&(de[O]=de[O].filter(Qe=>Qe.ID_COMMENT!==P)),de}),s(ie=>ie.map(de=>de.id===O?{...de,comment_count:Math.max(0,(parseInt(de.comment_count)||0)-1)}:de)),U(!1),x(null)):console.error("Erreur lors de la suppression du commentaire:",H.error)}catch(H){console.error("Erreur lors de la suppression du commentaire:",H)}},le=()=>{U(!1),x(null)},ae=async P=>{if(e)try{(await Tr.toggleLike(e.ID_USER,P)).success&&(a(H=>({...H,[P]:!H[P]})),s(H=>H.map(ie=>{if(ie.id===P){const de=l[P]?parseInt(ie.like_count)-1:parseInt(ie.like_count)+1;return{...ie,like_count:de}}return ie})))}catch(O){console.error("Erreur lors du like:",O)}};return i?n.createElement("div",{className:"p-4"},"Chargement des recommandations..."):m?n.createElement("div",{className:"p-4 text-red-500"},m):g?n.createElement(gn,{user:g,onBack:X}):n.createElement("div",{className:"p-6"},n.createElement("div",{className:"max-w-3xl mx-auto"}," ",n.createElement("h1",{className:"text-2xl font-bold text-gray-800 mb-6"},"Posts Recommandés"),n.createElement("div",{className:"space-y-6"},i?n.createElement("div",{className:"flex justify-center items-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-2 text-gray-600"},"Chargement des recommandations...")):o.map(P=>n.createElement("div",{key:P.id,className:"bg-white rounded-lg shadow-lg overflow-hidden relative"}," ",n.createElement("button",{onClick:()=>G(P.id),className:`absolute top-3 right-3 z-10 p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-all ${h[P.id]?"text-blue-600":"text-gray-500"}`},n.createElement("svg",{className:"w-5 h-5",fill:h[P.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 18V5z"}))),n.createElement("div",{className:"p-4"},n.createElement("div",{className:"flex items-center space-x-3 mb-3"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer hover:ring-2 hover:ring-blue-400 transition-all",onClick:()=>ce(P.user_id,P.username,`http://localhost/localbook/backend/api/Uploads/users/${P.profile_photo}`)},n.createElement("img",{src:`http://localhost/localbook/backend/api/Uploads/users/${P.profile_photo}`,alt:P.username,className:"w-full h-full object-cover",onError:O=>O.target.src="https://via.placeholder.com/40"})),n.createElement("div",null,n.createElement("div",{className:"font-medium cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>ce(P.user_id,P.username,`http://localhost/localbook/backend/api/Uploads/users/${P.profile_photo}`)},P.username),n.createElement("div",{className:"text-xs text-gray-500"},new Date(P.created_at).toLocaleDateString()))),P.content&&n.createElement("p",{className:"text-gray-700 mb-3"},P.content),n.createElement("div",{className:"flex flex-wrap gap-2"},P.type&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},P.type),P.city&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},P.city),P.neighborhood&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},P.neighborhood),P.duration&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},P.duration),P.price&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},P.price,"€"),P.surface&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},P.surface,"m²"),P.rooms&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},P.rooms," pièces"),P.state&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},P.state==="equipped"||P.state==="meuble"?"Meublé":"Non meublé"),P.equipment&&P.equipment.split(",").map((O,H)=>O&&O.trim()&&n.createElement("span",{key:H,className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},O.trim())))),n.createElement("div",{className:"px-3"},P.images&&P.images.length>0&&n.createElement("div",{className:"flex w-full gap-1 flex-wrap mb-3"}," ",P.images.map((O,H)=>n.createElement("div",{key:"img-"+H,className:`overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer h-60 ${P.images.length===1?"w-full":P.images.length===2?"w-[calc(50%-2px)]":P.images.length===3?"w-[calc(33.333%-3px)]":"w-[calc(25%-3px)]"}`,onClick:()=>R("image",`http://localhost/localbook/backend/api/Uploads/posts/${O}`)},n.createElement("img",{src:`http://localhost/localbook/backend/api/Uploads/posts/${O}`,alt:`Post image ${H+1}`,className:"w-full h-full object-cover bg-gray-100",onError:ie=>{console.log("❌ Erreur de chargement image:",O),ie.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"},onLoad:()=>{console.log("✅ Image chargée avec succès:",O)}})))),P.video&&n.createElement("div",{className:"w-full"},n.createElement("div",{className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer w-full h-80",onClick:()=>R("video",`http://localhost/localbook/backend/api/Uploads/posts/${P.video}`)},n.createElement("video",{src:`http://localhost/localbook/backend/api/Uploads/posts/${P.video}`,className:"w-full h-full object-cover bg-black",controls:!0,onError:()=>{console.log("❌ Erreur de chargement vidéo:",P.video)},onLoadedData:()=>{console.log("✅ Vidéo chargée avec succès:",P.video)}})))),n.createElement("div",{className:"px-4 py-2 border-t border-gray-100"},n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"flex space-x-4"},n.createElement("button",{className:`flex items-center space-x-1 ${l[P.id]?"text-red-600":"text-gray-500"} hover:text-red-600`,onClick:()=>ae(P.id)},n.createElement("svg",{className:`w-5 h-5 ${l[P.id]?"text-red-600 fill-current":"text-gray-500"}`,fill:l[P.id]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",null,P.like_count||0)),n.createElement("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-600",onClick:()=>re(P.id)},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",null,P.comment_count||0))))),"                ",t[P.id]&&n.createElement("div",{className:"mt-2 border-t pt-2 px-2 pb-3"},w[P.id]&&w[P.id].length>0?[...w[P.id]].sort((O,H)=>new Date(O.DATE_COMMENTS)-new Date(H.DATE_COMMENTS)).map(O=>n.createElement("div",{key:O.ID_COMMENT,className:"flex items-start space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},n.createElement("img",{src:O.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${O.AUTHOR_AVATAR}`:"https://via.placeholder.com/32",alt:O.AUTHOR_NAME,className:"w-full h-full object-cover",onError:H=>H.target.src="https://via.placeholder.com/32"})),n.createElement("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm border border-gray-100"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",{className:"font-medium text-xs text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>ce(O.ID_USER,O.AUTHOR_NAME,O.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${O.AUTHOR_AVATAR}`:"https://via.placeholder.com/32")},O.AUTHOR_NAME),e&&O.ID_USER===e.ID_USER&&n.createElement("button",{onClick:()=>I(O.ID_COMMENT,P.id),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",title:"Supprimer ce commentaire"},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("p",{className:"text-sm text-gray-700 mt-1"},O.CONTENT),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},O.TIME_AGO)))):n.createElement("p",{className:"text-sm text-gray-500 my-2"},"Aucun commentaire pour le moment"),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:e!=null&&e.IMG_PROFIL?`http://localhost/localbook/backend/api/Uploads/users/${e.IMG_PROFIL}`:"https://via.placeholder.com/32",alt:"Vous",className:"w-full h-full object-cover",onError:O=>O.target.src="https://via.placeholder.com/32"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border rounded-full py-1 px-3 pr-10 text-sm",placeholder:"Ajouter un commentaire...",value:C[P.id]||"",onChange:O=>K(P.id,O.target.value),onKeyPress:O=>O.key==="Enter"&&b(P.id)}),n.createElement("button",{className:"absolute right-2 top-1 text-blue-500",onClick:()=>b(P.id)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})))))))))),$&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:V},n.createElement("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center"},n.createElement("button",{onClick:V,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"w-full h-full flex items-center justify-center",onClick:P=>P.stopPropagation()},J.type==="image"?n.createElement("img",{src:J.src,alt:"Image agrandie",className:"max-w-full max-h-full object-contain cursor-pointer",onClick:V}):J.type==="video"?n.createElement("video",{src:J.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full object-contain",onClick:P=>P.stopPropagation()}):null))),N&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le commentaire"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce commentaire ? Cette action est irréversible.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:le},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:B},"Supprimer"))))))}const zn="http://localhost/localbook/backend/api",kt={updateProfile:async(e,t,r,l,a)=>{try{const o=new FormData;o.append("NOM",t.name),o.append("USERNAME",t.username),o.append("BIO",t.bio),o.append("VILLE",t.city),o.append("STATUT",t.status),o.append("AGE",t.age),o.append("DATE_NAISSANCE",t.birthday),o.append("EMAIL",t.email),o.append("TELE",t.phone),r&&o.append("IMG_PROFIL",r),l&&o.append("IMG_COUVERT",l),a&&o.append("CIN_IMG",a);const s=await fetch(`${zn}/users/update.php?userId=${e}`,{method:"POST",body:o}),i=await s.json();if(!s.ok)throw new Error(i.error||`HTTP error! status: ${s.status}`);return i}catch(o){return console.error("Erreur lors de la mise à jour du profil:",o),{success:!1,error:o.message||"Erreur serveur"}}},getUserProfile:async e=>{try{const t=await fetch(`${zn}/users/get_profile.php?userId=${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Erreur lors de la récupération du profil:",t),{success:!1,error:t.message||"Erreur serveur"}}},getProfileImageUrl(e){return e?`${zn}/Uploads/users/${e}`:"https://via.placeholder.com/150"},getCoverImageUrl(e){return e?`${zn}/Uploads/users/${e}`:"https://via.placeholder.com/1200x300"},getCinImageUrl(e){return e?`${zn}/Uploads/${e}`:null}};function Ch(){const{user:e}=it(),[t,r]=f.useState(!1),[l,a]=f.useState(!1),[o,s]=f.useState(!1),[i,c]=f.useState("publications"),[m,E]=f.useState(""),[h,v]=f.useState(""),[w,S]=f.useState({}),[C,T]=f.useState({}),[g,u]=f.useState(""),[p,x]=f.useState(""),[N,U]=f.useState(""),[$,j]=f.useState(""),[J,Q]=f.useState(""),[ce,X]=f.useState(""),[R,V]=f.useState(""),[ee,G]=f.useState(""),[re,z]=f.useState([]),[K,b]=f.useState([]),[I,B]=f.useState(null),[le,ae]=f.useState([]),[P,O]=f.useState(null),[H,ie]=f.useState([]),[de,Qe]=f.useState(!1),[tt,_]=f.useState([]),[D,te]=f.useState([]),[fe,ge]=f.useState(!1),[ze,vn]=f.useState(!1),[mr,En]=f.useState({}),[dr,xn]=f.useState(new Set),[fr,Ur]=f.useState(new Set),[Cl,Ar]=f.useState(null),[$t,pr]=f.useState(!1),[hr,yn]=f.useState({type:null,src:null}),[wn,Nn]=f.useState(!1),[jr,bn]=f.useState(null),[F,Mt]=f.useState({name:e?e.NOM:"",username:e?`@${e.NOM.toLowerCase().replace(/\s+/g,"")}`:"",coverPhoto:e&&e.IMG_COUVERT?kt.getCoverImageUrl(e.IMG_COUVERT):"https://via.placeholder.com/1200x300",avatar:e&&e.IMG_PROFIL?kt.getProfileImageUrl(e.IMG_PROFIL):"https://via.placeholder.com/150",cinImage:e&&e.CIN_IMG?kt.getCinImageUrl(e.CIN_IMG):null,cinNumber:e?e.CIN_NUM:"",bio:"",joinDate:e&&e.DATE_INSCRIPTION?`Membre depuis ${new Date(e.DATE_INSCRIPTION).getFullYear()}`:"Membre depuis Longtemps",stats:{posts:0,followers:0,following:0},status:"",city:"",age:"",email:e?e.EMAIL:"",phone:"",website:"",birthday:""}),[oe,pe]=f.useState({...F}),[Pl,kn]=f.useState(null),[Ya,Sn]=f.useState(null),[Ja,Cn]=f.useState(null),[Ll,Ft]=f.useState(F.avatar),[Xa,Or]=f.useState(F.coverPhoto),[Pn,Ln]=f.useState(F.cinImage),Ml=tt.filter(d=>d.name.toLowerCase().includes(m.toLowerCase())),Tl=D.filter(d=>d.name.toLowerCase().includes(h.toLowerCase())),y=(d,k)=>{console.log("Opening media modal:",{type:d,src:k}),yn({type:d,src:k}),pr(!0)},M=()=>{console.log("Closing media modal"),pr(!1),yn({type:null,src:null})},L=async()=>{if(e){Qe(!0);try{const d=await Ae.getUserAnnonces(e.ID_USER);d.success&&(ie(d.annonces),Mt(k=>({...k,stats:{...k.stats,posts:d.annonces.length}})))}catch(d){console.error("Erreur lors du chargement des annonces utilisateur:",d)}finally{Qe(!1)}}},Y=async()=>{if(e)try{const d=await kt.getUserProfile(e.ID_USER);d.success&&Mt(k=>({...k,name:d.user.NOM||"",username:d.user.NOM?`@${d.user.NOM.toLowerCase().replace(/\s+/g,"")}`:"",bio:d.user.BIO||"",status:d.user.STATUT||"",city:d.user.VILLE||"",age:d.user.AGE||"",email:d.user.EMAIL||"",phone:d.user.TELE||"",birthday:d.user.DATE_NAISSANCE||"",cinNumber:d.user.CIN_NUM||"",joinDate:d.user.DATE_INSCRIPTION?`Membre depuis ${new Date(d.user.DATE_INSCRIPTION).getFullYear()}`:"Membre depuis 2024",avatar:d.user.IMG_PROFIL?kt.getProfileImageUrl(d.user.IMG_PROFIL):k.avatar,coverPhoto:d.user.IMG_COUVERT?kt.getCoverImageUrl(d.user.IMG_COUVERT):k.coverPhoto,cinImage:d.user.CIN_IMG?kt.getCinImageUrl(d.user.CIN_IMG):null}))}catch(d){console.error("Erreur lors du chargement du profil utilisateur:",d)}},Z=async()=>{if(e){ge(!0);try{const d=await xt.getFollowers(e.ID_USER);d.success?(_(d.followers),Mt(k=>({...k,stats:{...k.stats,followers:d.followers.length}})),await Ce(d.followers)):console.error("Erreur lors du chargement des followers:",d.error)}catch(d){console.error("Erreur lors du chargement des followers:",d)}finally{ge(!1)}}},Ce=async d=>{if(!(!e||!d.length))try{const k=d.map(async be=>{const Bt=await xt.checkFollowStatus(e.ID_USER,be.id);return{followerId:be.id,isFollowing:Bt.success?Bt.is_following:!1}}),q=await Promise.all(k),ue={};q.forEach(be=>{ue[be.followerId]=be.isFollowing}),En(ue)}catch(k){console.error("Erreur lors de la vérification des statuts de suivi:",k)}},_e=async()=>{if(e){vn(!0);try{const d=await xt.getFollowing(e.ID_USER);d.success?(te(d.following),Mt(k=>({...k,stats:{...k.stats,following:d.following.length}}))):console.error("Erreur lors du chargement des following:",d.error)}catch(d){console.error("Erreur lors du chargement des following:",d)}finally{vn(!1)}}},Vt=async d=>{if(!(!e||dr.has(d.id))){xn(k=>new Set([...k,d.id]));try{const k=mr[d.id];let q;k?q=await xt.unfollow(e.ID_USER,d.id):q=await xt.follow(e.ID_USER,d.id),q.success?(En(ue=>({...ue,[d.id]:!k})),await _e()):console.error("Erreur lors du toggle follow:",q.error)}catch(k){console.error("Erreur lors du toggle follow:",k)}finally{xn(k=>{const q=new Set(k);return q.delete(d.id),q})}}},Za=async d=>{if(!(!e||fr.has(d.id))){Ur(k=>new Set([...k,d.id]));try{const k=await xt.unfollow(e.ID_USER,d.id);k.success?(await _e(),await Z()):console.error("Erreur lors de l'unfollow:",k.error)}catch(k){console.error("Erreur lors de l'unfollow:",k)}finally{Ur(k=>{const q=new Set(k);return q.delete(d.id),q})}}},eo=d=>{Ar(d)},Ld=()=>{Ar(null)};f.useEffect(()=>{e&&(Y(),L(),Z(),_e())},[e]),f.useEffect(()=>{pe({...F}),Ft(F.avatar),Or(F.coverPhoto)},[F]),f.useEffect(()=>{const d=()=>{window.scrollY>200?r(!0):r(!1)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]);const Md=d=>{const k=d.target.files[0];if(k){kn(k);const q=new FileReader;q.onloadend=()=>{Ft(q.result)},q.readAsDataURL(k)}},Td=d=>{const k=d.target.files[0];if(k){Sn(k);const q=new FileReader;q.onloadend=()=>{Or(q.result)},q.readAsDataURL(k)}},Ti=d=>{const k=d.target.files[0];if(k){Cn(k);const q=new FileReader;q.onloadend=()=>{Ln(q.result)},q.readAsDataURL(k)}},_d=async d=>{d.preventDefault();try{const k=await kt.updateProfile(e.ID_USER,{name:oe.name,username:oe.username,bio:oe.bio,status:oe.status,city:oe.city,age:oe.age,birthday:oe.birthday,email:oe.email,phone:oe.phone},Pl,Ya,Ja);k.success?(Mt({...F,...oe,avatar:k.user.IMG_PROFIL?kt.getProfileImageUrl(k.user.IMG_PROFIL):F.avatar,coverPhoto:k.user.IMG_COUVERT?kt.getCoverImageUrl(k.user.IMG_COUVERT):F.coverPhoto}),s(!1),kn(null),Sn(null),Cn(null),Y()):alert("Erreur lors de la mise à jour du profil : "+k.error)}catch(k){console.error("Erreur lors de la mise à jour du profil:",k),alert("Une erreur est survenue lors de la mise à jour du profil")}},gr=()=>{pe({...F}),Ft(F.avatar),Or(F.coverPhoto),Ln(F.cinImage),s(!0)},_i=()=>{pe({...F}),Ft(F.avatar),Or(F.coverPhoto),Ln(F.cinImage),s(!1),kn(null),Sn(null),Cn(null)},Dr=d=>{re.includes(d)?z(re.filter(k=>k!==d)):z([...re,d])},Rd=d=>{if(d.target.files){const k=Array.from(d.target.files),q=k.map(ue=>URL.createObjectURL(ue));b(ue=>[...ue,...q]),ae(ue=>[...ue,...k])}},Id=d=>{if(d.target.files&&d.target.files[0]){const k=d.target.files[0];B(URL.createObjectURL(k)),O(k)}},Ud=async d=>{if(d.preventDefault(),!e){alert("Vous devez être connecté pour publier une annonce");return}try{const k={ID_USER:e.ID_USER,TYPE_LOC:g,VILLE:p,QUARTIER:N,DUREE:$==="courte"?"courte durée":"longue durée",PRIX:J,SURFACE:ce,NBRE_PIECE:R,ETAT:ee==="equipped"?"meuble":"non_meuble",DESCRIPTION:"",equipements:re},q=await Ae.createAnnonce(k,le,P);q.success?(a(!1),u(""),x(""),U(""),j(""),Q(""),X(""),V(""),G(""),z([]),b([]),B(null),ae([]),O(null),await L(),alert("Annonce créée avec succès !")):alert("Erreur lors de la création de l'annonce: "+q.error)}catch(k){console.error("Erreur lors de la création de l'annonce:",k),alert("Une erreur est survenue lors de la publication de l'annonce")}},[Mn,to]=f.useState({}),[Ri,Ii]=f.useState({}),[Ui,ro]=f.useState(null),[Ad,no]=f.useState(!1),jd=async d=>{try{const k=await Oe.getComments(d);k.success?to(q=>({...q,[d]:k.comments})):console.error("Erreur lors du chargement des commentaires:",k.error)}catch(k){console.error("Erreur lors du chargement des commentaires:",k)}},Od=(d,k)=>{Ii(q=>({...q,[d]:k}))},Ai=async d=>{var q;if(!e){alert("Vous devez être connecté pour commenter");return}const k=(q=Ri[d])==null?void 0:q.trim();if(k)try{const ue=await Oe.addComment(e.ID_USER,d,k);ue.success?(to(be=>({...be,[d]:[ue.comment,...be[d]||[]]})),Ii(be=>({...be,[d]:""}))):alert("Erreur lors de l'ajout du commentaire: "+ue.error)}catch(ue){console.error("Erreur lors de l'ajout du commentaire:",ue),alert("Erreur lors de l'ajout du commentaire")}},Dd=(d,k)=>{ro({commentId:d,postId:k}),no(!0)},zd=async()=>{if(!Ui||!e)return;const{commentId:d,postId:k}=Ui;try{console.log("Suppression du commentaire:",d,"par utilisateur:",e.ID_USER);const q=await Oe.deleteComment(d,e.ID_USER);q.success?(console.log("Commentaire supprimé avec succès"),to(ue=>{const be={...ue};return be[k]&&(be[k]=be[k].filter(Bt=>Bt.ID_COMMENT!==d)),be}),ie(ue=>ue.map(be=>be.ID_POST===k?{...be,COMMENTS_COUNT:Math.max(0,(parseInt(be.COMMENTS_COUNT)||0)-1)}:be)),no(!1),ro(null)):console.error("Erreur lors de la suppression du commentaire:",q.error)}catch(q){console.error("Erreur lors de la suppression du commentaire:",q)}},$d=()=>{no(!1),ro(null)},Fd=d=>{const k=!w[d];S(q=>({...q,[d]:k})),k&&(!Mn[d]||Mn[d].length===0)&&jd(d)},Vd=async d=>{if(!e){alert("Vous devez être connecté pour liker un post");return}try{const k=await Tr.toggleLike(e.ID_USER,d);k.success?(T(q=>({...q,[d]:k.isLiked})),ie(q=>q.map(ue=>ue.ID_POST===d?{...ue,LIKES_COUNT:k.totalLikes}:ue))):console.error("Erreur lors du like:",k.error)}catch(k){console.error("Erreur lors du like:",k)}};f.useEffect(()=>{e&&H.length>0&&Tr.getMultipleLikeStatus(e.ID_USER,H.map(d=>d.ID_POST)).then(d=>{if(d.success){const k={};Object.entries(d.likesStatus).forEach(([q,ue])=>{k[q]=ue.isLiked}),T(k)}})},[e,H]);const Bd=d=>{if(!e){alert("Vous devez être connecté pour supprimer un post");return}bn(d),Nn(!0)},Hd=async()=>{if(jr)try{const d=await Ae.deleteAnnonce(jr,e.ID_USER);d.success?(ie(k=>k.filter(q=>q.ID_POST!==jr)),Mt(k=>({...k,stats:{...k.stats,posts:k.stats.posts-1}})),Nn(!1),bn(null),alert("Post supprimé avec succès !")):alert("Erreur lors de la suppression du post : "+d.error)}catch(d){console.error("Erreur lors de la suppression du post:",d),alert("Une erreur est survenue lors de la suppression du post")}},Wd=()=>{Nn(!1),bn(null)};return Cl?n.createElement(gn,{user:Cl,onBack:Ld}):n.createElement("main",{className:"flex-1 overflow-y-auto bg-gray-100 relative"},t&&n.createElement("div",{className:"fixed top-16 left-0 right-0 bg-white shadow-md py-2 px-4 z-10 flex items-center justify-between"},n.createElement("div",{className:"w-8"})," ",n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>y("image",F.avatar),title:"Voir la photo de profil"},n.createElement("img",{src:F.avatar,alt:F.name,className:"w-full h-full object-cover",onError:d=>{d.target.src="https://via.placeholder.com/32?text="+(F.name?F.name.charAt(0):"U")}})),n.createElement("h2",{className:"font-medium"},F.name)),n.createElement("div",{className:"w-8"})," "),o&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 overflow-y-auto"},n.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[90vh] overflow-y-auto"},n.createElement("div",{className:"p-5 border-b border-gray-200 sticky top-0 bg-white z-10"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Modifier le profil"),n.createElement("button",{className:"text-gray-500 hover:text-gray-700 transition-colors rounded-full p-1 hover:bg-gray-100",onClick:_i},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),n.createElement("form",{onSubmit:_d,className:"p-6 space-y-6"},n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Photo de couverture"),n.createElement("div",{className:"relative h-40 bg-gray-200 rounded-lg overflow-hidden"},n.createElement("img",{src:Xa,alt:"Couverture",className:"w-full h-full object-cover"}),n.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity"},n.createElement("label",{className:"bg-white text-gray-800 px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors"},n.createElement("span",null,"Changer la photo"),n.createElement("input",{type:"file",accept:"image/*",className:"hidden",onChange:Td}))))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Photo de profil"),n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("div",{className:"relative w-24 h-24 rounded-full overflow-hidden bg-gray-200"},n.createElement("img",{src:Ll,alt:"Avatar",className:"w-full h-full object-cover"}),n.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity"},n.createElement("label",{className:"bg-white text-gray-800 p-1 rounded-full cursor-pointer hover:bg-gray-100 transition-colors"},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})),n.createElement("input",{type:"file",accept:"image/*",className:"hidden",onChange:Md})))),n.createElement("div",{className:"text-sm text-gray-500"},"Cliquez sur l'image pour changer votre photo de profil"))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Image de la carte d'identité"),n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("div",{className:"relative w-32 h-20 rounded-lg overflow-hidden bg-gray-200 border-2 border-dashed border-gray-300"},Pn?n.createElement(n.Fragment,null,n.createElement("img",{src:Pn,alt:"CIN",className:"w-full h-full object-cover"}),n.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity"},n.createElement("label",{className:"bg-white text-gray-800 p-1 rounded cursor-pointer hover:bg-gray-100 transition-colors"},n.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})),n.createElement("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ti})))):n.createElement("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors"},n.createElement("svg",{className:"w-8 h-8 text-gray-400 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})),n.createElement("span",{className:"text-xs text-gray-500 text-center"},"Ajouter CIN"),n.createElement("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ti}))),n.createElement("div",{className:"text-sm text-gray-500"},"Cliquez pour ajouter ou changer l'image de votre carte d'identité"))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-800"},"Informations de base"),n.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nom complet"),n.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.name,onChange:d=>pe({...oe,name:d.target.value}),required:!0})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nom d'utilisateur"),n.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.username,onChange:d=>pe({...oe,username:d.target.value}),required:!0}))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Bio"),n.createElement("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none",value:oe.bio,onChange:d=>pe({...oe,bio:d.target.value})})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Ville"),n.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.city,onChange:d=>pe({...oe,city:d.target.value}),placeholder:"Ex: Paris, Tanger"}))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-800"},"Informations personnelles"),n.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Statut"),n.createElement("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.status,onChange:d=>pe({...oe,status:d.target.value})},n.createElement("option",{value:""},"Sélectionnez votre statut"),n.createElement("option",{value:"proprietaire"},"Propriétaire"),n.createElement("option",{value:"locataire"},"Locataire"),n.createElement("option",{value:"intermediaire"},"Intermédiaire"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Ville"),n.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.city,onChange:d=>pe({...oe,city:d.target.value})})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Âge"),n.createElement("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.age||"",onChange:d=>pe({...oe,age:d.target.value?parseInt(d.target.value,10):""}),min:"18",max:"120"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Date de naissance"),n.createElement("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.birthday,onChange:d=>pe({...oe,birthday:d.target.value})})))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-800"},"Coordonnées"),n.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email"),n.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.email,onChange:d=>pe({...oe,email:d.target.value})})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Téléphone"),n.createElement("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:oe.phone,onChange:d=>pe({...oe,phone:d.target.value})})))),n.createElement("div",{className:"flex justify-end space-x-3 pt-4 border-t"},n.createElement("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:_i},"Annuler"),n.createElement("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},"Enregistrer les modifications"))))),l&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[80vh] overflow-y-auto"},n.createElement("div",{className:"p-5 border-b border-gray-200 sticky top-0 bg-white z-10"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Créer une annonce immobilière"),n.createElement("button",{className:"text-gray-500 hover:text-gray-700 transition-colors rounded-full p-1 hover:bg-gray-100",onClick:()=>a(!1)},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),n.createElement("form",{onSubmit:Ud,className:"p-6"},n.createElement("div",{className:"space-y-6 mb-8"},n.createElement("div",{className:"flex items-center space-x-3 bg-blue-50 p-4 rounded-xl border border-blue-100"},n.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-300 overflow-hidden border-2 border-blue-300"},n.createElement("img",{src:F.avatar,alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("div",{className:"font-semibold text-gray-800 flex items-center"},F.name,n.createElement("svg",{className:"w-5 h-5 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))),n.createElement("div",{className:"text-sm text-blue-600"},"Compte vérifié"))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de bien"),n.createElement("div",{className:"relative"},n.createElement("select",{className:"w-full pl-3 pr-10 py-3 border border-gray-300 bg-white rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 appearance-none transition-colors hover:border-blue-300",value:g,onChange:d=>u(d.target.value),required:!0},n.createElement("option",{value:""},"Sélectionnez un type"),n.createElement("option",{value:"maison"},"Maison"),n.createElement("option",{value:"appartement"},"Appartement"),n.createElement("option",{value:"chambre"},"Chambre")),n.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Ville"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:p,onChange:d=>x(d.target.value),placeholder:"Ex: Paris, Tanger",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Quartier"),n.createElement("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:N,onChange:d=>U(d.target.value),placeholder:"Ex: Bastille, Birchifa",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Type de location"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${$==="courte"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"durationType",value:"courte",checked:$==="courte",onChange:()=>j("courte"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"Courte durée")),n.createElement("label",{className:`relative flex items-center p-3 rounded-xl border ${$==="longue"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"durationType",value:"longue",checked:$==="longue",onChange:()=>j("longue"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("span",{className:"ml-3 text-gray-700"},"Longue durée")))),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Prix (€/mois)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:J,onChange:d=>Q(d.target.value),placeholder:"Ex: 800",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Surface (m²)"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:ce,onChange:d=>X(d.target.value),placeholder:"Ex: 45",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre de pièces"),n.createElement("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 transition-colors hover:border-blue-300",value:R,onChange:d=>V(d.target.value),placeholder:"Ex: 3",required:!0})),n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"État du bien"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${ee==="equipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"equipped",checked:ee==="equipped",onChange:()=>G("equipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Équipé/Meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"Prêt à emménager"))),n.createElement("label",{className:`relative flex items-center p-4 rounded-xl border ${ee==="notEquipped"?"border-blue-500 bg-blue-50":"border-gray-300"} cursor-pointer hover:border-blue-300 transition-colors`},n.createElement("input",{type:"radio",name:"furnishingStatus",value:"notEquipped",checked:ee==="notEquipped",onChange:()=>G("notEquipped"),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),n.createElement("div",{className:"ml-3"},n.createElement("span",{className:"block text-sm font-medium text-gray-700"},"Non équipé/Non meublé"),n.createElement("span",{className:"block text-xs text-gray-500"},"À aménager"))))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Équipements"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("wifi")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("wifi"),onChange:()=>Dr("wifi")}),n.createElement("span",null,"Wi-Fi")),n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("parking")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("parking"),onChange:()=>Dr("parking")}),n.createElement("span",null,"Parking")),n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("garage")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("garage"),onChange:()=>Dr("garage")}),n.createElement("span",null,"Garage")),n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("terrasse")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("terrasse"),onChange:()=>Dr("terrasse")}),n.createElement("span",null,"Terrasse")),n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("ascenseur")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("ascenseur"),onChange:()=>Dr("ascenseur")}),n.createElement("span",null,"Ascenseur")),n.createElement("label",{className:`flex items-center space-x-2 ${re.includes("salleDeSport")?"text-blue-600":"text-gray-600"}`},n.createElement("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:re.includes("salleDeSport"),onChange:()=>Dr("salleDeSport")}),n.createElement("span",null,"Salle de sport")))),n.createElement("div",{className:"space-y-3"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Images"),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl hover:border-blue-400 transition-colors"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger des fichiers"),n.createElement("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:Rd,accept:"image/*"})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF jusqu'à 10MB"))),(K.length>0||I)&&n.createElement("div",{className:"flex w-full gap-0 items-center mt-2"},(()=>[...K,...I?[I]:[]].map((k,q)=>{const ue=I&&k===I;return n.createElement("div",{key:q,className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer flex-1 h-60 relative"},ue?n.createElement("video",{src:k,controls:!0,className:"w-full h-full object-cover bg-black"}):n.createElement("img",{src:k,alt:`Preview ${q}`,className:"w-full h-full object-cover bg-gray-100"}),n.createElement("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1",onClick:()=>{ue?(B(null),O(null)):(b(K.filter((be,Bt)=>Bt!==q)),ae(le.filter((be,Bt)=>Bt!==q)))}},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))}))())),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Vidéo"),n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed hover:border-blue-400 rounded-md"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger une vidéo"),n.createElement("input",{id:"video-upload",name:"video-upload",type:"file",className:"sr-only",accept:"video/*",onChange:Id})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"MP4, MOV jusqu'à 100MB"))),I&&n.createElement("div",{className:"mt-2 relative"},n.createElement("video",{src:I,controls:!0,className:"w-full h-48 object-cover rounded"}),n.createElement("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>B(null)},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})))))),n.createElement("div",{className:"flex justify-end"},n.createElement("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},"Publier"))))),n.createElement("div",{className:"max-w-4xl mx-auto bg-white shadow-sm"},n.createElement("div",{className:"relative"},n.createElement("div",{className:"h-48 bg-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>y("image",F.coverPhoto),title:"Cliquez pour agrandir la photo de couverture"},n.createElement("img",{src:F.coverPhoto,alt:"Couverture",className:"w-full h-full object-cover",onError:d=>{d.target.src="https://via.placeholder.com/1200x300?text=Photo+de+couverture"}})),n.createElement("div",{className:"absolute bottom-0 left-8 transform translate-y-1/2 border-4 border-white rounded-full overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>y("image",F.avatar),title:"Cliquez pour agrandir la photo de profil"},n.createElement("div",{className:"w-32 h-32 bg-gray-200"},n.createElement("img",{src:F.avatar,alt:F.name,className:"w-full h-full object-cover",onError:d=>{d.target.src="https://via.placeholder.com/150?text="+(F.name?F.name.charAt(0):"U")}})))),n.createElement("div",{className:"mt-16 px-8"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl font-bold"},F.name),n.createElement("p",{className:"text-gray-500"},F.username)),n.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:gr},"Modifier le profil")),F.bio&&n.createElement("p",{className:"mt-4 text-gray-700"},F.bio),n.createElement("div",{className:"flex items-center mt-2 text-gray-600"},F.city&&n.createElement(n.Fragment,null,n.createElement("svg",{className:"w-5 h-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})),n.createElement("span",null,F.city),n.createElement("span",{className:"mx-2"},"•")),n.createElement("span",null,F.joinDate)),n.createElement("div",{className:"flex space-x-6 mt-4 pt-4 border-t"},n.createElement("div",null,n.createElement("span",{className:"font-bold"},F.stats.posts),n.createElement("span",{className:"text-gray-500 ml-1"},"Publications")),n.createElement("div",null,n.createElement("span",{className:"font-bold"},F.stats.followers),n.createElement("span",{className:"text-gray-500 ml-1"},"Abonnés")),n.createElement("div",null,n.createElement("span",{className:"font-bold"},F.stats.following),n.createElement("span",{className:"text-gray-500 ml-1"},"Abonnements")))),n.createElement("div",{className:"mt-6 border-t"},n.createElement("div",{className:"flex px-4"},n.createElement("button",{className:`px-4 py-3 font-medium ${i==="publications"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>c("publications")},"Publications"),n.createElement("button",{className:`px-4 py-3 font-medium ${i==="abonnés"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>c("abonnés")},"Abonnés"),n.createElement("button",{className:`px-4 py-3 font-medium ${i==="suivis"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>c("suivis")},"Suivi(e)s"),n.createElement("button",{className:`px-4 py-3 font-medium ${i==="apropos"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>c("apropos")},"À propos"))),n.createElement("div",{className:"p-4"},i==="publications"&&n.createElement(n.Fragment,null,n.createElement("div",{className:"bg-white rounded-lg shadow p-4 mb-4"},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>y("image",F.avatar),title:"Voir la photo de profil"},n.createElement("img",{src:F.avatar,alt:"Profile",className:"w-full h-full object-cover",onError:d=>{d.target.src="https://via.placeholder.com/40?text="+(F.name?F.name.charAt(0):"U")}})),n.createElement("input",{type:"text",className:"flex-1 bg-gray-100 rounded-full px-4 py-2",placeholder:"Quoi de neuf ?",onClick:()=>a(!0),readOnly:!0})),n.createElement("div",{className:"flex justify-center mt-3 pt-3 border-t"},n.createElement("button",{className:"flex items-center text-gray-600 hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>a(!0)},n.createElement("svg",{className:"w-5 h-5 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})),"ajouter une Annonce immobilière"))),n.createElement("div",{className:"space-y-4"},de?n.createElement("div",{className:"flex justify-center items-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-2 text-gray-600"},"Chargement de vos annonces...")):H.length===0?n.createElement("div",{className:"text-center py-8 text-gray-500"},n.createElement("p",null,"Vous n'avez pas encore publié d'annonces."),n.createElement("p",{className:"text-sm mt-2"},'Cliquez sur "Quoi de neuf ?" pour créer votre première annonce !')):H.map(d=>n.createElement("div",{key:d.ID_POST,className:"bg-white rounded-lg shadow overflow-hidden relative"},n.createElement("div",{className:"p-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>y("image",F.avatar),title:"Voir la photo de profil"},n.createElement("img",{src:F.avatar,alt:"Profile",className:"w-full h-full object-cover",onError:k=>{k.target.src="https://via.placeholder.com/40?text="+(F.name?F.name.charAt(0):"U")}})),n.createElement("div",null,n.createElement("div",{className:"font-medium"},F.name),n.createElement("div",{className:"text-xs text-gray-500"},d.TIME_AGO))),n.createElement("button",{className:"text-gray-400 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-red-50",onClick:()=>Bd(d.ID_POST),title:"Supprimer ce post"},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("div",{className:"mt-3 mb-3 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},d.TYPE_TEXT&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},d.TYPE_TEXT),d.LOCALISATION&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},d.LOCALISATION),d.QUARTIER&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},d.QUARTIER),d.TYPE_DUREE&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},d.TYPE_DUREE),d.PRIX_FORMATTED&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},d.PRIX_FORMATTED),d.SUPERFICIE&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},d.SUPERFICIE,"m²"),d.NB_PIECES&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},d.NB_PIECES," pièces"),d.MEUBLE_TEXT&&n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},d.MEUBLE_TEXT),d.EQUIPEMENTS&&d.EQUIPEMENTS.length>0&&d.EQUIPEMENTS.map((k,q)=>k&&k.trim()&&n.createElement("span",{key:q,className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},k.trim()))))),n.createElement("div",{className:"px-3"}," ",d.IMAGES&&d.IMAGES.length>0&&n.createElement("div",{className:"flex w-full gap-1 flex-wrap mb-3"}," ",d.IMAGES.map((k,q)=>n.createElement("div",{key:"img-"+q,className:`overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer h-60 ${d.IMAGES.length===1?"w-full":d.IMAGES.length===2?"w-[calc(50%-2px)]":d.IMAGES.length===3?"w-[calc(33.333%-3px)]":"w-[calc(25%-3px)]"}`,onClick:()=>y("image",Ae.getImageUrl(k))},n.createElement("img",{src:Ae.getImageUrl(k),alt:`Annonce image ${q+1}`,className:"w-full h-full object-cover bg-gray-100",onError:ue=>{console.log("❌ Erreur de chargement image:",k),ue.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"},onLoad:()=>{console.log("✅ Image chargée avec succès:",k)}})))),d.VIDEO&&n.createElement("div",{className:"w-full"},n.createElement("div",{className:"overflow-hidden shadow-lg hover:scale-105 transition-transform cursor-pointer w-full h-80",onClick:()=>y("video",Ae.getVideoUrl(d.VIDEO))},n.createElement("video",{src:Ae.getVideoUrl(d.VIDEO),className:"w-full h-full object-cover bg-black",controls:!0,onError:()=>{console.log("❌ Erreur de chargement vidéo:",d.VIDEO)},onLoadedData:()=>{console.log("✅ Vidéo chargée avec succès:",d.VIDEO)}})))),n.createElement("div",{className:"px-4 py-2 border-t border-gray-100"},n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"flex space-x-4"},n.createElement("button",{className:`flex items-center space-x-1 ${C[d.ID_POST]?"text-red-600":"text-gray-500"} hover:text-red-600`,onClick:()=>{console.log("Like cliqué pour",d.ID_POST),Vd(d.ID_POST)}},n.createElement("svg",{className:`w-5 h-5 ${C[d.ID_POST]?"text-red-600 fill-current":"text-gray-500"}`,fill:C[d.ID_POST]?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),n.createElement("span",null,d.LIKES_COUNT||0)),n.createElement("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-600",onClick:()=>{console.log("Commenter cliqué pour",d.ID_POST),Fd(d.ID_POST)}},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),n.createElement("span",null,d.COMMENTS_COUNT||0))))),w[d.ID_POST]&&n.createElement("div",{className:"bg-gray-50 p-4 border-t"},n.createElement("div",{className:"mb-4 space-y-3"},Mn[d.ID_POST]&&Mn[d.ID_POST].length>0?[...Mn[d.ID_POST]].sort((k,q)=>new Date(k.DATE_COMMENTS)-new Date(q.DATE_COMMENTS)).map(k=>n.createElement("div",{key:k.ID_COMMENT,className:"flex items-start space-x-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:`http://localhost/localbook/backend/api/Uploads/users/${k.AUTHOR_AVATAR}`||"https://via.placeholder.com/40?text=User",alt:k.AUTHOR_NAME,className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("div",{className:"font-medium text-xs text-gray-800 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>eo({id:k.ID_USER,name:k.AUTHOR_NAME,username:k.AUTHOR_NAME,avatar:k.AUTHOR_AVATAR?`http://localhost/localbook/backend/api/Uploads/users/${k.AUTHOR_AVATAR}`:"https://via.placeholder.com/40",bio:`Profil de ${k.AUTHOR_NAME}`,status:"offline"})},k.AUTHOR_NAME),e&&k.ID_USER===e.ID_USER&&n.createElement("button",{onClick:()=>Dd(k.ID_COMMENT,d.ID_POST),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",title:"Supprimer ce commentaire"},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})))),n.createElement("p",{className:"text-sm mt-1"},k.CONTENT),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},k.TIME_AGO)))):n.createElement("p",{className:"text-center text-gray-500 text-sm"},"Aucun commentaire pour le moment")),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("div",{className:"w-8 h-8 rounded-full overflow-hidden"},n.createElement("img",{src:`http://localhost/localbook/backend/api/Uploads/users/${e.IMG_PROFIL}`||"https://via.placeholder.com/40?text=You",alt:"Vous",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex-1 relative"},n.createElement("input",{type:"text",className:"w-full border rounded-full py-1 px-3 pr-10 text-sm",placeholder:"Ajouter un commentaire...",value:Ri[d.ID_POST]||"",onChange:k=>Od(d.ID_POST,k.target.value),onKeyPress:k=>k.key==="Enter"&&Ai(d.ID_POST)}),n.createElement("button",{className:"absolute right-2 top-1 text-blue-500",onClick:()=>Ai(d.ID_POST)},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})))))))))),i==="abonnés"&&n.createElement("div",{className:"bg-white rounded-lg shadow"},n.createElement("div",{className:"p-4 border-b"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"text",className:"w-full px-4 py-2 pl-10 border rounded-lg bg-gray-100",placeholder:"Rechercher parmi les abonnés",value:m,onChange:d=>E(d.target.value)}),n.createElement("svg",{className:"w-5 h-5 text-gray-500 absolute left-3 top-2.5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M8 4a4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})))),n.createElement("div",{className:"p-2"},fe?n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})):Ml.length===0?n.createElement("div",{className:"text-center py-8 text-gray-500"},m?"Aucun abonné trouvé":"Aucun abonné pour le moment"):Ml.map(d=>n.createElement("div",{key:d.id,className:"flex items-center p-2 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>eo(d)},n.createElement("div",{className:"relative mr-3"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-blue-100"},n.createElement("img",{src:d.avatar||"https://via.placeholder.com/40?text="+d.name.charAt(0),alt:d.name,className:"w-full h-full object-cover"})),d.status==="online"&&n.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-500 border-2 border-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"font-medium text-sm text-gray-800 truncate"},d.name),n.createElement("div",{className:"text-xs text-gray-500 flex items-center"},n.createElement("span",{className:`inline-block w-1.5 h-1.5 rounded-full mr-1 ${d.status==="online"?"bg-green-500":"bg-gray-400"}`}),d.status==="online"?"En ligne":"Hors ligne")),n.createElement("button",{className:`ml-2 px-3 py-1 rounded-full text-xs font-medium transition-colors ${dr.has(d.id)?"bg-gray-100 text-gray-400 cursor-not-allowed":mr[d.id]?"bg-red-50 text-red-600 hover:bg-red-100":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,onClick:k=>{k.stopPropagation(),Vt(d)},disabled:dr.has(d.id)},dr.has(d.id)?mr[d.id]?"Suppression...":"Ajout...":mr[d.id]?"Ne plus suivre":"Suivre"))))),i==="suivis"&&n.createElement("div",{className:"bg-white rounded-lg shadow"},n.createElement("div",{className:"p-4 border-b"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"text",className:"w-full px-4 py-2 pl-10 border rounded-lg bg-gray-100",placeholder:"Rechercher parmi les personnes suivies",value:h,onChange:d=>v(d.target.value)}),n.createElement("svg",{className:"w-5 h-5 text-gray-500 absolute left-3 top-2.5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z",clipRule:"evenodd"})))),n.createElement("div",{className:"p-2"},ze?n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})):Tl.length===0?n.createElement("div",{className:"text-center py-8 text-gray-500"},h?"Aucune personne suivie trouvée":"Vous ne suivez personne pour le moment"):Tl.map(d=>n.createElement("div",{key:d.id,className:"flex items-center p-2 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>eo(d)},n.createElement("div",{className:"relative mr-3"},n.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-red-100"},n.createElement("img",{src:d.avatar||"https://via.placeholder.com/40?text="+d.name.charAt(0),alt:d.name,className:"w-full h-full object-cover"})),d.status==="online"&&n.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-500 border-2 border-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"font-medium text-sm text-gray-800 truncate"},d.name),n.createElement("div",{className:"text-xs text-gray-500 flex items-center"},n.createElement("span",{className:`inline-block w-1.5 h-1.5 rounded-full mr-1 ${d.status==="online"?"bg-green-500":"bg-gray-400"}`}),d.status==="online"?"En ligne":"Hors ligne")),n.createElement("button",{className:`ml-2 px-3 py-1 rounded-full text-xs font-medium transition-colors ${fr.has(d.id)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-50 text-red-600 hover:bg-red-100"}`,onClick:k=>{k.stopPropagation(),Za(d)},disabled:fr.has(d.id)},fr.has(d.id)?"Suppression...":"Ne plus suivre"))))),i==="apropos"&&n.createElement("div",{className:"bg-white rounded-lg shadow"},n.createElement("div",{className:"p-6"},n.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"À propos"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},F.city?n.createElement("span",{className:"text-gray-700"},F.city):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter votre ville"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},F.status?n.createElement("span",{className:"text-gray-700"},F.status):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter votre statut"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},F.age?n.createElement("span",{className:"text-gray-700"},F.age," ans"):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter votre âge"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})),n.createElement("div",{className:"flex-1"},F.phone?n.createElement("span",{className:"text-gray-700"},F.phone):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter votre téléphone")))),n.createElement("div",{className:"flex items-center space-x-3 pt-4 border-t"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),n.createElement("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})),n.createElement("div",{className:"flex-1"},F.email?n.createElement("span",{className:"text-gray-700"},F.email):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter votre email"))),n.createElement("div",{className:"flex items-center space-x-3 pt-4 border-t"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"}),n.createElement("path",{d:"M6 8h2v2H6V8zm4 0h4v1h-4V8zm0 2h4v1h-4v-1z"})),n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",null,n.createElement("span",{className:"text-gray-700 font-medium"},"Carte d'identité"),F.cinNumber&&n.createElement("div",{className:"text-sm text-gray-500"},"N° ",F.cinNumber)),F.cinImage?n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:()=>y("image",F.cinImage),title:"Cliquer pour voir l'image CIN"},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),"Voir l'image"):n.createElement("button",{className:"text-blue-600 hover:text-blue-700 text-sm flex items-center",onClick:gr},n.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Ajouter l'image CIN")))),F.birthday&&n.createElement("div",{className:"flex items-center space-x-3 pt-4 border-t"},n.createElement("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-gray-700"},"Né(e) le ",new Date(F.birthday).toLocaleDateString("fr-FR"))))))))),$t&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:M},n.createElement("div",{className:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center"},n.createElement("button",{onClick:M,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},n.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"w-full h-full flex items-center justify-center",onClick:d=>d.stopPropagation()},hr.type==="image"?n.createElement("img",{src:hr.src,alt:"Image agrandie",className:"max-w-full max-h-full object-contain cursor-pointer",onClick:M}):hr.type==="video"?n.createElement("video",{src:hr.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-full object-contain",onClick:d=>d.stopPropagation()}):null))),wn&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le post"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce post ? Cette action est irréversible et supprimera également tous les commentaires et likes associés.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:Wd},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:Hd},"Supprimer"))))),Ad&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},n.createElement("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})))),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Supprimer le commentaire"),n.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Êtes-vous sûr de vouloir supprimer ce commentaire ? Cette action est irréversible.")),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{type:"button",className:"flex-1 bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:$d},"Annuler"),n.createElement("button",{type:"button",className:"flex-1 bg-red-600 border border-transparent rounded-md px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:zd},"Supprimer"))))))}function Ph(){const[e,t]=f.useState("feed"),[r,l]=f.useState(""),a=()=>{t("profile")},o=()=>{t("followers")},s=()=>{t("following")},i=()=>{t("groups")},c=()=>{t("videos")},m=()=>{t("savedPosts")},E=()=>{t("recommendations")},h=()=>{t("feed")},v=w=>{l(w),e!=="feed"&&t("feed")};return n.createElement("div",{className:"flex flex-col h-screen"},n.createElement(ph,{onShowProfile:a,onShowFeed:h,onSearch:v}),n.createElement("div",{className:"flex flex-1 bg-gray-100 overflow-hidden"},e!=="profile"&&n.createElement(ch,{onShowProfile:a,onShowFollowers:o,onShowFollowing:s,onShowGroups:i,onShowVideos:c,onShowSavedPosts:m,onShowRecommendations:E}),n.createElement("div",{className:"flex-1 overflow-y-auto"},e==="profile"&&n.createElement(Ch,null),e==="followers"&&n.createElement(FollowersList,null),e==="following"&&n.createElement(yh,null),e==="groups"&&n.createElement(GroupsList,null),e==="videos"&&n.createElement(bh,null),e==="savedPosts"&&n.createElement(kh,null),e==="recommendations"&&n.createElement(Sh,null),e==="feed"&&n.createElement(Eh,{searchQuery:r})),e!=="profile"&&n.createElement(xh,null)))}function nu(){const{register:e,login:t,error:r,success:l}=it(),[a,o]=f.useState(!0),[s,i]=f.useState({NOM:"",CIN_NUM:"",STATUT:"",TELE:"",EMAIL:"",MDPS:"",confirmPassword:""}),[c,m]=f.useState(null),[E,h]=f.useState(null),[v,w]=f.useState({}),S=Mi(),C=u=>{const{name:p,value:x}=u.target;i({...s,[p]:x}),p==="MDPS"&&(x.length<7?w(N=>({...N,MDPS:"Le mot de passe doit contenir au moins 7 caractères"})):w(N=>({...N,MDPS:""})))},T=u=>{if(u.target.files&&u.target.files[0]){const p=u.target.files[0];if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(p.type)){w(U=>({...U,cinFile:"Seuls les fichiers image (JPG, PNG, GIF) sont autorisés"}));return}if(p.size>10*1024*1024){w(U=>({...U,cinFile:"Le fichier ne doit pas dépasser 10MB"}));return}m(p),console.log("Fichier CIN sélectionné:",p.name,p.size,p.type);const N=new FileReader;N.onloadend=()=>{h(N.result)},N.readAsDataURL(p),w(U=>({...U,cinFile:""}))}},g=async u=>{if(u.preventDefault(),w({}),!a){const N={};if(s.NOM.trim()||(N.NOM="Le nom complet est requis"),s.CIN_NUM.trim()||(N.CIN_NUM="Le numéro de CIN est requis"),s.STATUT.trim()||(N.STATUT="Le statut est requis"),s.TELE.trim()||(N.TELE="Le numéro de téléphone est requis"),s.EMAIL.trim()||(N.EMAIL="L'email est requis"),(!s.MDPS||s.MDPS.length<7)&&(N.MDPS="Le mot de passe doit contenir au moins 7 caractères"),s.confirmPassword?s.MDPS!==s.confirmPassword&&(N.confirmPassword="Les mots de passe ne correspondent pas"):N.confirmPassword="La confirmation du mot de passe est requise",c||(N.cinFile="L'image de la carte nationale est obligatoire"),Object.keys(N).length>0){w(N),console.log("Erreurs de validation:",N),console.log("Fichier CIN:",c);return}}const p=a?{EMAIL:s.EMAIL,MDPS:s.MDPS}:{NOM:s.NOM,CIN_NUM:s.CIN_NUM,STATUT:s.STATUT,TELE:s.TELE,EMAIL:s.EMAIL,MDPS:s.MDPS};console.log("Données à envoyer:",p),console.log("Fichier CIN à envoyer:",c),(a?await t(p):await e(p,c)).success&&(a?setTimeout(()=>S("/home"),1500):setTimeout(()=>{o(!0),i({NOM:"",CIN_NUM:"",STATUT:"",TELE:"",EMAIL:"",MDPS:"",confirmPassword:""}),m(null),h(null),w({})},2e3))};return n.createElement("div",{className:"flex flex-col min-h-screen bg-gray-100"},n.createElement("div",{className:"flex items-center space-x-2 p-4"},n.createElement("img",{src:"../favicon2.png",alt:"Localbook Logo",className:"w-8 h-8"}),n.createElement("h1",{className:"text-xl font-bold text-blue-600"},"Localbook")),n.createElement("div",{className:"flex-1"}),n.createElement("div",{className:"flex flex-1"},n.createElement("div",{className:"hidden md:flex md:w-1/2 items-center justify-center p-8"},n.createElement("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-8"},n.createElement("div",{className:"h-96 overflow-y-auto pr-2 -mr-2"},n.createElement("div",{className:"border rounded-lg p-3 mb-3 shadow-sm"},n.createElement("div",{className:"flex items-center space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/users/684b4af677c51_WhatsApp Image 2024-04-15 à 02.57.52_7d11936d.jpg",alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("p",{className:"font-medium text-sm"},"hamid slaoui"),n.createElement("p",{className:"text-xs text-gray-500"},"il y a 2h"))),n.createElement("div",{className:"mb-2 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"chambre"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"tanger/birchifa"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},"75m²"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},"3 pièces"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},"Meublé"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},"250dh/nuit"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},"Wifi"))),n.createElement("p",{className:"text-sm mb-2"},"recherche pour des locataires de familles"),n.createElement("div",{className:"rounded-lg overflow-hidden h-32 bg-gray-200"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/posts/684b462e08cae_salon-Maroua-Ihrai2.jpg",alt:"Post",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex justify-between mt-2 text-xs text-gray-500"},n.createElement("span",null,"120 j'aime"),n.createElement("span",null,"3 commentaires"))),n.createElement("div",{className:"border rounded-lg p-3 mb-3 shadow-sm"},n.createElement("div",{className:"flex items-center space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/users/684b4b1971e84_téléchargement.jpg",alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("p",{className:"font-medium text-sm"},"Ahmed Benali"),n.createElement("p",{className:"text-xs text-gray-500"},"il y a 4h"))),n.createElement("div",{className:"mb-2 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Vente"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"850000€"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},"120m²"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},"4 pièces"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},"Casablanca"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},"Garage"))),n.createElement("p",{className:"text-sm mb-2"},"Magnifique appartement avec vue sur mer, proche de toutes commodités."),n.createElement("div",{className:"rounded-lg overflow-hidden h-32 bg-gray-200"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/posts/684b462e09170_images.jpg",alt:"Post",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex justify-between mt-2 text-xs text-gray-500"},n.createElement("span",null,"8 j'aime"),n.createElement("span",null,"2 commentaires"))),n.createElement("div",{className:"border rounded-lg p-3 mb-3 shadow-sm"},n.createElement("div",{className:"flex items-center space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/users/684c88d7b25a5_549d374_2015-05-24T140743Z_01_TOR903_RTRIDSP_3_PEOPLE-NASH.jpg",alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("p",{className:"font-medium text-sm"},"Sarah Martin"),n.createElement("p",{className:"text-xs text-gray-500"},"il y a 6h"))),n.createElement("div",{className:"mb-2 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Colocation"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"600€/mois"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},"25m²"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},"1 chambre"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},"Lyon"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},"Wifi"))),n.createElement("p",{className:"text-sm mb-2"},"Chambre dans colocation sympa, ambiance étudiante garantie !"),n.createElement("div",{className:"rounded-lg overflow-hidden h-32 bg-gray-200"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/posts/684b533443bc6_salon-Maroua-Ihrai2.jpg",alt:"Post",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex justify-between mt-2 text-xs text-gray-500"},n.createElement("span",null,"15 j'aime"),n.createElement("span",null,"7 commentaires"))),n.createElement("div",{className:"border rounded-lg p-3 mb-3 shadow-sm"},n.createElement("div",{className:"flex items-center space-x-2 mb-2"},n.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-300 overflow-hidden"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/users/6841efae7f295_1600w-VwJMC37j5jQ.webp",alt:"Profile",className:"w-full h-full object-cover"})),n.createElement("div",null,n.createElement("p",{className:"font-medium text-sm"},"Karim Alaoui"),n.createElement("p",{className:"text-xs text-gray-500"},"il y a 1j"))),n.createElement("div",{className:"mb-2 py-2 border-y border-gray-100"},n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Location"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"2500€/mois"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},"200m²"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},"5 pièces"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},"Rabat"),n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},"Jardin"))),n.createElement("p",{className:"text-sm mb-2"},"Villa spacieuse avec jardin, parfaite pour une famille."),n.createElement("div",{className:"rounded-lg overflow-hidden h-32 bg-gray-200"},n.createElement("img",{src:"http://localhost/localbook/backend/api/Uploads/posts/6841cb3c6df93_5183000.jpg",alt:"Post",className:"w-full h-full object-cover"})),n.createElement("div",{className:"flex justify-between mt-2 text-xs text-gray-500"},n.createElement("span",null,"20 j'aime"),n.createElement("span",null,"5 commentaires")))))),n.createElement("div",{className:"w-full md:w-1/2 flex items-center justify-center p-8"},n.createElement("div",{className:"w-full max-w-md"},n.createElement("div",{className:"text-center mb-10 md:hidden"},n.createElement("div",{className:"flex items-center justify-center space-x-2 mb-4"},n.createElement("img",{src:"../favicon2.png",alt:"Localbook Logo",className:"w-10 h-10"}),n.createElement("h1",{className:"text-3xl font-bold text-blue-600"},"Localbook")),n.createElement("p",{className:"mt-2 text-gray-600"},"Connectez-vous avec vos amis et le monde qui vous entoure.")),n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-8"},n.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},a?"Connexion":"Inscription"),r&&n.createElement("p",{className:"text-red-500 text-center mb-4"},r),l&&n.createElement("p",{className:"text-green-500 text-center mb-4"},l),n.createElement("form",{onSubmit:g,className:"space-y-4"},!a&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700"},"Nom complet"),n.createElement("input",{type:"text",id:"name",name:"NOM",value:s.NOM,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Entrez votre nom complet",required:!0})),n.createElement("div",null,n.createElement("label",{htmlFor:"cin",className:"block text-sm font-medium text-gray-700"},"Numéro de CIN"),n.createElement("input",{type:"text",id:"cin",name:"CIN_NUM",value:s.CIN_NUM,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Entrez votre numéro de CIN",required:!0}),v.CIN_NUM&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.CIN_NUM)),n.createElement("div",null,n.createElement("label",{htmlFor:"statut",className:"block text-sm font-medium text-gray-700"},"Statut ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{id:"statut",name:"STATUT",value:s.STATUT,onChange:C,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${v.STATUT?"border-red-500":"border-gray-300"}`,required:!0},n.createElement("option",{value:""},"Sélectionnez votre statut"),n.createElement("option",{value:"Étudiant"},"Propriétaire"),n.createElement("option",{value:"Employé"},"client"),n.createElement("option",{value:"Entrepreneur"},"intermédiaire")),v.STATUT&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.STATUT)),n.createElement("div",null,n.createElement("label",{htmlFor:"telephone",className:"block text-sm font-medium text-gray-700"},"Numéro de téléphone ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"tel",id:"telephone",name:"TELE",value:s.TELE,onChange:C,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${v.TELE?"border-red-500":"border-gray-300"}`,placeholder:"Ex: 06 12 34 56 78",required:!0}),v.TELE&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.TELE)),n.createElement("div",null,n.createElement("label",{htmlFor:"cin-image",className:"block text-sm font-medium text-gray-700"},"Image de la carte nationale ",n.createElement("span",{className:"text-red-500"},"*")),E?n.createElement("div",{className:"mt-1 relative"},n.createElement("img",{src:E,alt:"Prévisualisation CIN",className:"w-full h-48 object-cover rounded-md border-2 border-gray-300"}),n.createElement("button",{type:"button",onClick:()=>{h(null),m(null);const u=document.getElementById("cin-file-upload"),p=document.getElementById("cin-file-upload-change");u&&(u.value=""),p&&(p.value=""),w(x=>({...x,cinFile:""}))},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none"},n.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"mt-2 text-center"},n.createElement("label",{htmlFor:"cin-file-upload-change",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none"},"Changer l'image",n.createElement("input",{id:"cin-file-upload-change",name:"cin-file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:T})))):n.createElement("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4h-12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"cin-file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none"},n.createElement("span",null,"Télécharger un fichier"),n.createElement("input",{id:"cin-file-upload",name:"cin-file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:T,required:!0})),n.createElement("p",{className:"pl-1"},"ou glisser-déposer")),n.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF jusqu'à 10MB"))),v.cinFile&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.cinFile))),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Email"),n.createElement("input",{type:"email",id:"email",name:"EMAIL",value:s.EMAIL,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Entrez votre email",required:!0})),n.createElement("div",null,n.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Mot de passe ",!a&&n.createElement("span",{className:"text-red-500"},"*"),!a&&n.createElement("span",{className:"text-sm text-gray-500"},"(minimum 7 caractères)")),n.createElement("input",{type:"password",id:"password",name:"MDPS",value:s.MDPS,onChange:C,minLength:a?void 0:7,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${v.MDPS?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre mot de passe",required:!0}),v.MDPS&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.MDPS)),!a&&n.createElement("div",null,n.createElement("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700"},"Confirmer le mot de passe ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:C,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${v.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirmez votre mot de passe",required:!0}),v.confirmPassword&&n.createElement("p",{className:"mt-1 text-sm text-red-600"},v.confirmPassword)),n.createElement("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},a?"Se connecter":"S'inscrire")),n.createElement("div",{className:"mt-6"},n.createElement("div",{className:"relative"},n.createElement("div",{className:"absolute inset-0 flex items-center"},n.createElement("div",{className:"w-full border-t border-gray-300"})))),n.createElement("div",{className:"mt-6 text-center"},n.createElement("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-500",onClick:()=>o(!a)},a?"Pas encore de compte ? Inscrivez-vous":"Déjà un compte ? Connectez-vous")))))))}function Lh(){const{user:e,isAuthenticated:t}=it();return n.createElement(sh,null,n.createElement(lh,null,n.createElement(Hn,{path:"/",element:t&&e?n.createElement(Ql,{to:"/home"}):n.createElement(nu,null)}),n.createElement(Hn,{path:"/login",element:t&&e?n.createElement(Ql,{to:"/home"}):n.createElement(nu,null)}),n.createElement(Hn,{path:"/home",element:t&&e?n.createElement(Ph,null):n.createElement(Ql,{to:"/"})}),n.createElement(Hn,{path:"*",element:n.createElement(Ql,{to:"/"})})))}Do.createRoot(document.getElementById("root")).render(n.createElement(n.StrictMode,null,n.createElement(ih,null,n.createElement(Lh,null))));
